/*! For license information please see main.eb0e8c7f.js.LICENSE.txt */
(()=>{var t={8210:function(t,e,n){var r;!function(i){"use strict";var o,a=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},l=!0,c="[DecimalError] ",u=c+"Invalid argument: ",h=c+"Exponent out of range: ",d=Math.floor,f=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,m=1e7,g=7,y=9007199254740991,v=d(y/g),b={};function _(t,e){var n,r,i,o,a,s,c,u,h=t.constructor,d=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),l?A(e,d):e;if(c=t.d,u=e.d,a=t.e,i=e.e,c=c.slice(),o=a-i){for(o<0?(r=c,o=-o,s=u.length):(r=u,i=a,s=c.length),o>(s=(a=Math.ceil(d/g))>s?a+1:s+1)&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((s=c.length)-(o=u.length)<0&&(o=s,r=u,u=c,c=r),n=0;o;)n=(c[--o]=c[o]+u[o]+n)/m|0,c[o]%=m;for(n&&(c.unshift(n),++i),s=c.length;0==c[--s];)c.pop();return e.d=c,e.e=i,l?A(e,d):e}function w(t,e,n){if(t!==~~t||t<e||t>n)throw Error(u+t)}function x(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",(n=g-r.length)&&(o+=T(n)),o+=r;a=t[e],(n=g-(r=a+"").length)&&(o+=T(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}b.absoluteValue=b.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t},b.comparedTo=b.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(e=0,n=(r=o.d.length)<(i=t.d.length)?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},b.decimalPlaces=b.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*g;if(e=t.d[e])for(;e%10==0;e/=10)n--;return n<0?0:n},b.dividedBy=b.div=function(t){return S(this,new this.constructor(t))},b.dividedToIntegerBy=b.idiv=function(t){var e=this.constructor;return A(S(this,new e(t),0,1),e.precision)},b.equals=b.eq=function(t){return!this.cmp(t)},b.exponent=function(){return O(this)},b.greaterThan=b.gt=function(t){return this.cmp(t)>0},b.greaterThanOrEqualTo=b.gte=function(t){return this.cmp(t)>=0},b.isInteger=b.isint=function(){return this.e>this.d.length-2},b.isNegative=b.isneg=function(){return this.s<0},b.isPositive=b.ispos=function(){return this.s>0},b.isZero=function(){return 0===this.s},b.lessThan=b.lt=function(t){return this.cmp(t)<0},b.lessThanOrEqualTo=b.lte=function(t){return this.cmp(t)<1},b.logarithm=b.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(void 0===t)t=new r(10);else if((t=new r(t)).s<1||t.eq(o))throw Error(c+"NaN");if(n.s<1)throw Error(c+(n.s?"NaN":"-Infinity"));return n.eq(o)?new r(0):(l=!1,e=S(P(n,a),P(t,a),a),l=!0,A(e,i))},b.minus=b.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?j(e,t):_(e,(t.s=-t.s,t))},b.modulo=b.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(!(t=new r(t)).s)throw Error(c+"NaN");return n.s?(l=!1,e=S(n,t,0,1).times(t),l=!0,n.minus(e)):A(new r(n),i)},b.naturalExponential=b.exp=function(){return k(this)},b.naturalLogarithm=b.ln=function(){return P(this)},b.negated=b.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t},b.plus=b.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?_(e,t):j(e,(t.s=-t.s,t))},b.precision=b.sd=function(t){var e,n,r,i=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(u+t);if(e=O(i)+1,n=(r=i.d.length-1)*g+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n},b.squareRoot=b.sqrt=function(){var t,e,n,r,i,o,a,s=this,u=s.constructor;if(s.s<1){if(!s.s)return new u(0);throw Error(c+"NaN")}for(t=O(s),l=!1,0==(i=Math.sqrt(+s))||i==1/0?(((e=x(s.d)).length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=d((t+1)/2)-(t<0||t%2),r=new u(e=i==1/0?"5e"+t:(e=i.toExponential()).slice(0,e.indexOf("e")+1)+t)):r=new u(i.toString()),i=a=(n=u.precision)+3;;)if(r=(o=r).plus(S(s,o,a+2)).times(.5),x(o.d).slice(0,a)===(e=x(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&"4999"==e){if(A(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if("9999"!=e)break;a+=4}return l=!0,A(r,n)},b.times=b.mul=function(t){var e,n,r,i,o,a,s,c,u,h=this,d=h.constructor,f=h.d,p=(t=new d(t)).d;if(!h.s||!t.s)return new d(0);for(t.s*=h.s,n=h.e+t.e,(c=f.length)<(u=p.length)&&(o=f,f=p,p=o,a=c,c=u,u=a),o=[],r=a=c+u;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)s=o[i]+p[r]*f[i-r-1]+e,o[i--]=s%m|0,e=s/m|0;o[i]=(o[i]+e)%m|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,l?A(t,d.precision):t},b.toDecimalPlaces=b.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(w(t,0,a),void 0===e?e=r.rounding:w(e,0,8),A(n,t+O(n)+1,e))},b.toExponential=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=I(r,!0):(w(t,0,a),void 0===e?e=i.rounding:w(e,0,8),n=I(r=A(new i(r),t+1,e),!0,t+1)),n},b.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return void 0===t?I(i):(w(t,0,a),void 0===e?e=o.rounding:w(e,0,8),n=I((r=A(new o(i),t+O(i)+1,e)).abs(),!1,t+O(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},b.toInteger=b.toint=function(){var t=this,e=t.constructor;return A(new e(t),O(t)+1,e.rounding)},b.toNumber=function(){return+this},b.toPower=b.pow=function(t){var e,n,r,i,a,s,u=this,h=u.constructor,f=+(t=new h(t));if(!t.s)return new h(o);if(!(u=new h(u)).s){if(t.s<1)throw Error(c+"Infinity");return u}if(u.eq(o))return u;if(r=h.precision,t.eq(o))return A(u,r);if(s=(e=t.e)>=(n=t.d.length-1),a=u.s,s){if((n=f<0?-f:f)<=y){for(i=new h(o),e=Math.ceil(r/g+4),l=!1;n%2&&M((i=i.times(u)).d,e),0!==(n=d(n/2));)M((u=u.times(u)).d,e);return l=!0,t.s<0?new h(o).div(i):A(i,r)}}else if(a<0)throw Error(c+"NaN");return a=a<0&&1&t.d[Math.max(e,n)]?-1:1,u.s=1,l=!1,i=t.times(P(u,r+12)),l=!0,(i=k(i)).s=a,i},b.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return void 0===t?r=I(i,(n=O(i))<=o.toExpNeg||n>=o.toExpPos):(w(t,1,a),void 0===e?e=o.rounding:w(e,0,8),r=I(i=A(new o(i),t,e),t<=(n=O(i))||n<=o.toExpNeg,t)),r},b.toSignificantDigits=b.tosd=function(t,e){var n=this.constructor;return void 0===t?(t=n.precision,e=n.rounding):(w(t,1,a),void 0===e?e=n.rounding:w(e,0,8)),A(new n(this),t,e)},b.toString=b.valueOf=b.val=b.toJSON=function(){var t=this,e=O(t),n=t.constructor;return I(t,e<=n.toExpNeg||e>=n.toExpPos)};var S=function(){function t(t,e){var n,r=0,i=t.length;for(t=t.slice();i--;)n=t[i]*e+r,t[i]=n%m|0,r=n/m|0;return r&&t.unshift(r),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n){for(var r=0;n--;)t[n]-=r,r=t[n]<e[n]?1:0,t[n]=r*m+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(r,i,o,a){var s,l,u,h,d,f,p,y,v,b,_,w,x,S,k,E,T,P,C=r.constructor,j=r.s==i.s?1:-1,I=r.d,M=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(c+"Division by zero");for(l=r.e-i.e,T=M.length,k=I.length,y=(p=new C(j)).d=[],u=0;M[u]==(I[u]||0);)++u;if(M[u]>(I[u]||0)&&--l,(w=null==o?o=C.precision:a?o+(O(r)-O(i))+1:o)<0)return new C(0);if(w=w/g+2|0,u=0,1==T)for(h=0,M=M[0],w++;(u<k||h)&&w--;u++)x=h*m+(I[u]||0),y[u]=x/M|0,h=x%M|0;else{for((h=m/(M[0]+1)|0)>1&&(M=t(M,h),I=t(I,h),T=M.length,k=I.length),S=T,b=(v=I.slice(0,T)).length;b<T;)v[b++]=0;(P=M.slice()).unshift(0),E=M[0],M[1]>=m/2&&++E;do{h=0,(s=e(M,v,T,b))<0?(_=v[0],T!=b&&(_=_*m+(v[1]||0)),(h=_/E|0)>1?(h>=m&&(h=m-1),1==(s=e(d=t(M,h),v,f=d.length,b=v.length))&&(h--,n(d,T<f?P:M,f))):(0==h&&(s=h=1),d=M.slice()),(f=d.length)<b&&d.unshift(0),n(v,d,b),-1==s&&(s=e(M,v,T,b=v.length))<1&&(h++,n(v,T<b?P:M,b)),b=v.length):0===s&&(h++,v=[0]),y[u++]=h,s&&v[0]?v[b++]=I[S]||0:(v=[I[S]],b=1)}while((S++<k||void 0!==v[0])&&w--)}return y[0]||y.shift(),p.e=l,A(p,a?o+O(p)+1:o)}}();function k(t,e){var n,r,i,a,s,c=0,u=0,d=t.constructor,p=d.precision;if(O(t)>16)throw Error(h+O(t));if(!t.s)return new d(o);for(null==e?(l=!1,s=p):s=e,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(s+=Math.log(f(2,u))/Math.LN10*2+5|0,n=r=i=new d(o),d.precision=s;;){if(r=A(r.times(t),s),n=n.times(++c),x((a=i.plus(S(r,n,s))).d).slice(0,s)===x(i.d).slice(0,s)){for(;u--;)i=A(i.times(i),s);return d.precision=p,null==e?(l=!0,A(i,p)):i}i=a}}function O(t){for(var e=t.e*g,n=t.d[0];n>=10;n/=10)e++;return e}function E(t,e,n){if(e>t.LN10.sd())throw l=!0,n&&(t.precision=n),Error(c+"LN10 precision limit exceeded");return A(new t(t.LN10),e)}function T(t){for(var e="";t--;)e+="0";return e}function P(t,e){var n,r,i,a,s,u,h,d,f,p=1,m=t,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(c+(m.s?"NaN":"-Infinity"));if(m.eq(o))return new y(0);if(null==e?(l=!1,d=v):d=e,m.eq(10))return null==e&&(l=!0),E(y,d);if(d+=10,y.precision=d,r=(n=x(g)).charAt(0),a=O(m),!(Math.abs(a)<15e14))return h=E(y,d+2,v).times(a+""),m=P(new y(r+"."+n.slice(1)),d-10).plus(h),y.precision=v,null==e?(l=!0,A(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=x((m=m.times(t)).d)).charAt(0),p++;for(a=O(m),r>1?(m=new y("0."+n),a++):m=new y(r+"."+n.slice(1)),u=s=m=S(m.minus(o),m.plus(o),d),f=A(m.times(m),d),i=3;;){if(s=A(s.times(f),d),x((h=u.plus(S(s,new y(i),d))).d).slice(0,d)===x(u.d).slice(0,d))return u=u.times(2),0!==a&&(u=u.plus(E(y,d+2,v).times(a+""))),u=S(u,new y(p),d),y.precision=v,null==e?(l=!0,A(u,v)):u;u=h,i+=2}}function C(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);)++r;for(i=e.length;48===e.charCodeAt(i-1);)--i;if(e=e.slice(r,i)){if(i-=r,n=n-r-1,t.e=d(n/g),t.d=[],r=(n+1)%g,n<0&&(r+=g),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=g;r<i;)t.d.push(+e.slice(r,r+=g));e=e.slice(r),r=g-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),l&&(t.e>v||t.e<-v))throw Error(h+n)}else t.s=0,t.e=0,t.d=[0];return t}function A(t,e,n){var r,i,o,a,s,c,u,p,y=t.d;for(a=1,o=y[0];o>=10;o/=10)a++;if((r=e-a)<0)r+=g,i=e,u=y[p=0];else{if((p=Math.ceil((r+1)/g))>=(o=y.length))return t;for(u=o=y[p],a=1;o>=10;o/=10)a++;i=(r%=g)-g+a}if(void 0!==n&&(s=u/(o=f(10,a-i-1))%10|0,c=e<0||void 0!==y[p+1]||u%o,c=n<4?(s||c)&&(0==n||n==(t.s<0?3:2)):s>5||5==s&&(4==n||c||6==n&&(r>0?i>0?u/f(10,a-i):0:y[p-1])%10&1||n==(t.s<0?8:7))),e<1||!y[0])return c?(o=O(t),y.length=1,e=e-o-1,y[0]=f(10,(g-e%g)%g),t.e=d(-e/g)||0):(y.length=1,y[0]=t.e=t.s=0),t;if(0==r?(y.length=p,o=1,p--):(y.length=p+1,o=f(10,g-r),y[p]=i>0?(u/f(10,a-i)%f(10,i)|0)*o:0),c)for(;;){if(0==p){(y[0]+=o)==m&&(y[0]=1,++t.e);break}if(y[p]+=o,y[p]!=m)break;y[p--]=0,o=1}for(r=y.length;0===y[--r];)y.pop();if(l&&(t.e>v||t.e<-v))throw Error(h+O(t));return t}function j(t,e){var n,r,i,o,a,s,c,u,h,d,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),l?A(e,p):e;if(c=t.d,d=e.d,r=e.e,u=t.e,c=c.slice(),a=u-r){for((h=a<0)?(n=c,a=-a,s=d.length):(n=d,r=u,s=c.length),a>(i=Math.max(Math.ceil(p/g),s)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((h=(i=c.length)<(s=d.length))&&(s=i),i=0;i<s;i++)if(c[i]!=d[i]){h=c[i]<d[i];break}a=0}for(h&&(n=c,c=d,d=n,e.s=-e.s),s=c.length,i=d.length-s;i>0;--i)c[s++]=0;for(i=d.length;i>a;){if(c[--i]<d[i]){for(o=i;o&&0===c[--o];)c[o]=m-1;--c[o],c[i]+=m}c[i]-=d[i]}for(;0===c[--s];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(e.d=c,e.e=r,l?A(e,p):e):new f(0)}function I(t,e,n){var r,i=O(t),o=x(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+T(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+T(-i-1)+o,n&&(r=n-a)>0&&(o+=T(r))):i>=a?(o+=T(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+T(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=T(r))),t.s<0?"-"+o:o}function M(t,e){if(t.length>e)return t.length=e,!0}function N(t){if(!t||"object"!==typeof t)throw Error(c+"Object expected");var e,n,r,i=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if(void 0!==(r=t[n=i[e]])){if(!(d(r)===r&&r>=i[e+1]&&r<=i[e+2]))throw Error(u+n+": "+r);this[n]=r}if(void 0!==(r=t[n="LN10"])){if(r!=Math.LN10)throw Error(u+n+": "+r);this[n]=new this(r)}return this}s=function t(e){var n,r,i;function o(t){var e=this;if(!(e instanceof o))return new o(t);if(e.constructor=o,t instanceof o)return e.s=t.s,e.e=t.e,void(e.d=(t=t.d)?t.slice():t);if("number"===typeof t){if(0*t!==0)throw Error(u+t);if(t>0)e.s=1;else{if(!(t<0))return e.s=0,e.e=0,void(e.d=[0]);t=-t,e.s=-1}return t===~~t&&t<1e7?(e.e=0,void(e.d=[t])):C(e,t.toString())}if("string"!==typeof t)throw Error(u+t);if(45===t.charCodeAt(0)?(t=t.slice(1),e.s=-1):e.s=1,!p.test(t))throw Error(u+t);C(e,t)}if(o.prototype=b,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=t,o.config=o.set=N,void 0===e&&(e={}),e)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)e.hasOwnProperty(r=i[n++])||(e[r]=this[r]);return o.config(e),o}(s),s.default=s.Decimal=s,o=new s(1),void 0===(r=function(){return s}.call(e,n,e,t))||(t.exports=r)}()},7283:t=>{"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||t,a),l=n?n+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function a(t,e){0===--t._eventsCount?t._events=new r:delete t._events[e]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},s.prototype.emit=function(t,e,r,i,o,a){var s=n?n+t:t;if(!this._events[s])return!1;var l,c,u=this._events[s],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,i),!0;case 5:return u.fn.call(u.context,e,r,i,o),!0;case 6:return u.fn.call(u.context,e,r,i,o,a),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var d,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,r);break;case 4:u[c].fn.call(u[c].context,e,r,i);break;default:if(!l)for(d=1,l=new Array(h-1);d<h;d++)l[d-1]=arguments[d];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==e||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s},9e3:()=>{!function(){"use strict";function t(e){return this instanceof t?(this._canvas=e="string"==typeof e?document.getElementById(e):e,this._ctx=e.getContext("2d"),this._width=e.width,this._height=e.height,this._max=1,void this.clear()):new t(e)}t.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(t,e){return this._data=t,this},max:function(t){return this._max=t,this},add:function(t){return this._data.push(t),this},clear:function(){return this._data=[],this},radius:function(t,e){e=e||15;var n=this._circle=document.createElement("canvas"),r=n.getContext("2d"),i=this._r=t+e;return n.width=n.height=2*i,r.shadowOffsetX=r.shadowOffsetY=200,r.shadowBlur=e,r.shadowColor="black",r.beginPath(),r.arc(i-200,i-200,t,0,2*Math.PI,!0),r.closePath(),r.fill(),this},gradient:function(t){var e=document.createElement("canvas"),n=e.getContext("2d"),r=n.createLinearGradient(0,0,0,256);for(var i in e.width=1,e.height=256,t)r.addColorStop(i,t[i]);return n.fillStyle=r,n.fillRect(0,0,1,256),this._grad=n.getImageData(0,0,1,256).data,this},draw:function(t){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var e=this._ctx;e.clearRect(0,0,this._width,this._height);for(var n,r=0,i=this._data.length;i>r;r++)n=this._data[r],e.globalAlpha=Math.max(n[2]/this._max,t||.05),e.drawImage(this._circle,n[0]-this._r,n[1]-this._r);var o=e.getImageData(0,0,this._width,this._height);return this._colorize(o.data,this._grad),e.putImageData(o,0,0),this},_colorize:function(t,e){for(var n,r=3,i=t.length;i>r;r+=4)(n=4*t[r])&&(t[r-3]=e[n],t[r-2]=e[n+1],t[r-1]=e[n+2])}},window.simpleheat=t}(),L.HeatLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(t,e){this._latlngs=t,L.setOptions(this,e)},setLatLngs:function(t){return this._latlngs=t,this.redraw()},addLatLng:function(t){return this._latlngs.push(t),this.redraw()},setOptions:function(t){return L.setOptions(this,t),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return!this._heat||this._frame||this._map._animating||(this._frame=L.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(t){this._map=t,this._canvas||this._initCanvas(),t._panes.overlayPane.appendChild(this._canvas),t.on("moveend",this._reset,this),t.options.zoomAnimation&&L.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._canvas),t.off("moveend",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},_initCanvas:function(){var t=this._canvas=L.DomUtil.create("canvas","leaflet-heatmap-layer leaflet-layer"),e=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);t.style[e]="50% 50%";var n=this._map.getSize();t.width=n.x,t.height=n.y;var r=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(t,"leaflet-zoom-"+(r?"animated":"hide")),this._heat=simpleheat(t),this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur),this.options.gradient&&this._heat.gradient(this.options.gradient),this.options.max&&this._heat.max(this.options.max)},_reset:function(){var t=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,t);var e=this._map.getSize();this._heat._width!==e.x&&(this._canvas.width=this._heat._width=e.x),this._heat._height!==e.y&&(this._canvas.height=this._heat._height=e.y),this._redraw()},_redraw:function(){var t,e,n,r,i,o,a,s,l,c=[],u=this._heat._r,h=this._map.getSize(),d=new L.Bounds(L.point([-u,-u]),h.add([u,u])),f=void 0===this.options.max?1:this.options.max,p=void 0===this.options.maxZoom?this._map.getMaxZoom():this.options.maxZoom,m=1/Math.pow(2,Math.max(0,Math.min(p-this._map.getZoom(),12))),g=u/2,y=[],v=this._map._getMapPanePos(),b=v.x%g,_=v.y%g;for(t=0,e=this._latlngs.length;e>t;t++)if(n=this._map.latLngToContainerPoint(this._latlngs[t]),d.contains(n)){i=Math.floor((n.x-b)/g)+2,o=Math.floor((n.y-_)/g)+2,l=(void 0!==this._latlngs[t].alt?this._latlngs[t].alt:void 0!==this._latlngs[t][2]?+this._latlngs[t][2]:1)*m,y[o]=y[o]||[],(r=y[o][i])?(r[0]=(r[0]*r[2]+n.x*l)/(r[2]+l),r[1]=(r[1]*r[2]+n.y*l)/(r[2]+l),r[2]+=l):y[o][i]=[n.x,n.y,l]}for(t=0,e=y.length;e>t;t++)if(y[t])for(a=0,s=y[t].length;s>a;a++)(r=y[t][a])&&c.push([Math.round(r[0]),Math.round(r[1]),Math.min(r[2],f)]);this._heat.data(c).draw(this.options.minOpacity),this._frame=null},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._getCenterOffset(t.center)._multiplyBy(-e).subtract(this._map._getMapPanePos());L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,n,e):this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(n)+" scale("+e+")"}}),L.heatLayer=function(t,e){return new L.HeatLayer(t,e)}},228:function(t,e){!function(t){"use strict";var e="1.9.4";function n(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(e in i=arguments[n])t[e]=i[e];return t}var r=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function i(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var r=n.call(arguments,2);return function(){return t.apply(e,r.length?r.concat(n.call(arguments)):arguments)}}var o=0;function a(t){return"_leaflet_id"in t||(t._leaflet_id=++o),t._leaflet_id}function s(t,e,n){var r,i,o,a;return a=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(t.apply(n,arguments),setTimeout(a,e),r=!0)},o}function l(t,e,n){var r=e[1],i=e[0],o=r-i;return t===r&&n?t:((t-i)%o+o)%o+i}function c(){return!1}function u(t,e){if(!1===e)return t;var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function h(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function d(t){return h(t).split(/\s+/)}function f(t,e){for(var n in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?r(t.options):{}),e)t.options[n]=e[n];return t.options}function p(t,e,n){var r=[];for(var i in t)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(t[i]));return(e&&-1!==e.indexOf("?")?"&":"?")+r.join("&")}var m=/\{ *([\w_ -]+) *\}/g;function g(t,e){return t.replace(m,(function(t,n){var r=e[n];if(void 0===r)throw new Error("No value provided for variable "+t);return"function"===typeof r&&(r=r(e)),r}))}var y=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function v(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var w=0;function x(t){var e=+new Date,n=Math.max(0,16-(e-w));return w=e+n,window.setTimeout(t,n)}var S=window.requestAnimationFrame||_("RequestAnimationFrame")||x,k=window.cancelAnimationFrame||_("CancelAnimationFrame")||_("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function O(t,e,n){if(!n||S!==x)return S.call(window,i(t,e));t.call(e)}function E(t){t&&k.call(window,t)}var T={__proto__:null,extend:n,create:r,bind:i,get lastId(){return o},stamp:a,throttle:s,wrapNum:l,falseFn:c,formatNum:u,trim:h,splitWords:d,setOptions:f,getParamString:p,template:g,isArray:y,indexOf:v,emptyImageUrl:b,requestFn:S,cancelFn:k,requestAnimFrame:O,cancelAnimFrame:E};function P(){}function C(t){if("undefined"!==typeof L&&L&&L.Mixin){t=y(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}P.extend=function(t){var e=function(){f(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,o=r(i);for(var a in o.constructor=e,e.prototype=o,this)Object.prototype.hasOwnProperty.call(this,a)&&"prototype"!==a&&"__super__"!==a&&(e[a]=this[a]);return t.statics&&n(e,t.statics),t.includes&&(C(t.includes),n.apply(null,[o].concat(t.includes))),n(o,t),delete o.statics,delete o.includes,o.options&&(o.options=i.options?r(i.options):{},n(o.options,t.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},P.include=function(t){var e=this.prototype.options;return n(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},P.mergeOptions=function(t){return n(this.prototype.options,t),this},P.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"===typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var A={on:function(t,e,n){if("object"===typeof t)for(var r in t)this._on(r,t[r],e);else for(var i=0,o=(t=d(t)).length;i<o;i++)this._on(t[i],e,n);return this},off:function(t,e,n){if(arguments.length)if("object"===typeof t)for(var r in t)this._off(r,t[r],e);else{t=d(t);for(var i=1===arguments.length,o=0,a=t.length;o<a;o++)i?this._off(t[o]):this._off(t[o],e,n)}else delete this._events;return this},_on:function(t,e,n,r){if("function"===typeof e){if(!1===this._listens(t,e,n)){n===this&&(n=void 0);var i={fn:e,ctx:n};r&&(i.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(i)}}else console.warn("wrong listener type: "+typeof e)},_off:function(t,e,n){var r,i,o;if(this._events&&(r=this._events[t]))if(1!==arguments.length)if("function"===typeof e){var a=this._listens(t,e,n);if(!1!==a){var s=r[a];this._firingCount&&(s.fn=c,this._events[t]=r=r.slice()),r.splice(a,1)}}else console.warn("wrong listener type: "+typeof e);else{if(this._firingCount)for(i=0,o=r.length;i<o;i++)r[i].fn=c;delete this._events[t]}},fire:function(t,e,r){if(!this.listens(t,r))return this;var i=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var l=o[a],c=l.fn;l.once&&this.off(t,c,l.ctx),c.call(l.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(t,e,n,r){"string"!==typeof t&&console.warn('"string" type argument expected');var i=e;"function"!==typeof e&&(r=!!e,i=void 0,n=void 0);var o=this._events&&this._events[t];if(o&&o.length&&!1!==this._listens(t,i,n))return!0;if(r)for(var a in this._eventParents)if(this._eventParents[a].listens(t,e,n,r))return!0;return!1},_listens:function(t,e,n){if(!this._events)return!1;var r=this._events[t]||[];if(!e)return!!r.length;n===this&&(n=void 0);for(var i=0,o=r.length;i<o;i++)if(r[i].fn===e&&r[i].ctx===n)return i;return!1},once:function(t,e,n){if("object"===typeof t)for(var r in t)this._on(r,t[r],e,!0);else for(var i=0,o=(t=d(t)).length;i<o;i++)this._on(t[i],e,n,!0);return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[a(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[a(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};A.addEventListener=A.on,A.removeEventListener=A.clearAllEventListeners=A.off,A.addOneTimeEventListener=A.once,A.fireEvent=A.fire,A.hasEventListeners=A.listens;var j=P.extend(A);function I(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var M=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function N(t,e,n){return t instanceof I?t:y(t)?new I(t[0],t[1]):void 0===t||null===t?t:"object"===typeof t&&"x"in t&&"y"in t?new I(t.x,t.y):new I(t,e,n)}function D(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function R(t,e){return!t||t instanceof D?t:new D(t,e)}function z(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function F(t,e){return t instanceof z?t:new z(t,e)}function B(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function U(t,e,n){return t instanceof B?t:y(t)&&"object"!==typeof t[0]?3===t.length?new B(t[0],t[1],t[2]):2===t.length?new B(t[0],t[1]):null:void 0===t||null===t?t:"object"===typeof t&&"lat"in t?new B(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new B(t,e,n)}I.prototype={clone:function(){return new I(this.x,this.y)},add:function(t){return this.clone()._add(N(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(N(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new I(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new I(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=M(this.x),this.y=M(this.y),this},distanceTo:function(t){var e=(t=N(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=N(t)).x===this.x&&t.y===this.y},contains:function(t){return t=N(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},D.prototype={extend:function(t){var e,n;if(!t)return this;if(t instanceof I||"number"===typeof t[0]||"x"in t)e=n=N(t);else if(e=(t=R(t)).min,n=t.max,!e||!n)return this;return this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=e.clone(),this.max=n.clone()),this},getCenter:function(t){return N((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return N(this.min.x,this.max.y)},getTopRight:function(){return N(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"===typeof t[0]||t instanceof I?N(t):R(t))instanceof D?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=R(t);var e=this.min,n=this.max,r=t.min,i=t.max,o=i.x>=e.x&&r.x<=n.x,a=i.y>=e.y&&r.y<=n.y;return o&&a},overlaps:function(t){t=R(t);var e=this.min,n=this.max,r=t.min,i=t.max,o=i.x>e.x&&r.x<n.x,a=i.y>e.y&&r.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)},pad:function(t){var e=this.min,n=this.max,r=Math.abs(e.x-n.x)*t,i=Math.abs(e.y-n.y)*t;return R(N(e.x-r,e.y-i),N(n.x+r,n.y+i))},equals:function(t){return!!t&&(t=R(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},z.prototype={extend:function(t){var e,n,r=this._southWest,i=this._northEast;if(t instanceof B)e=t,n=t;else{if(!(t instanceof z))return t?this.extend(U(t)||F(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return r||i?(r.lat=Math.min(e.lat,r.lat),r.lng=Math.min(e.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new B(e.lat,e.lng),this._northEast=new B(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,r=Math.abs(e.lat-n.lat)*t,i=Math.abs(e.lng-n.lng)*t;return new z(new B(e.lat-r,e.lng-i),new B(n.lat+r,n.lng+i))},getCenter:function(){return new B((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new B(this.getNorth(),this.getWest())},getSouthEast:function(){return new B(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"===typeof t[0]||t instanceof B||"lat"in t?U(t):F(t);var e,n,r=this._southWest,i=this._northEast;return t instanceof z?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=r.lat&&n.lat<=i.lat&&e.lng>=r.lng&&n.lng<=i.lng},intersects:function(t){t=F(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),o=i.lat>=e.lat&&r.lat<=n.lat,a=i.lng>=e.lng&&r.lng<=n.lng;return o&&a},overlaps:function(t){t=F(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),o=i.lat>e.lat&&r.lat<n.lat,a=i.lng>e.lng&&r.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=F(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},B.prototype={equals:function(t,e){return!!t&&(t=U(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+u(this.lat,t)+", "+u(this.lng,t)+")"},distanceTo:function(t){return W.distance(this,U(t))},wrap:function(){return W.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return F([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new B(this.lat,this.lng,this.alt)}};var V={latLngToPoint:function(t,e){var n=this.projection.project(t),r=this.scale(e);return this.transformation._transform(n,r)},pointToLatLng:function(t,e){var n=this.scale(e),r=this.transformation.untransform(t,n);return this.projection.unproject(r)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new D(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?l(t.lng,this.wrapLng,!0):t.lng;return new B(this.wrapLat?l(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),r=e.lat-n.lat,i=e.lng-n.lng;if(0===r&&0===i)return t;var o=t.getSouthWest(),a=t.getNorthEast();return new z(new B(o.lat-r,o.lng-i),new B(a.lat-r,a.lng-i))}},W=n({},V,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,r=t.lat*n,i=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),a=Math.sin((e.lng-t.lng)*n/2),s=o*o+Math.cos(r)*Math.cos(i)*a*a,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),H=6378137,$={R:H,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,t.lat),-n),i=Math.sin(r*e);return new I(this.R*t.lng*e,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(t){var e=180/Math.PI;return new B((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=H*Math.PI;return new D([-t,-t],[t,t])}()};function q(t,e,n,r){if(y(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=r}function G(t,e,n,r){return new q(t,e,n,r)}q.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new I((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var K=n({},W,{code:"EPSG:3857",projection:$,transformation:function(){var t=.5/(Math.PI*$.R);return G(t,.5,-t,.5)}()}),Z=n({},K,{code:"EPSG:900913"});function Y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function X(t,e){var n,r,i,o,a,s,l="";for(n=0,i=t.length;n<i;n++){for(r=0,o=(a=t[n]).length;r<o;r++)l+=(r?"L":"M")+(s=a[r]).x+" "+s.y;l+=e?Lt.svg?"z":"x":""}return l||"M0 0"}var Q=document.documentElement.style,J="ActiveXObject"in window,tt=J&&!document.addEventListener,et="msLaunchUri"in navigator&&!("documentMode"in document),nt=Dt("webkit"),rt=Dt("android"),it=Dt("android 2")||Dt("android 3"),ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),at=rt&&Dt("Google")&&ot<537&&!("AudioNode"in window),st=!!window.opera,lt=!et&&Dt("chrome"),ct=Dt("gecko")&&!nt&&!st&&!J,ut=!lt&&Dt("safari"),ht=Dt("phantom"),dt="OTransition"in Q,ft=0===navigator.platform.indexOf("Win"),pt=J&&"transition"in Q,mt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!it,gt="MozPerspective"in Q,yt=!window.L_DISABLE_3D&&(pt||mt||gt)&&!dt&&!ht,vt="undefined"!==typeof orientation||Dt("mobile"),bt=vt&&nt,_t=vt&&mt,wt=!window.PointerEvent&&window.MSPointerEvent,xt=!(!window.PointerEvent&&!wt),St="ontouchstart"in window||!!window.TouchEvent,kt=!window.L_NO_TOUCH&&(St||xt),Ot=vt&&st,Et=vt&&ct,Tt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Pt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",c,e),window.removeEventListener("testPassiveEventSupport",c,e)}catch(n){}return t}(),Ct=!!document.createElement("canvas").getContext,At=!(!document.createElementNS||!Y("svg").createSVGRect),jt=!!At&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI)}(),It=!At&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"===typeof e.adj}catch(n){return!1}}(),Mt=0===navigator.platform.indexOf("Mac"),Nt=0===navigator.platform.indexOf("Linux");function Dt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Lt={ie:J,ielt9:tt,edge:et,webkit:nt,android:rt,android23:it,androidStock:at,opera:st,chrome:lt,gecko:ct,safari:ut,phantom:ht,opera12:dt,win:ft,ie3d:pt,webkit3d:mt,gecko3d:gt,any3d:yt,mobile:vt,mobileWebkit:bt,mobileWebkit3d:_t,msPointer:wt,pointer:xt,touch:kt,touchNative:St,mobileOpera:Ot,mobileGecko:Et,retina:Tt,passiveEvents:Pt,canvas:Ct,svg:At,vml:It,inlineSvg:jt,mac:Mt,linux:Nt},Rt=Lt.msPointer?"MSPointerDown":"pointerdown",zt=Lt.msPointer?"MSPointerMove":"pointermove",Ft=Lt.msPointer?"MSPointerUp":"pointerup",Bt=Lt.msPointer?"MSPointerCancel":"pointercancel",Ut={touchstart:Rt,touchmove:zt,touchend:Ft,touchcancel:Bt},Vt={touchstart:Qt,touchmove:Xt,touchend:Xt,touchcancel:Xt},Wt={},Ht=!1;function $t(t,e,n){return"touchstart"===e&&Yt(),Vt[e]?(n=Vt[e].bind(this,n),t.addEventListener(Ut[e],n,!1),n):(console.warn("wrong event specified:",e),c)}function qt(t,e,n){Ut[e]?t.removeEventListener(Ut[e],n,!1):console.warn("wrong event specified:",e)}function Gt(t){Wt[t.pointerId]=t}function Kt(t){Wt[t.pointerId]&&(Wt[t.pointerId]=t)}function Zt(t){delete Wt[t.pointerId]}function Yt(){Ht||(document.addEventListener(Rt,Gt,!0),document.addEventListener(zt,Kt,!0),document.addEventListener(Ft,Zt,!0),document.addEventListener(Bt,Zt,!0),Ht=!0)}function Xt(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in e.touches=[],Wt)e.touches.push(Wt[n]);e.changedTouches=[e],t(e)}}function Qt(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Ge(e),Xt(t,e)}function Jt(t){var e,n,r={};for(n in t)e=t[n],r[n]=e&&e.bind?e.bind(t):e;return t=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var te=200;function ee(t,e){t.addEventListener("dblclick",e);var n,r=0;function i(t){if(1===t.detail){if("mouse"!==t.pointerType&&(!t.sourceCapabilities||t.sourceCapabilities.firesTouchEvents)){var i=Ze(t);if(!i.some((function(t){return t instanceof HTMLLabelElement&&t.attributes.for}))||i.some((function(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement}))){var o=Date.now();o-r<=te?2===++n&&e(Jt(t)):n=1,r=o}}}else n=t.detail}return t.addEventListener("click",i),{dblclick:e,simDblclick:i}}function ne(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var re,ie,oe,ae,se,le=Oe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ce=Oe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ue="webkitTransition"===ce||"OTransition"===ce?ce+"End":"transitionend";function he(t){return"string"===typeof t?document.getElementById(t):t}function de(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(t,null);n=r?r[e]:null}return"auto"===n?null:n}function fe(t,e,n){var r=document.createElement(t);return r.className=e||"",n&&n.appendChild(r),r}function pe(t){var e=t.parentNode;e&&e.removeChild(t)}function me(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ge(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ye(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ve(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=xe(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function be(t,e){if(void 0!==t.classList)for(var n=d(e),r=0,i=n.length;r<i;r++)t.classList.add(n[r]);else if(!ve(t,e)){var o=xe(t);we(t,(o?o+" ":"")+e)}}function _e(t,e){void 0!==t.classList?t.classList.remove(e):we(t,h((" "+xe(t)+" ").replace(" "+e+" "," ")))}function we(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function xe(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function Se(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&ke(t,e)}function ke(t,e){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(r)}catch(i){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+r+"(opacity="+e+")"}function Oe(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function Ee(t,e,n){var r=e||new I(0,0);t.style[le]=(Lt.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function Te(t,e){t._leaflet_pos=e,Lt.any3d?Ee(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Pe(t){return t._leaflet_pos||new I(0,0)}if("onselectstart"in document)re=function(){Re(window,"selectstart",Ge)},ie=function(){Fe(window,"selectstart",Ge)};else{var Ce=Oe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);re=function(){if(Ce){var t=document.documentElement.style;oe=t[Ce],t[Ce]="none"}},ie=function(){Ce&&(document.documentElement.style[Ce]=oe,oe=void 0)}}function Ae(){Re(window,"dragstart",Ge)}function je(){Fe(window,"dragstart",Ge)}function Ie(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Me(),ae=t,se=t.style.outlineStyle,t.style.outlineStyle="none",Re(window,"keydown",Me))}function Me(){ae&&(ae.style.outlineStyle=se,ae=void 0,se=void 0,Fe(window,"keydown",Me))}function Ne(t){do{t=t.parentNode}while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function De(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Le={__proto__:null,TRANSFORM:le,TRANSITION:ce,TRANSITION_END:ue,get:he,getStyle:de,create:fe,remove:pe,empty:me,toFront:ge,toBack:ye,hasClass:ve,addClass:be,removeClass:_e,setClass:we,getClass:xe,setOpacity:Se,testProp:Oe,setTransform:Ee,setPosition:Te,getPosition:Pe,get disableTextSelection(){return re},get enableTextSelection(){return ie},disableImageDrag:Ae,enableImageDrag:je,preventOutline:Ie,restoreOutline:Me,getSizedParentNode:Ne,getScale:De};function Re(t,e,n,r){if(e&&"object"===typeof e)for(var i in e)Ve(t,i,e[i],n);else for(var o=0,a=(e=d(e)).length;o<a;o++)Ve(t,e[o],n,r);return this}var ze="_leaflet_events";function Fe(t,e,n,r){if(1===arguments.length)Be(t),delete t[ze];else if(e&&"object"===typeof e)for(var i in e)We(t,i,e[i],n);else if(e=d(e),2===arguments.length)Be(t,(function(t){return-1!==v(e,t)}));else for(var o=0,a=e.length;o<a;o++)We(t,e[o],n,r);return this}function Be(t,e){for(var n in t[ze]){var r=n.split(/\d/)[0];e&&!e(r)||We(t,r,null,null,n)}}var Ue={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ve(t,e,n,r){var i=e+a(n)+(r?"_"+a(r):"");if(t[ze]&&t[ze][i])return this;var o=function(e){return n.call(r||t,e||window.event)},s=o;!Lt.touchNative&&Lt.pointer&&0===e.indexOf("touch")?o=$t(t,e,o):Lt.touch&&"dblclick"===e?o=ee(t,o):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(Ue[e]||e,o,!!Lt.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(o=function(e){e=e||window.event,Je(t,e)&&s(e)},t.addEventListener(Ue[e],o,!1)):t.addEventListener(e,s,!1):t.attachEvent("on"+e,o),t[ze]=t[ze]||{},t[ze][i]=o}function We(t,e,n,r,i){i=i||e+a(n)+(r?"_"+a(r):"");var o=t[ze]&&t[ze][i];if(!o)return this;!Lt.touchNative&&Lt.pointer&&0===e.indexOf("touch")?qt(t,e,o):Lt.touch&&"dblclick"===e?ne(t,o):"removeEventListener"in t?t.removeEventListener(Ue[e]||e,o,!1):t.detachEvent("on"+e,o),t[ze][i]=null}function He(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function $e(t){return Ve(t,"wheel",He),this}function qe(t){return Re(t,"mousedown touchstart dblclick contextmenu",He),t._leaflet_disable_click=!0,this}function Ge(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ke(t){return Ge(t),He(t),this}function Ze(t){if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;)e.push(n),n=n.parentNode;return e}function Ye(t,e){if(!e)return new I(t.clientX,t.clientY);var n=De(e),r=n.boundingClientRect;return new I((t.clientX-r.left)/n.x-e.clientLeft,(t.clientY-r.top)/n.y-e.clientTop)}var Xe=Lt.linux&&Lt.chrome?window.devicePixelRatio:Lt.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Qe(t){return Lt.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Xe:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function Je(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(r){return!1}return n!==t}var tn={__proto__:null,on:Re,off:Fe,stopPropagation:He,disableScrollPropagation:$e,disableClickPropagation:qe,preventDefault:Ge,stop:Ke,getPropagationPath:Ze,getMousePosition:Ye,getWheelDelta:Qe,isExternalTarget:Je,addListener:Re,removeListener:Fe},en=j.extend({run:function(t,e,n,r){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=Pe(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=O(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),Te(this._el,n),this.fire("step")},_complete:function(){E(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),nn=j.extend({options:{crs:K,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=f(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(U(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ce&&Lt.any3d&&!Lt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Re(this._proxy,ue,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,r){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(U(t),e,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,r.zoom):this._tryAnimatedPan(t,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e,r.pan&&r.pan.noMoveStart),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var r=this.getZoomScale(e),i=this.getSize().divideBy(2),o=(t instanceof I?t:this.latLngToContainerPoint(t)).subtract(i).multiplyBy(1-1/r),a=this.containerPointToLatLng(i.add(o));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():F(t);var n=N(e.paddingTopLeft||e.padding||[0,0]),r=N(e.paddingBottomRight||e.padding||[0,0]),i=this.getBoundsZoom(t,!1,n.add(r));if((i="number"===typeof e.maxZoom?Math.min(e.maxZoom,i):i)===1/0)return{center:t.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),i),s=this.project(t.getNorthEast(),i);return{center:this.unproject(a.add(s).divideBy(2).add(o),i),zoom:i}},fitBounds:function(t,e){if(!(t=F(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=N(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new en,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){be(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!Lt.any3d)return this.setView(t,e,n);this._stop();var r=this.project(this.getCenter()),i=this.project(t),o=this.getSize(),a=this._zoom;t=U(t),e=void 0===e?a:e;var s=Math.max(o.x,o.y),l=s*this.getZoomScale(a,e),c=i.distanceTo(r)||1,u=1.42,h=u*u;function d(t){var e=(l*l-s*s+(t?-1:1)*h*h*c*c)/(2*(t?l:s)*h*c),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function f(t){return(Math.exp(t)-Math.exp(-t))/2}function p(t){return(Math.exp(t)+Math.exp(-t))/2}function m(t){return f(t)/p(t)}var g=d(0);function y(t){return s*(p(g)/p(g+u*t))}function v(t){return s*(p(g)*m(g+u*t)-f(g))/h}function b(t){return 1-Math.pow(1-t,1.5)}var _=Date.now(),w=(d(1)-g)/u,x=n.duration?1e3*n.duration:1e3*w*.8;function S(){var n=(Date.now()-_)/x,o=b(n)*w;n<=1?(this._flyToFrame=O(S,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(v(o)/c)),a),this.getScaleZoom(s/y(o),a),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),S.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=F(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,F(t));return n.equals(r)||this.panTo(r,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=N((e=e||{}).paddingTopLeft||e.padding||[0,0]),r=N(e.paddingBottomRight||e.padding||[0,0]),i=this.project(this.getCenter()),o=this.project(t),a=this.getPixelBounds(),s=R([a.min.add(n),a.max.subtract(r)]),l=s.getSize();if(!s.contains(o)){this._enforcingBounds=!0;var c=o.subtract(s.getCenter()),u=s.extend(o).getSize().subtract(l);i.x+=c.x<0?-u.x:u.x,i.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(i),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=e.divideBy(2).round(),a=r.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,r,t):navigator.geolocation.getCurrentPosition(e,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=new B(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(e,r.maxZoom?Math.min(i,r.maxZoom):i)}var o={latlng:e,bounds:n,timestamp:t.timestamp};for(var a in t.coords)"number"===typeof t.coords[a]&&(o[a]=t.coords[a]);this.fire("locationfound",o)}},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),pe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(E(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)pe(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=fe("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new z(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=F(t),n=N(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),l=this.getSize().subtract(n),c=R(this.project(s,r),this.project(a,r)).getSize(),u=Lt.any3d?this.options.zoomSnap:1,h=l.x/c.x,d=l.y/c.y,f=e?Math.max(h,d):Math.min(h,d);return r=this.getScaleZoom(f,r),u&&(r=Math.round(r/(u/100))*(u/100),r=e?Math.ceil(r/u)*u:Math.floor(r/u)*u),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new D(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"===typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var r=n.zoom(t*n.scale(e));return isNaN(r)?1/0:r},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(U(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(N(t),e)},layerPointToLatLng:function(t){var e=N(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(U(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(U(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(F(t))},distance:function(t,e){return this.options.crs.distance(U(t),U(e))},containerPointToLayerPoint:function(t){return N(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return N(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(N(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(t)))},mouseEventToContainerPoint:function(t){return Ye(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=he(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Re(e,"scroll",this._onScroll,this),this._containerId=a(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Lt.any3d,be(t,"leaflet-container"+(Lt.touch?" leaflet-touch":"")+(Lt.retina?" leaflet-retina":"")+(Lt.ielt9?" leaflet-oldie":"")+(Lt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=de(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Te(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(be(t.markerPane,"leaflet-zoom-hide"),be(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,n){Te(this._mapPane,new I(0,0));var r=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,n)._move(t,e)._moveEnd(i),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n,r){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),r?n&&n.pinch&&this.fire("zoom",n):((i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return E(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Te(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[a(this._container)]=this;var e=t?Fe:Re;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Lt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){E(this._resizeRequest),this._resizeRequest=O((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,r=[],i="mouseout"===e||"mouseover"===e,o=t.target||t.srcElement,s=!1;o;){if((n=this._targets[a(o)])&&("click"===e||"preclick"===e)&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(i&&!Je(o,t))break;if(r.push(n),i)break}if(o===this._container)break;o=o.parentNode}return r.length||s||i||!this.listens(e,!0)||(r=[this]),r},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(e))){var n=t.type;"mousedown"===n&&Ie(e),this._fireDOMEvent(t,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,r){if("click"===t.type){var i=n({},t);i.type="preclick",this._fireDOMEvent(i,i.type,r)}var o=this._findEventTargets(t,e);if(r){for(var a=[],s=0;s<r.length;s++)r[s].listens(e,!0)&&a.push(r[s]);o=a.concat(o)}if(o.length){"contextmenu"===e&&Ge(t);var l=o[0],c={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(t),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(s=0;s<o.length;s++)if(o[s].fire(e,c,!0),c.originalEvent._stopped||!1===o[s].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Pe(this._mapPane)||new I(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(r)},_latLngBoundsToNewLayerBounds:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return R([this.project(t.getSouthWest(),e)._subtract(r),this.project(t.getNorthWest(),e)._subtract(r),this.project(t.getSouthEast(),e)._subtract(r),this.project(t.getNorthEast(),e)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var r=this.project(t,e),i=this.getSize().divideBy(2),o=new D(r.subtract(i),r.add(i)),a=this._getBoundsOffset(o,n,e);return Math.abs(a.x)<=1&&Math.abs(a.y)<=1?t:this.unproject(r.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),r=new D(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(r,e))},_getBoundsOffset:function(t,e,n){var r=R(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),i=r.min.subtract(t.min),o=r.max.subtract(t.max);return new I(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),r=Lt.any3d?this.options.zoomSnap:1;return r&&(t=Math.round(t/r)*r),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_e(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=fe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=le,n=this._proxy.style[e];Ee(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();Ee(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(e),i=this._getCenterOffset(t)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(O((function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(t,e,!0)}),this),!0)},_animateZoom:function(t,e,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,be(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_e(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rn(t,e){return new nn(t,e)}var on=P.extend({options:{position:"topright"},initialize:function(t){f(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),r=t._controlCorners[n];return be(e,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(e,r.firstChild):r.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),an=function(t){return new on(t)};nn.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=fe("div",e+"control-container",this._container);function r(r,i){var o=e+r+" "+e+i;t[r+i]=fe("div",o,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)pe(this._controlCorners[t]);pe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var sn=on.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,r){return n<r?-1:r<n?1:0}},initialize:function(t,e,n){for(var r in f(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,t)this._addLayer(t[r],r);for(r in e)this._addLayer(e[r],r,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return on.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(a(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){be(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(be(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):_e(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _e(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=fe("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),qe(e),$e(e);var r=this._section=fe("section",t+"-list");n&&(this._map.on("click",this.collapse,this),Re(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var i=this._layersLink=fe("a",t+"-toggle",e);i.href="#",i.title="Layers",i.setAttribute("role","button"),Re(i,{keydown:function(t){13===t.keyCode&&this._expandSafely()},click:function(t){Ge(t),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=fe("div",t+"-base",r),this._separator=fe("div",t+"-separator",r),this._overlaysList=fe("div",t+"-overlays",r),e.appendChild(r)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&a(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;me(this._baseLayersList),me(this._overlaysList),this._layerControlInputs=[];var t,e,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),e=e||r.overlay,t=t||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(t=t&&i>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(a(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(t){var e,n=document.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers_"+a(this),r),this._layerControlInputs.push(e),e.layerId=a(t.layer),Re(e,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+t.name;var o=document.createElement("span");return n.appendChild(o),o.appendChild(e),o.appendChild(i),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var t,e,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?r.push(e):t.checked||i.push(e);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)t=n[i],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&r<e.options.minZoom||void 0!==e.options.maxZoom&&r>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Re(t,"click",Ge),this.expand();var e=this;setTimeout((function(){Fe(t,"click",Ge),e._preventClick=!1}))}}),ln=function(t,e,n){return new sn(t,e,n)},cn=on.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=fe("div",e+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,r,i){var o=fe("a",n,r);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),qe(o),Re(o,"click",Ke),Re(o,"click",i,this),Re(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";_e(this._zoomInButton,e),_e(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(be(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(be(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new cn,this.addControl(this.zoomControl))}));var un=function(t){return new cn(t)},hn=on.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=fe("div",e),r=this.options;return this._addScales(r,e+"-line",n),t.on(r.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=fe("div",e,n)),t.imperial&&(this._iScale=fe("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,r,i=3.2808399*t;i>5280?(e=i/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),dn=function(t){return new hn(t)},fn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',pn=on.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Lt.inlineSvg?fn+" ":"")+"Leaflet</a>"},initialize:function(t){f(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=fe("div","leaflet-control-attribution"),qe(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",(function(){this.removeAttribution(t.layer.getAttribution())}),this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook((function(){this.options.attributionControl&&(new pn).addTo(this)}));var mn=function(t){return new pn(t)};on.Layers=sn,on.Zoom=cn,on.Scale=hn,on.Attribution=pn,an.layers=ln,an.zoom=un,an.scale=dn,an.attribution=mn;var gn=P.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(t,e){return t.addHandler(e,this),this};var yn={Events:A},vn=Lt.touch?"touchstart mousedown":"mousedown",bn=j.extend({options:{clickTolerance:3},initialize:function(t,e,n,r){f(this,r),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Re(this._dragStartTarget,vn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(bn._dragging===this&&this.finishDrag(!0),Fe(this._dragStartTarget,vn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!ve(this._element,"leaflet-zoom-anim")))if(t.touches&&1!==t.touches.length)bn._dragging===this&&this.finishDrag();else if(!(bn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&(bn._dragging=this,this._preventOutline&&Ie(this._element),Ae(),re(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,n=Ne(this._element);this._startPoint=new I(e.clientX,e.clientY),this._startPos=Pe(this._element),this._parentScale=De(n);var r="mousedown"===t.type;Re(document,r?"mousemove":"touchmove",this._onMove,this),Re(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new I(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Ge(t),this._moved||(this.fire("dragstart"),this._moved=!0,be(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),be(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Te(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){_e(document.body,"leaflet-dragging"),this._lastTarget&&(_e(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Fe(document,"mousemove touchmove",this._onMove,this),Fe(document,"mouseup touchend touchcancel",this._onUp,this),je(),ie();var e=this._moved&&this._moving;this._moving=!1,bn._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function _n(t,e,n){var r,i,o,a,s,l,c,u,h,d=[1,4,2,8];for(i=0,c=t.length;i<c;i++)t[i]._code=Mn(t[i],e);for(a=0;a<4;a++){for(u=d[a],r=[],i=0,o=(c=t.length)-1;i<c;o=i++)s=t[i],l=t[o],s._code&u?l._code&u||((h=In(l,s,u,e,n))._code=Mn(h,e),r.push(h)):(l._code&u&&((h=In(l,s,u,e,n))._code=Mn(h,e),r.push(h)),r.push(s));t=r}return t}function wn(t,e){var n,r,i,o,a,s,l,c,u;if(!t||0===t.length)throw new Error("latlngs not passed");Ln(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var h=U([0,0]),d=F(t);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(h=xn(t));var f=t.length,p=[];for(n=0;n<f;n++){var m=U(t[n]);p.push(e.project(U([m.lat-h.lat,m.lng-h.lng])))}for(s=l=c=0,n=0,r=f-1;n<f;r=n++)i=p[n],o=p[r],a=i.y*o.x-o.y*i.x,l+=(i.x+o.x)*a,c+=(i.y+o.y)*a,s+=3*a;u=0===s?p[0]:[l/s,c/s];var g=e.unproject(N(u));return U([g.lat+h.lat,g.lng+h.lng])}function xn(t){for(var e=0,n=0,r=0,i=0;i<t.length;i++){var o=U(t[i]);e+=o.lat,n+=o.lng,r++}return U([e/r,n/r])}var Sn,kn={__proto__:null,clipPolygon:_n,polygonCenter:wn,centroid:xn};function On(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=Pn(t=An(t,n),n)}function En(t,e,n){return Math.sqrt(Dn(t,e,n,!0))}function Tn(t,e,n){return Dn(t,e,n)}function Pn(t,e){var n=t.length,r=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,Cn(t,r,e,0,n-1);var i,o=[];for(i=0;i<n;i++)r[i]&&o.push(t[i]);return o}function Cn(t,e,n,r,i){var o,a,s,l=0;for(a=r+1;a<=i-1;a++)(s=Dn(t[a],t[r],t[i],!0))>l&&(o=a,l=s);l>n&&(e[o]=1,Cn(t,e,n,r,o),Cn(t,e,n,o,i))}function An(t,e){for(var n=[t[0]],r=1,i=0,o=t.length;r<o;r++)Nn(t[r],t[i])>e&&(n.push(t[r]),i=r);return i<o-1&&n.push(t[o-1]),n}function jn(t,e,n,r,i){var o,a,s,l=r?Sn:Mn(t,n),c=Mn(e,n);for(Sn=c;;){if(!(l|c))return[t,e];if(l&c)return!1;s=Mn(a=In(t,e,o=l||c,n,i),n),o===l?(t=a,l=s):(e=a,c=s)}}function In(t,e,n,r,i){var o,a,s=e.x-t.x,l=e.y-t.y,c=r.min,u=r.max;return 8&n?(o=t.x+s*(u.y-t.y)/l,a=u.y):4&n?(o=t.x+s*(c.y-t.y)/l,a=c.y):2&n?(o=u.x,a=t.y+l*(u.x-t.x)/s):1&n&&(o=c.x,a=t.y+l*(c.x-t.x)/s),new I(o,a,i)}function Mn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function Nn(t,e){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function Dn(t,e,n,r){var i,o=e.x,a=e.y,s=n.x-o,l=n.y-a,c=s*s+l*l;return c>0&&((i=((t.x-o)*s+(t.y-a)*l)/c)>1?(o=n.x,a=n.y):i>0&&(o+=s*i,a+=l*i)),s=t.x-o,l=t.y-a,r?s*s+l*l:new I(o,a)}function Ln(t){return!y(t[0])||"object"!==typeof t[0][0]&&"undefined"!==typeof t[0][0]}function Rn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ln(t)}function zn(t,e){var n,r,i,o,a,s,l,c;if(!t||0===t.length)throw new Error("latlngs not passed");Ln(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var u=U([0,0]),h=F(t);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(u=xn(t));var d=t.length,f=[];for(n=0;n<d;n++){var p=U(t[n]);f.push(e.project(U([p.lat-u.lat,p.lng-u.lng])))}for(n=0,r=0;n<d-1;n++)r+=f[n].distanceTo(f[n+1])/2;if(0===r)c=f[0];else for(n=0,o=0;n<d-1;n++)if(a=f[n],s=f[n+1],(o+=i=a.distanceTo(s))>r){l=(o-r)/i,c=[s.x-l*(s.x-a.x),s.y-l*(s.y-a.y)];break}var m=e.unproject(N(c));return U([m.lat+u.lat,m.lng+u.lng])}var Fn={__proto__:null,simplify:On,pointToSegmentDistance:En,closestPointOnSegment:Tn,clipSegment:jn,_getEdgeIntersection:In,_getBitCode:Mn,_sqClosestPointOnSegment:Dn,isFlat:Ln,_flat:Rn,polylineCenter:zn},Bn={project:function(t){return new I(t.lng,t.lat)},unproject:function(t){return new B(t.y,t.x)},bounds:new D([-180,-90],[180,90])},Un={R:6378137,R_MINOR:6356752.314245179,bounds:new D([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,r=t.lat*e,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),a=o*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),o/2);return r=-n*Math.log(Math.max(s,1e-10)),new I(t.lng*e*n,r)},unproject:function(t){for(var e,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),a=Math.exp(-t.y/r),s=Math.PI/2-2*Math.atan(a),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)e=o*Math.sin(s),e=Math.pow((1-e)/(1+e),o/2),s+=c=Math.PI/2-2*Math.atan(a*e)-s;return new B(s*n,t.x*n/r)}},Vn={__proto__:null,LonLat:Bn,Mercator:Un,SphericalMercator:$},Wn=n({},W,{code:"EPSG:3395",projection:Un,transformation:function(){var t=.5/(Math.PI*Un.R);return G(t,.5,-t,.5)}()}),Hn=n({},W,{code:"EPSG:4326",projection:Bn,transformation:G(1/180,1,-1/180,.5)}),$n=n({},V,{projection:Bn,transformation:G(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,r=e.lat-t.lat;return Math.sqrt(n*n+r*r)},infinite:!0});V.Earth=W,V.EPSG3395=Wn,V.EPSG3857=K,V.EPSG900913=Z,V.EPSG4326=Hn,V.Simple=$n;var qn=j.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[a(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[a(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=a(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=a(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return a(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?y(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[a(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=a(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;t=void 0===i.minZoom?t:Math.min(t,i.minZoom),e=void 0===i.maxZoom?e:Math.max(e,i.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Gn=qn.extend({initialize:function(t,e){var n,r;if(f(this,e),this._layers={},t)for(n=0,r=t.length;n<r;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return("number"===typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,r=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,r);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return a(t)}}),Kn=function(t,e){return new Gn(t,e)},Zn=Gn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Gn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Gn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new z;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Yn=function(t,e){return new Zn(t,e)},Xn=P.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){f(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(r,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),r},_setIconStyles:function(t,e){var n=this.options,r=n[e+"Size"];"number"===typeof r&&(r=[r,r]);var i=N(r),o=N("shadow"===e&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),i&&(t.style.width=i.x+"px",t.style.height=i.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Lt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Qn(t){return new Xn(t)}var Jn=Xn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!==typeof Jn.imagePath&&(Jn.imagePath=this._detectIconPath()),(this.options.imagePath||Jn.imagePath)+Xn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(t,e,n){var r=e.exec(t);return r&&r[n]};return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=fe("div","leaflet-default-icon-path",document.body),e=de(t,"background-image")||de(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e))return e;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),tr=gn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new bn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),be(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_e(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=Pe(e._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),l=R(a.min._subtract(s).add(i),a.max._subtract(s).subtract(i));if(!l.contains(o)){var c=N((Math.max(l.max.x,o.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(r);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),Te(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=O(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(E(this._panRequest),this._panRequest=O(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,r=Pe(e._icon),i=e._map.layerPointToLatLng(r);n&&Te(n,r),e._latlng=i,t.latlng=i,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){E(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),er=qn.extend({options:{icon:new Jn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){f(this,e),this._latlng=U(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=U(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),be(n,e),t.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Re(n,"focus",this._panOnFocus,this);var i=t.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(be(i,e),i.alt=""),this._shadow=i,t.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Fe(this._icon,"focus",this._panOnFocus,this),pe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pe(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Te(this._icon,t),this._shadow&&Te(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(be(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),tr)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new tr(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Se(this._icon,t),this._shadow&&Se(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,n=e.iconSize?N(e.iconSize):N(0,0),r=e.iconAnchor?N(e.iconAnchor):N(0,0);t.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function nr(t,e){return new er(t,e)}var rr=qn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return f(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ir=rr.extend({options:{fill:!0,radius:10},initialize:function(t,e){f(this,e),this._latlng=U(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=U(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return rr.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),r=[t+n,e+n];this._pxBounds=new D(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function or(t,e){return new ir(t,e)}var ar=ir.extend({initialize:function(t,e,r){if("number"===typeof e&&(e=n({},r,{radius:e})),f(this,e),this._latlng=U(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new z(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:rr.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===W.distance){var i=Math.PI/180,o=this._mRadius/W.R/i,a=n.project([e+o,t]),s=n.project([e-o,t]),l=a.add(s).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(o*i)-Math.sin(e*i)*Math.sin(c*i))/(Math.cos(e*i)*Math.cos(c*i)))/i;(isNaN(u)||0===u)&&(u=o/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,t-u]).x,this._radiusY=l.y-a.y}else{var h=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});function sr(t,e,n){return new ar(t,e,n)}var lr=rr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){f(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,r=1/0,i=null,o=Dn,a=0,s=this._parts.length;a<s;a++)for(var l=this._parts[a],c=1,u=l.length;c<u;c++){var h=o(t,e=l[c-1],n=l[c],!0);h<r&&(r=h,i=o(t,e,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=U(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new z,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Ln(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=Ln(t),r=0,i=t.length;r<i;r++)n?(e[r]=U(t[r]),this._bounds.extend(e[r])):e[r]=this._convertLatLngs(t[r]);return e},_project:function(){var t=new D;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new I(t,t);this._rawPxBounds&&(this._pxBounds=new D([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,n){var r,i,o=t[0]instanceof B,a=t.length;if(o){for(i=[],r=0;r<a;r++)i[r]=this._map.latLngToLayerPoint(t[r]),n.extend(i[r]);e.push(i)}else for(r=0;r<a;r++)this._projectLatlngs(t[r],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,r,i,o,a,s,l=this._parts;for(e=0,r=0,i=this._rings.length;e<i;e++)for(n=0,o=(s=this._rings[e]).length;n<o-1;n++)(a=jn(s[n],s[n+1],t,n,!0))&&(l[r]=l[r]||[],l[r].push(a[0]),a[1]===s[n+1]&&n!==o-2||(l[r].push(a[1]),r++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,r=t.length;n<r;n++)t[n]=On(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,r,i,o,a,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(r=0,i=(a=(s=this._parts[n]).length)-1;r<a;i=r++)if((e||0!==r)&&En(t,s[i],s[r])<=l)return!0;return!1}});function cr(t,e){return new lr(t,e)}lr._flat=Rn;var ur=lr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=lr.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof B&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){lr.prototype._setLatLngs.call(this,t),Ln(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ln(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new I(e,e);if(t=new D(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,o=this._rings.length;i<o;i++)(r=_n(this._rings[i],t,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,r,i,o,a,s,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,s=this._parts.length;i<s;i++)for(o=0,a=(l=(e=this._parts[i]).length)-1;o<l;a=o++)n=e[o],r=e[a],n.y>t.y!==r.y>t.y&&t.x<(r.x-n.x)*(t.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c||lr.prototype._containsPoint.call(this,t,!0)}});function hr(t,e){return new ur(t,e)}var dr=Zn.extend({initialize:function(t,e){f(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,r,i=y(t)?t:t.features;if(i){for(e=0,n=i.length;e<n;e++)((r=i[e]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var a=fr(t,o);return a?(a.feature=_r(t),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"===typeof e&&(e=e(t.feature)),t.setStyle(e))}});function fr(t,e){var n,r,i,o,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,l=[],c=e&&e.pointToLayer,u=e&&e.coordsToLatLng||mr;if(!s&&!a)return null;switch(a.type){case"Point":return pr(c,t,n=u(s),e);case"MultiPoint":for(i=0,o=s.length;i<o;i++)n=u(s[i]),l.push(pr(c,t,n,e));return new Zn(l);case"LineString":case"MultiLineString":return r=gr(s,"LineString"===a.type?0:1,u),new lr(r,e);case"Polygon":case"MultiPolygon":return r=gr(s,"Polygon"===a.type?1:2,u),new ur(r,e);case"GeometryCollection":for(i=0,o=a.geometries.length;i<o;i++){var h=fr({geometry:a.geometries[i],type:"Feature",properties:t.properties},e);h&&l.push(h)}return new Zn(l);case"FeatureCollection":for(i=0,o=a.features.length;i<o;i++){var d=fr(a.features[i],e);d&&l.push(d)}return new Zn(l);default:throw new Error("Invalid GeoJSON object.")}}function pr(t,e,n,r){return t?t(e,n):new er(n,r&&r.markersInheritOptions&&r)}function mr(t){return new B(t[1],t[0],t[2])}function gr(t,e,n){for(var r,i=[],o=0,a=t.length;o<a;o++)r=e?gr(t[o],e-1,n):(n||mr)(t[o]),i.push(r);return i}function yr(t,e){return void 0!==(t=U(t)).alt?[u(t.lng,e),u(t.lat,e),u(t.alt,e)]:[u(t.lng,e),u(t.lat,e)]}function vr(t,e,n,r){for(var i=[],o=0,a=t.length;o<a;o++)i.push(e?vr(t[o],Ln(t[o])?0:e-1,n,r):yr(t[o],r));return!e&&n&&i.length>0&&i.push(i[0].slice()),i}function br(t,e){return t.feature?n({},t.feature,{geometry:e}):_r(e)}function _r(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var wr={toGeoJSON:function(t){return br(this,{type:"Point",coordinates:yr(this.getLatLng(),t)})}};function xr(t,e){return new dr(t,e)}er.include(wr),ar.include(wr),ir.include(wr),lr.include({toGeoJSON:function(t){var e=!Ln(this._latlngs);return br(this,{type:(e?"Multi":"")+"LineString",coordinates:vr(this._latlngs,e?1:0,!1,t)})}}),ur.include({toGeoJSON:function(t){var e=!Ln(this._latlngs),n=e&&!Ln(this._latlngs[0]),r=vr(this._latlngs,n?2:e?1:0,!0,t);return e||(r=[r]),br(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Gn.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),br(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,r=[];return this.eachLayer((function(e){if(e.toGeoJSON){var i=e.toGeoJSON(t);if(n)r.push(i.geometry);else{var o=_r(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}})),n?br(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var Sr=xr,kr=qn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=F(e),f(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(be(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&ge(this._image),this},bringToBack:function(){return this._map&&ye(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=F(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:fe("img");be(e,"leaflet-image-layer"),this._zoomAnimated&&be(e,"leaflet-zoom-animated"),this.options.className&&be(e,this.options.className),e.onselectstart=c,e.onmousemove=c,e.onload=i(this.fire,this,"load"),e.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Ee(this._image,n,e)},_reset:function(){var t=this._image,e=new D(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();Te(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){Se(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Or=function(t,e,n){return new kr(t,e,n)},Er=kr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:fe("video");if(be(e,"leaflet-image-layer"),this._zoomAnimated&&be(e,"leaflet-zoom-animated"),this.options.className&&be(e,this.options.className),e.onselectstart=c,e.onmousemove=c,e.onloadeddata=i(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),r=[],o=0;o<n.length;o++)r.push(n[o].src);this._url=n.length>0?r:[e.src]}else{y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var a=0;a<this._url.length;a++){var s=fe("source");s.src=this._url[a],e.appendChild(s)}}}});function Tr(t,e,n){return new Er(t,e,n)}var Pr=kr.extend({_initImage:function(){var t=this._image=this._url;be(t,"leaflet-image-layer"),this._zoomAnimated&&be(t,"leaflet-zoom-animated"),this.options.className&&be(t,this.options.className),t.onselectstart=c,t.onmousemove=c}});function Cr(t,e,n){return new Pr(t,e,n)}var Ar=qn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof B||y(t))?(this._latlng=U(t),f(this,e)):(f(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Se(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Se(this._container,1),this.bringToFront(),this.options.interactive&&(be(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Se(this._container,0),this._removeTimeout=setTimeout(i(pe,void 0,this._container),200)):pe(this._container),this.options.interactive&&(_e(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=U(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ge(this._container),this},bringToBack:function(){return this._map&&ye(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof Zn){e=null;var n=this._source._layers;for(var r in n)if(n[r]._map){e=n[r];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else{if(!e.getBounds)throw new Error("Unable to get source layer LatLng.");t=e.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=N(this.options.offset),n=this._getAnchor();this._zoomAnimated?Te(this._container,t.add(n)):e=e.add(t).add(n);var r=this._containerBottom=-e.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(t,e,n,r){var i=e;return i instanceof t||(i=new t(r).setContent(e)),n&&i.setLatLng(n),i}}),qn.include({_initOverlay:function(t,e,n,r){var i=n;return i instanceof t?(f(i,r),i._source=this):(i=e&&!r?e:new t(r,this)).setContent(n),i}});var jr=Ar.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Ar.prototype.openOn.call(this,t)},onAdd:function(t){Ar.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof rr||this._source.on("preclick",He))},onRemove:function(t){Ar.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof rr||this._source.off("preclick",He))},getEvents:function(){var t=Ar.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=fe("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=fe("div",t+"-content-wrapper",e);if(this._contentNode=fe("div",t+"-content",n),qe(e),$e(this._contentNode),Re(e,"contextmenu",He),this._tipContainer=fe("div",t+"-tip-container",e),this._tip=fe("div",t+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=fe("a",t+"-close-button",e);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',Re(r,"click",(function(t){Ge(t),this.close()}),this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var r=t.offsetHeight,i=this.options.maxHeight,o="leaflet-popup-scrolled";i&&r>i?(e.height=i+"px",be(t,o)):_e(t,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();Te(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var t=this._map,e=parseInt(de(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,r=this._containerWidth,i=new I(this._containerLeft,-n-this._containerBottom);i._add(Pe(this._container));var o=t.layerPointToContainerPoint(i),a=N(this.options.autoPanPadding),s=N(this.options.autoPanPaddingTopLeft||a),l=N(this.options.autoPanPaddingBottomRight||a),c=t.getSize(),u=0,h=0;o.x+r+l.x>c.x&&(u=o.x+r-c.x+l.x),o.x-u-s.x<0&&(u=o.x-s.x),o.y+n+l.y>c.y&&(h=o.y+n-c.y+l.y),o.y-h-s.y<0&&(h=o.y-s.y),(u||h)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([u,h]))}},_getAnchor:function(){return N(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ir=function(t,e){return new jr(t,e)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(t,e,n){return this._initOverlay(jr,t,e,n).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),qn.include({bindPopup:function(t,e){return this._popup=this._initOverlay(jr,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Zn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){Ke(t);var e=t.layer||t.target;this._popup._source!==e||e instanceof rr?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Mr=Ar.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Ar.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Ar.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Ar.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=fe("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,r=this._map,i=this._container,o=r.latLngToContainerPoint(r.getCenter()),a=r.layerPointToContainerPoint(t),s=this.options.direction,l=i.offsetWidth,c=i.offsetHeight,u=N(this.options.offset),h=this._getAnchor();"top"===s?(e=l/2,n=c):"bottom"===s?(e=l/2,n=0):"center"===s?(e=l/2,n=c/2):"right"===s?(e=0,n=c/2):"left"===s?(e=l,n=c/2):a.x<o.x?(s="right",e=0,n=c/2):(s="left",e=l+2*(u.x+h.x),n=c/2),t=t.subtract(N(e,n,!0)).add(u).add(h),_e(i,"leaflet-tooltip-right"),_e(i,"leaflet-tooltip-left"),_e(i,"leaflet-tooltip-top"),_e(i,"leaflet-tooltip-bottom"),be(i,"leaflet-tooltip-"+s),Te(i,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Se(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return N(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Nr=function(t,e){return new Mr(t,e)};nn.include({openTooltip:function(t,e,n){return this._initOverlay(Mr,t,e,n).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),qn.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Mr,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Zn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e="function"===typeof t.getElement&&t.getElement();e&&(Re(e,"focus",(function(){this._tooltip._source=t,this.openTooltip()}),this),Re(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e="function"===typeof t.getElement&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",(function(){e._openOnceFlag=!1,e._openTooltip(t)}))}else this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,r=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Dr=Xn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(me(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=N(n.bgPos);e.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Lr(t){return new Dr(t)}Xn.Default=Jn;var Rr=qn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Lt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){f(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),pe(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ge(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ye(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof I?t:new I(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,r=-t(-1/0,1/0),i=0,o=n.length;i<o;i++)e=n[i].style.zIndex,n[i]!==this._container&&e&&(r=t(r,+e));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Lt.ielt9){Se(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(t-i.loaded)/200);Se(i.el,o),o<1?e=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(E(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=fe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(pe(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[t],i=this._map;return r||((r=this._levels[t]={}).el=fe("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=e,r.origin=i.project(i.unproject(i.getPixelOrigin()),t).round(),r.zoom=t,this._setZoomTransform(r,i.getCenter(),i.getZoom()),c(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var r=e.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)pe(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,r){var i=Math.floor(t/2),o=Math.floor(e/2),a=n-1,s=new I(+i,+o);s.z=+a;var l=this._tileCoordsToKey(s),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>r&&this._retainParent(i,o,a,r))},_retainChildren:function(t,e,n,r){for(var i=2*t;i<2*t+2;i++)for(var o=2*e;o<2*e+2;o++){var a=new I(i,o);a.z=n+1;var s=this._tileCoordsToKey(a),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,r){var i=Math.round(e);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var o=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var r=this._map.getZoomScale(n,t.zoom),i=t.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(e,n)).round();Lt.any3d?Ee(t.el,i,r):Te(t.el,i)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],r).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],r).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],r).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),r=e.getZoomScale(n,this._tileZoom),i=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*r);return new D(i.subtract(o),i.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(t),i=this._pxBoundsToTileRange(r),o=i.getCenter(),a=[],s=this.options.keepBuffer,l=new D(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new I(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=i.min.y;h<=i.max.y;h++)for(var d=i.min.x;d<=i.max.x;d++){var f=new I(d,h);if(f.z=this._tileZoom,this._isValidTile(f)){var p=this._tiles[this._tileCoordsToKey(f)];p?p.current=!0:a.push(f)}}if(a.sort((function(t,e){return t.distanceTo(o)-e.distanceTo(o)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<a.length;d++)this._addTile(a[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(t);return F(this.options.bounds).overlaps(r)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),r=t.scaleBy(n),i=r.add(n);return[e.unproject(r,t.z),e.unproject(i,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new z(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new I(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(pe(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){be(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=c,t.onmousemove=c,Lt.ielt9&&this.options.opacity<1&&Se(t,this.options.opacity)},_addTile:function(t,e){var n=this._getTilePos(t),r=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),i(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&O(i(this._tileReady,this,t,null,o)),Te(o,n),this._tiles[r]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var r=this._tileCoordsToKey(t);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(Se(n.el,0),E(this._fadeFrame),this._fadeFrame=O(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(be(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Lt.ielt9||!this._map._fadeAnimated?O(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new I(this._wrapX?l(t.x,this._wrapX):t.x,this._wrapY?l(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new D(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function zr(t){return new Rr(t)}var Fr=Rr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=f(this,e)).detectRetina&&Lt.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"===typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Re(n,"load",i(this._tileOnLoad,this,e,n)),Re(n,"error",i(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:Lt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=r),e["-y"]=r}return g(this._url,n(e,this.options))},_tileOnLoad:function(t,e){Lt.ielt9?setTimeout(i(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var r=this.options.errorTileUrl;r&&e.getAttribute("src")!==r&&(e.src=r),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=c,e.onerror=c,!e.complete)){e.src=b;var n=this._tiles[t].coords;pe(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:n})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",b),Rr.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==b))return Rr.prototype._tileReady.call(this,t,e,n)}});function Br(t,e){return new Fr(t,e)}var Ur=Fr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var r=n({},this.defaultWmsParams);for(var i in e)i in this.options||(r[i]=e[i]);var o=(e=f(this,e)).detectRetina&&Lt.retina?2:1,a=this.getTileSize();r.width=a.x*o,r.height=a.y*o,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,Fr.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,r=R(n.project(e[0]),n.project(e[1])),i=r.min,o=r.max,a=(this._wmsVersion>=1.3&&this._crs===Hn?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),s=Fr.prototype.getTileUrl.call(this,t);return s+p(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});function Vr(t,e){return new Ur(t,e)}Fr.WMS=Ur,Br.wms=Vr;var Wr=qn.extend({options:{padding:.1},initialize:function(t){f(this,t),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),be(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,e),o=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(t,e));Lt.any3d?Ee(this._container,o,n):Te(this._container,o)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new D(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Hr=Wr.extend({options:{tolerance:0},getEvents:function(){var t=Wr.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Wr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Re(t,"mousemove",this._onMouseMove,this),Re(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Re(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){E(this._redrawRequest),delete this._ctx,pe(this._container),Fe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Wr.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),r=Lt.retina?2:1;Te(e,t.min),e.width=r*n.x,e.height=r*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Lt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Wr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[a(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,r=e.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete t._order,delete this._layers[a(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"===typeof t.options.dashArray){var e,n,r=t.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(e=Number(r[n]),isNaN(e))return;i.push(e)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||O(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new D,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)t=r.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,r,i,o,a=t._parts,s=a.length,l=this._ctx;if(s){for(l.beginPath(),n=0;n<s;n++){for(r=0,i=a[n].length;r<i;r++)o=a[n][r],l[r?"lineTo":"moveTo"](o.x,o.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,r=Math.max(Math.round(t._radius),1),i=(Math.max(Math.round(t._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(e.x,e.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,r=this._map.mouseEventToLayerPoint(t),i=this._drawFirst;i;i=i.next)(e=i.layer).options.interactive&&e._containsPoint(r)&&("click"!==t.type&&"preclick"!==t.type||!this._map._draggableMoved(e))&&(n=e);this._fireEvent(!!n&&[n],t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(_e(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,r,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(e)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(t),r&&(be(this._container,"leaflet-interactive"),this._fireEvent([r],t,"mouseover"),this._hoveredLayer=r)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(i((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,r=e.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,r=e.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function $r(t){return Lt.canvas?new Hr(t):null}var qr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Gr={_initContainer:function(){this._container=fe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Wr.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=qr("shape");be(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=qr("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;pe(e),t.removeInteractiveTarget(e),delete this._layers[a(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,r=t.options,i=t._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(e||(e=t._stroke=qr("stroke")),i.appendChild(e),e.weight=r.weight+"px",e.color=r.color,e.opacity=r.opacity,r.dashArray?e.dashStyle=y(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=r.lineCap.replace("butt","flat"),e.joinstyle=r.lineJoin):e&&(i.removeChild(e),t._stroke=null),r.fill?(n||(n=t._fill=qr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),r=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+r+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){ge(t._container)},_bringToBack:function(t){ye(t._container)}},Kr=Lt.vml?qr:Y,Zr=Wr.extend({_initContainer:function(){this._container=Kr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Kr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pe(this._container),Fe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Wr.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),Te(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Kr("path");t.options.className&&be(e,t.options.className),t.options.interactive&&be(e,"leaflet-interactive"),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){pe(t._path),t.removeInteractiveTarget(t._path),delete this._layers[a(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,X(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),r="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",i=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(t,i)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){ge(t._path)},_bringToBack:function(t){ye(t._path)}});function Yr(t){return Lt.svg||Lt.vml?new Zr(t):null}Lt.vml&&Zr.include(Gr),nn.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&$r(t)||Yr(t)}});var Xr=ur.extend({initialize:function(t,e){ur.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=F(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Qr(t,e){return new Xr(t,e)}Zr.create=Kr,Zr.pointsToPath=X,dr.geometryToLayer=fr,dr.coordsToLatLng=mr,dr.coordsToLatLngs=gr,dr.latLngToCoords=yr,dr.latLngsToCoords=vr,dr.getFeature=br,dr.asFeature=_r,nn.mergeOptions({boxZoom:!0});var Jr=gn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Fe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),re(),Ae(),this._startPoint=this._map.mouseEventToContainerPoint(t),Re(document,{contextmenu:Ke,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=fe("div","leaflet-zoom-box",this._container),be(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new D(this._point,this._startPoint),n=e.getSize();Te(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(pe(this._box),_e(this._container,"leaflet-crosshair")),ie(),je(),Fe(document,{contextmenu:Ke,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var e=new z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",Jr),nn.mergeOptions({doubleClickZoom:!0});var ti=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),r=e.options.zoomDelta,i=t.originalEvent.shiftKey?n-r:n+r;"center"===e.options.doubleClickZoom?e.setZoom(i):e.setZoomAround(t.containerPoint,i)}});nn.addInitHook("addHandler","doubleClickZoom",ti),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ei=gn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new bn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}be(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_e(this._map._container,"leaflet-grab"),_e(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=F(this._map.options.maxBounds);this._offsetLimit=R(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-e+n)%t+e-n,o=(r+e+n)%t-e-n,a=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,r=!n.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),r)e.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=i.multiplyBy(a/o),l=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=s.multiplyBy(c/l),h=c/(n.inertiaDeceleration*a),d=u.multiplyBy(-h/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),O((function(){e.panBy(d,{duration:h,easeLinearity:a,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});nn.addInitHook("addHandler","dragging",ei),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ni=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Re(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Fe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,r=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,r=this._panKeys={},i=this.keyCodes;for(e=0,n=i.left.length;e<n;e++)r[i.left[e]]=[-1*t,0];for(e=0,n=i.right.length;e<n;e++)r[i.right[e]]=[t,0];for(e=0,n=i.down.length;e<n;e++)r[i.down[e]]=[0,t];for(e=0,n=i.up.length;e<n;e++)r[i.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,r=this._zoomKeys={},i=this.keyCodes;for(e=0,n=i.zoomIn.length;e<n;e++)r[i.zoomIn[e]]=t;for(e=0,n=i.zoomOut.length;e<n;e++)r[i.zoomOut[e]]=-t},_addHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Fe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,r=this._map;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(e=this._panKeys[n],t.shiftKey&&(e=N(e).multiplyBy(3)),r.options.maxBounds&&(e=r._limitOffset(N(e),r.options.maxBounds)),r.options.worldCopyJump){var i=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(e)));r.panTo(i)}else r.panBy(e)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Ke(t)}}});nn.addInitHook("addHandler","keyboard",ni),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ri=gn.extend({addHooks:function(){Re(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Fe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Qe(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),Ke(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,a=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});nn.addInitHook("addHandler","scrollWheelZoom",ri);var ii=600;nn.mergeOptions({tapHold:Lt.touchNative&&Lt.safari&&Lt.mobile,tapTolerance:15});var oi=gn.extend({addHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Fe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var e=t.touches[0];this._startPos=this._newPos=new I(e.clientX,e.clientY),this._holdTimeout=setTimeout(i((function(){this._cancel(),this._isTapValid()&&(Re(document,"touchend",Ge),Re(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))}),this),ii),Re(document,"touchend touchcancel contextmenu",this._cancel,this),Re(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Fe(document,"touchend",Ge),Fe(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Fe(document,"touchend touchcancel contextmenu",this._cancel,this),Fe(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new I(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});n._simulated=!0,e.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",oi),nn.mergeOptions({touchZoom:Lt.touch,bounceAtZoomLimits:!0});var ai=gn.extend({addHooks:function(){be(this._map._container,"leaflet-touch-zoom"),Re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_e(this._map._container,"leaflet-touch-zoom"),Fe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Re(document,"touchmove",this._onTouchMove,this),Re(document,"touchend touchcancel",this._onTouchEnd,this),Ge(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),E(this._animRequest);var s=i(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=O(s,this,!0),Ge(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,E(this._animRequest),Fe(document,"touchmove",this._onTouchMove,this),Fe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",ai),nn.BoxZoom=Jr,nn.DoubleClickZoom=ti,nn.Drag=ei,nn.Keyboard=ni,nn.ScrollWheelZoom=ri,nn.TapHold=oi,nn.TouchZoom=ai,t.Bounds=D,t.Browser=Lt,t.CRS=V,t.Canvas=Hr,t.Circle=ar,t.CircleMarker=ir,t.Class=P,t.Control=on,t.DivIcon=Dr,t.DivOverlay=Ar,t.DomEvent=tn,t.DomUtil=Le,t.Draggable=bn,t.Evented=j,t.FeatureGroup=Zn,t.GeoJSON=dr,t.GridLayer=Rr,t.Handler=gn,t.Icon=Xn,t.ImageOverlay=kr,t.LatLng=B,t.LatLngBounds=z,t.Layer=qn,t.LayerGroup=Gn,t.LineUtil=Fn,t.Map=nn,t.Marker=er,t.Mixin=yn,t.Path=rr,t.Point=I,t.PolyUtil=kn,t.Polygon=ur,t.Polyline=lr,t.Popup=jr,t.PosAnimation=en,t.Projection=Vn,t.Rectangle=Xr,t.Renderer=Wr,t.SVG=Zr,t.SVGOverlay=Pr,t.TileLayer=Fr,t.Tooltip=Mr,t.Transformation=q,t.Util=T,t.VideoOverlay=Er,t.bind=i,t.bounds=R,t.canvas=$r,t.circle=sr,t.circleMarker=or,t.control=an,t.divIcon=Lr,t.extend=n,t.featureGroup=Yn,t.geoJSON=xr,t.geoJson=Sr,t.gridLayer=zr,t.icon=Qn,t.imageOverlay=Or,t.latLng=U,t.latLngBounds=F,t.layerGroup=Kn,t.map=rn,t.marker=nr,t.point=N,t.polygon=hr,t.polyline=cr,t.popup=Ir,t.rectangle=Qr,t.setOptions=f,t.stamp=a,t.svg=Yr,t.svgOverlay=Cr,t.tileLayer=Br,t.tooltip=Nr,t.transformation=G,t.version=e,t.videoOverlay=Tr;var si=window.L;t.noConflict=function(){return window.L=si,this},window.L=t}(e)},7685:(t,e,n)=>{var r=n(7937)(n(6552),"DataView");t.exports=r},8724:(t,e,n)=>{var r=n(7615),i=n(5051),o=n(2154),a=n(8734),s=n(2662);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},7160:(t,e,n)=>{var r=n(7563),i=n(9935),o=n(4190),a=n(1946),s=n(1714);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},5204:(t,e,n)=>{var r=n(7937)(n(6552),"Map");t.exports=r},4816:(t,e,n)=>{var r=n(7251),i=n(7159),o=n(438),a=n(9394),s=n(6874);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},5387:(t,e,n)=>{var r=n(7937)(n(6552),"Promise");t.exports=r},2070:(t,e,n)=>{var r=n(7937)(n(6552),"Set");t.exports=r},8902:(t,e,n)=>{var r=n(4816),i=n(6179),o=n(6704);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},5538:(t,e,n)=>{var r=n(7160),i=n(4545),o=n(793),a=n(7760),s=n(3892),l=n(6788);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,t.exports=c},9812:(t,e,n)=>{var r=n(6552).Symbol;t.exports=r},2929:(t,e,n)=>{var r=n(6552).Uint8Array;t.exports=r},6600:(t,e,n)=>{var r=n(7937)(n(6552),"WeakMap");t.exports=r},1170:t=>{t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},5295:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}},7529:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},5866:(t,e,n)=>{var r=n(8468);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},1558:t=>{t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},3204:(t,e,n)=>{var r=n(3343),i=n(2777),o=n(4052),a=n(4543),s=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),u=!n&&i(t),h=!n&&!u&&a(t),d=!n&&!u&&!h&&l(t),f=n||u||h||d,p=f?r(t.length,String):[],m=p.length;for(var g in t)!e&&!c.call(t,g)||f&&("length"==g||h&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},149:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},8895:t=>{t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},2587:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},5967:t=>{t.exports=function(t){return t.split("")}},1340:(t,e,n)=>{var r=n(3211);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},1775:(t,e,n)=>{var r=n(5654);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},5652:(t,e,n)=>{var r=n(4664),i=n(6516)(r);t.exports=i},4746:(t,e,n)=>{var r=n(5652);t.exports=function(t,e){var n=!0;return r(t,(function(t,r,i){return n=!!e(t,r,i)})),n}},9742:(t,e,n)=>{var r=n(9841);t.exports=function(t,e,n){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,c=a}return c}},5816:t=>{t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},755:(t,e,n)=>{var r=n(8895),i=n(7116);t.exports=function t(e,n,o,a,s){var l=-1,c=e.length;for(o||(o=i),s||(s=[]);++l<c;){var u=e[l];n>0&&o(u)?n>1?t(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},4258:(t,e,n)=>{var r=n(5906)();t.exports=r},4664:(t,e,n)=>{var r=n(4258),i=n(8673);t.exports=function(t,e){return t&&r(t,e,i)}},2969:(t,e,n)=>{var r=n(5324),i=n(914);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},4262:(t,e,n)=>{var r=n(8895),i=n(4052);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},6913:(t,e,n)=>{var r=n(9812),i=n(4552),o=n(6095),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},7498:t=>{t.exports=function(t,e){return t>e}},7894:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},8468:(t,e,n)=>{var r=n(5816),i=n(644),o=n(4020);t.exports=function(t,e,n){return e===e?o(t,e,n):r(t,i,n)}},5193:(t,e,n)=>{var r=n(6913),i=n(2761);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},6989:(t,e,n)=>{var r=n(6399),i=n(2761);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!==e&&n!==n:r(e,n,o,a,t,s))}},6399:(t,e,n)=>{var r=n(5538),i=n(3668),o=n(9987),a=n(5752),s=n(6924),l=n(4052),c=n(4543),u=n(1268),h="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,m,g,y){var v=l(t),b=l(e),_=v?d:s(t),w=b?d:s(e),x=(_=_==h?f:_)==f,S=(w=w==h?f:w)==f,k=_==w;if(k&&c(t)){if(!c(e))return!1;v=!0,x=!1}if(k&&!x)return y||(y=new r),v||u(t)?i(t,e,n,m,g,y):o(t,e,_,n,m,g,y);if(!(1&n)){var O=x&&p.call(t,"__wrapped__"),E=S&&p.call(e,"__wrapped__");if(O||E){var T=O?t.value():t,P=E?e.value():e;return y||(y=new r),g(T,P,n,m,y)}}return!!k&&(y||(y=new r),a(t,e,n,m,g,y))}},6532:(t,e,n)=>{var r=n(5538),i=n(6989);t.exports=function(t,e,n,o){var a=n.length,s=a,l=!o;if(null==t)return!s;for(t=Object(t);a--;){var c=n[a];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<s;){var u=(c=n[a])[0],h=t[u],d=c[1];if(l&&c[2]){if(void 0===h&&!(u in t))return!1}else{var f=new r;if(o)var p=o(h,d,u,t,e,f);if(!(void 0===p?i(d,h,3,o,f):p))return!1}}return!0}},644:t=>{t.exports=function(t){return t!==t}},6954:(t,e,n)=>{var r=n(1629),i=n(7857),o=n(6686),a=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,h=c.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?d:s).test(a(t))}},5428:(t,e,n)=>{var r=n(6913),i=n(6173),o=n(2761),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},9096:(t,e,n)=>{var r=n(9256),i=n(5029),o=n(3279),a=n(4052),s=n(3932);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},3713:(t,e,n)=>{var r=n(6140),i=n(1143),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},61:t=>{t.exports=function(t,e){return t<e}},8883:(t,e,n)=>{var r=n(5652),i=n(6571);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}},9256:(t,e,n)=>{var r=n(6532),i=n(3781),o=n(1310);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},5029:(t,e,n)=>{var r=n(6989),i=n(3097),o=n(3366),a=n(2597),s=n(9417),l=n(1310),c=n(914);t.exports=function(t,e){return a(t)&&s(e)?l(c(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,3)}}},2536:(t,e,n)=>{var r=n(149),i=n(2969),o=n(9096),a=n(8883),s=n(320),l=n(7574),c=n(5893),u=n(3279),h=n(4052);t.exports=function(t,e,n){e=e.length?r(e,(function(t){return h(t)?function(e){return i(e,1===t.length?t[0]:t)}:t})):[u];var d=-1;e=r(e,l(o));var f=a(t,(function(t,n,i){return{criteria:r(e,(function(e){return e(t)})),index:++d,value:t}}));return s(f,(function(t,e){return c(t,e,n)}))}},396:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},2866:(t,e,n)=>{var r=n(2969);t.exports=function(t){return function(e){return r(e,t)}}},9676:t=>{var e=Math.ceil,n=Math.max;t.exports=function(t,r,i,o){for(var a=-1,s=n(e((r-t)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=t,t+=i;return l}},5647:(t,e,n)=>{var r=n(3279),i=n(5636),o=n(6350);t.exports=function(t,e){return o(i(t,e,r),t+"")}},8325:(t,e,n)=>{var r=n(2541),i=n(5654),o=n(3279),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},3871:t=>{t.exports=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},2165:(t,e,n)=>{var r=n(5652);t.exports=function(t,e){var n;return r(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}},320:t=>{t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},3343:t=>{t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},8541:(t,e,n)=>{var r=n(9812),i=n(149),o=n(4052),a=n(9841),s=r?r.prototype:void 0,l=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},1141:(t,e,n)=>{var r=n(143),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},7574:t=>{t.exports=function(t){return function(e){return t(e)}}},4416:(t,e,n)=>{var r=n(8902),i=n(5866),o=n(1558),a=n(8114),s=n(8182),l=n(2074);t.exports=function(t,e,n){var c=-1,u=i,h=t.length,d=!0,f=[],p=f;if(n)d=!1,u=o;else if(h>=200){var m=e?null:s(t);if(m)return l(m);d=!1,u=a,p=new r}else p=e?[]:f;t:for(;++c<h;){var g=t[c],y=e?e(g):g;if(g=n||0!==g?g:0,d&&y===y){for(var v=p.length;v--;)if(p[v]===y)continue t;e&&p.push(y),f.push(g)}else u(p,y,n)||(p!==f&&p.push(y),f.push(g))}return f}},8114:t=>{t.exports=function(t,e){return t.has(e)}},5324:(t,e,n)=>{var r=n(4052),i=n(2597),o=n(4079),a=n(1069);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},8189:(t,e,n)=>{var r=n(3871);t.exports=function(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:r(t,e,n)}},6599:(t,e,n)=>{var r=n(9841);t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t===t,a=r(t),s=void 0!==e,l=null===e,c=e===e,u=r(e);if(!l&&!u&&!a&&t>e||a&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!u&&t<e||u&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}},5893:(t,e,n)=>{var r=n(6599);t.exports=function(t,e,n){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,l=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return t.index-e.index}},3440:(t,e,n)=>{var r=n(6552)["__core-js_shared__"];t.exports=r},6516:(t,e,n)=>{var r=n(6571);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},5906:t=>{t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}},7676:(t,e,n)=>{var r=n(8189),i=n(6311),o=n(9115),a=n(1069);t.exports=function(t){return function(e){e=a(e);var n=i(e)?o(e):void 0,s=n?n[0]:e.charAt(0),l=n?r(n,1).join(""):e.slice(1);return s[t]()+l}}},9995:(t,e,n)=>{var r=n(9096),i=n(6571),o=n(8673);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!i(e)){var l=r(n,3);e=o(e),n=function(t){return l(s[t],t,s)}}var c=t(e,n,a);return c>-1?s[l?e[c]:c]:void 0}}},3331:(t,e,n)=>{var r=n(9676),i=n(929),o=n(7303);t.exports=function(t){return function(e,n,a){return a&&"number"!=typeof a&&i(e,n,a)&&(n=a=void 0),e=o(e),void 0===n?(n=e,e=0):n=o(n),a=void 0===a?e<n?1:-1:o(a),r(e,n,a,t)}}},8182:(t,e,n)=>{var r=n(2070),i=n(5713),o=n(2074),a=r&&1/o(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=a},5654:(t,e,n)=>{var r=n(7937),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},3668:(t,e,n)=>{var r=n(8902),i=n(2587),o=n(8114);t.exports=function(t,e,n,a,s,l){var c=1&n,u=t.length,h=e.length;if(u!=h&&!(c&&h>u))return!1;var d=l.get(t),f=l.get(e);if(d&&f)return d==e&&f==t;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(t,e),l.set(e,t);++p<u;){var y=t[p],v=e[p];if(a)var b=c?a(v,y,p,e,t,l):a(y,v,p,t,e,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(e,(function(t,e){if(!o(g,e)&&(y===t||s(y,t,n,a,l)))return g.push(e)}))){m=!1;break}}else if(y!==v&&!s(y,v,n,a,l)){m=!1;break}}return l.delete(t),l.delete(e),m}},9987:(t,e,n)=>{var r=n(9812),i=n(2929),o=n(3211),a=n(3668),s=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;t.exports=function(t,e,n,r,c,h,d){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),t.size!=e.size&&!p)return!1;var m=d.get(t);if(m)return m==e;r|=2,d.set(t,e);var g=a(f(t),f(e),r,c,h,d);return d.delete(t),g;case"[object Symbol]":if(u)return u.call(t)==u.call(e)}return!1}},5752:(t,e,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var l=1&n,c=r(t),u=c.length;if(u!=r(e).length&&!l)return!1;for(var h=u;h--;){var d=c[h];if(!(l?d in e:i.call(e,d)))return!1}var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var m=!0;s.set(t,e),s.set(e,t);for(var g=l;++h<u;){var y=t[d=c[h]],v=e[d];if(o)var b=l?o(v,y,d,e,t,s):o(y,v,d,t,e,s);if(!(void 0===b?y===v||a(y,v,n,o,s):b)){m=!1;break}g||(g="constructor"==d)}if(m&&!g){var _=t.constructor,w=e.constructor;_==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(t),s.delete(e),m}},7105:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},9395:(t,e,n)=>{var r=n(4262),i=n(9621),o=n(8673);t.exports=function(t){return r(t,o,i)}},2622:(t,e,n)=>{var r=n(705);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},3781:(t,e,n)=>{var r=n(9417),i=n(8673);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},7937:(t,e,n)=>{var r=n(6954),i=n(4657);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},5990:(t,e,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);t.exports=r},4552:(t,e,n)=>{var r=n(9812),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(l){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},9621:(t,e,n)=>{var r=n(7529),i=n(7828),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},6924:(t,e,n)=>{var r=n(7685),i=n(5204),o=n(5387),a=n(2070),s=n(6600),l=n(6913),c=n(6996),u="[object Map]",h="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),g=c(i),y=c(o),v=c(a),b=c(s),_=l;(r&&_(new r(new ArrayBuffer(1)))!=p||i&&_(new i)!=u||o&&_(o.resolve())!=h||a&&_(new a)!=d||s&&_(new s)!=f)&&(_=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return u;case y:return h;case v:return d;case b:return f}return e}),t.exports=_},4657:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},9057:(t,e,n)=>{var r=n(5324),i=n(2777),o=n(4052),a=n(9194),s=n(6173),l=n(914);t.exports=function(t,e,n){for(var c=-1,u=(e=r(e,t)).length,h=!1;++c<u;){var d=l(e[c]);if(!(h=null!=t&&n(t,d)))break;t=t[d]}return h||++c!=u?h:!!(u=null==t?0:t.length)&&s(u)&&a(d,u)&&(o(t)||i(t))}},6311:t=>{var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return e.test(t)}},7615:(t,e,n)=>{var r=n(5575);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},5051:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},2154:(t,e,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},8734:(t,e,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},2662:(t,e,n)=>{var r=n(5575);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},7116:(t,e,n)=>{var r=n(9812),i=n(2777),o=n(4052),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},9194:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},929:(t,e,n)=>{var r=n(3211),i=n(6571),o=n(9194),a=n(6686);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},2597:(t,e,n)=>{var r=n(4052),i=n(9841),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}},705:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},7857:(t,e,n)=>{var r=n(3440),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},6140:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},9417:(t,e,n)=>{var r=n(6686);t.exports=function(t){return t===t&&!r(t)}},7563:t=>{t.exports=function(){this.__data__=[],this.size=0}},9935:(t,e,n)=>{var r=n(1340),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},4190:(t,e,n)=>{var r=n(1340);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},1946:(t,e,n)=>{var r=n(1340);t.exports=function(t){return r(this.__data__,t)>-1}},1714:(t,e,n)=>{var r=n(1340);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},7251:(t,e,n)=>{var r=n(8724),i=n(7160),o=n(5204);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7159:(t,e,n)=>{var r=n(2622);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},438:(t,e,n)=>{var r=n(2622);t.exports=function(t){return r(this,t).get(t)}},9394:(t,e,n)=>{var r=n(2622);t.exports=function(t){return r(this,t).has(t)}},6874:(t,e,n)=>{var r=n(2622);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},4160:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},1310:t=>{t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},8259:(t,e,n)=>{var r=n(5797);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},5575:(t,e,n)=>{var r=n(7937)(Object,"create");t.exports=r},1143:(t,e,n)=>{var r=n(3028)(Object.keys,Object);t.exports=r},6832:(t,e,n)=>{t=n.nmd(t);var r=n(7105),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=s},6095:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},3028:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},5636:(t,e,n)=>{var r=n(1170),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),l=Array(s);++a<s;)l[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(l),r(t,this,c)}}},6552:(t,e,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},6179:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},6704:t=>{t.exports=function(t){return this.__data__.has(t)}},2074:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},6350:(t,e,n)=>{var r=n(8325),i=n(6578)(r);t.exports=i},6578:t=>{var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var i=e(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},4545:(t,e,n)=>{var r=n(7160);t.exports=function(){this.__data__=new r,this.size=0}},793:t=>{t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},7760:t=>{t.exports=function(t){return this.__data__.get(t)}},3892:t=>{t.exports=function(t){return this.__data__.has(t)}},6788:(t,e,n)=>{var r=n(7160),i=n(5204),o=n(4816);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},4020:t=>{t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},9115:(t,e,n)=>{var r=n(5967),i=n(6311),o=n(715);t.exports=function(t){return i(t)?o(t):r(t)}},4079:(t,e,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},914:(t,e,n)=>{var r=n(9841);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},6996:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(n){}try{return t+""}catch(n){}}return""}},143:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},715:t=>{var e="\\ud800-\\udfff",n="["+e+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+e+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[o,a,s].join("|")+")"+c+l+")*"),h="(?:"+[o+r+"?",r,a,s,n].join("|")+")",d=RegExp(i+"(?="+i+")|"+h+u,"g");t.exports=function(t){return t.match(d)||[]}},2541:t=>{t.exports=function(t){return function(){return t}}},3950:(t,e,n)=>{var r=n(6686),i=n(4757),o=n(801),a=Math.max,s=Math.min;t.exports=function(t,e,n){var l,c,u,h,d,f,p=0,m=!1,g=!1,y=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function v(e){var n=l,r=c;return l=c=void 0,p=e,h=t.apply(r,n)}function b(t){var n=t-f;return void 0===f||n>=e||n<0||g&&t-p>=u}function _(){var t=i();if(b(t))return w(t);d=setTimeout(_,function(t){var n=e-(t-f);return g?s(n,u-(t-p)):n}(t))}function w(t){return d=void 0,y&&l?v(t):(l=c=void 0,h)}function x(){var t=i(),n=b(t);if(l=arguments,c=this,f=t,n){if(void 0===d)return function(t){return p=t,d=setTimeout(_,e),m?v(t):h}(f);if(g)return clearTimeout(d),d=setTimeout(_,e),v(f)}return void 0===d&&(d=setTimeout(_,e)),h}return e=o(e)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(o(n.maxWait)||0,e):u,y="trailing"in n?!!n.trailing:y),x.cancel=function(){void 0!==d&&clearTimeout(d),p=0,l=f=c=d=void 0},x.flush=function(){return void 0===d?h:w(i())},x}},3211:t=>{t.exports=function(t,e){return t===e||t!==t&&e!==e}},7002:(t,e,n)=>{var r=n(5295),i=n(4746),o=n(9096),a=n(4052),s=n(929);t.exports=function(t,e,n){var l=a(t)?r:i;return n&&s(t,e,n)&&(e=void 0),l(t,o(e,3))}},8990:(t,e,n)=>{var r=n(9995)(n(2520));t.exports=r},2520:(t,e,n)=>{var r=n(5816),i=n(9096),o=n(9140),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(t,i(e,3),l)}},3538:(t,e,n)=>{var r=n(755),i=n(3411);t.exports=function(t,e){return r(i(t,e),1)}},3097:(t,e,n)=>{var r=n(2969);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},3366:(t,e,n)=>{var r=n(7894),i=n(9057);t.exports=function(t,e){return null!=t&&i(t,e,r)}},3279:t=>{t.exports=function(t){return t}},2777:(t,e,n)=>{var r=n(5193),i=n(2761),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},4052:t=>{var e=Array.isArray;t.exports=e},6571:(t,e,n)=>{var r=n(1629),i=n(6173);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},6361:(t,e,n)=>{var r=n(6913),i=n(2761);t.exports=function(t){return!0===t||!1===t||i(t)&&"[object Boolean]"==r(t)}},4543:(t,e,n)=>{t=n.nmd(t);var r=n(6552),i=n(14),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;t.exports=l},9853:(t,e,n)=>{var r=n(6989);t.exports=function(t,e){return r(t,e)}},1629:(t,e,n)=>{var r=n(6913),i=n(6686);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},6173:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},5268:(t,e,n)=>{var r=n(9160);t.exports=function(t){return r(t)&&t!=+t}},9686:t=>{t.exports=function(t){return null==t}},9160:(t,e,n)=>{var r=n(6913),i=n(2761);t.exports=function(t){return"number"==typeof t||i(t)&&"[object Number]"==r(t)}},6686:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},2761:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},2322:(t,e,n)=>{var r=n(6913),i=n(5990),o=n(2761),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},620:(t,e,n)=>{var r=n(6913),i=n(4052),o=n(2761);t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==r(t)}},9841:(t,e,n)=>{var r=n(6913),i=n(2761);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},1268:(t,e,n)=>{var r=n(5428),i=n(7574),o=n(6832),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},8673:(t,e,n)=>{var r=n(3204),i=n(3713),o=n(6571);t.exports=function(t){return o(t)?r(t):i(t)}},4065:t=>{t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},3411:(t,e,n)=>{var r=n(149),i=n(9096),o=n(8883),a=n(4052);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},1733:(t,e,n)=>{var r=n(1775),i=n(4664),o=n(9096);t.exports=function(t,e){var n={};return e=o(e,3),i(t,(function(t,i,o){r(n,i,e(t,i,o))})),n}},539:(t,e,n)=>{var r=n(9742),i=n(7498),o=n(3279);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},5797:(t,e,n)=>{var r=n(4816);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},6745:(t,e,n)=>{var r=n(9742),i=n(61),o=n(3279);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},5713:t=>{t.exports=function(){}},4757:(t,e,n)=>{var r=n(6552);t.exports=function(){return r.Date.now()}},3932:(t,e,n)=>{var r=n(396),i=n(2866),o=n(2597),a=n(914);t.exports=function(t){return o(t)?r(a(t)):i(t)}},6604:(t,e,n)=>{var r=n(3331)();t.exports=r},4597:(t,e,n)=>{var r=n(2587),i=n(9096),o=n(2165),a=n(4052),s=n(929);t.exports=function(t,e,n){var l=a(t)?r:o;return n&&s(t,e,n)&&(e=void 0),l(t,i(e,3))}},7424:(t,e,n)=>{var r=n(755),i=n(2536),o=n(5647),a=n(929),s=o((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),i(t,r(e,1),[])}));t.exports=s},7828:t=>{t.exports=function(){return[]}},14:t=>{t.exports=function(){return!1}},9889:(t,e,n)=>{var r=n(3950),i=n(6686);t.exports=function(t,e,n){var o=!0,a=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(t,e,{leading:o,maxWait:e,trailing:a})}},7303:(t,e,n)=>{var r=n(801),i=1/0;t.exports=function(t){return t?(t=r(t))===i||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}},9140:(t,e,n)=>{var r=n(7303);t.exports=function(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}},801:(t,e,n)=>{var r=n(1141),i=n(6686),o=n(9841),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=s.test(t);return n||l.test(t)?c(t.slice(2),n?2:8):a.test(t)?NaN:+t}},1069:(t,e,n)=>{var r=n(8541);t.exports=function(t){return null==t?"":r(t)}},977:(t,e,n)=>{var r=n(9096),i=n(4416);t.exports=function(t,e){return t&&t.length?i(t,r(e,2)):[]}},643:(t,e,n)=>{var r=n(7676)("toUpperCase");t.exports=r},4788:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{l(r.next(t))}catch(e){o(e)}}function s(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}l((r=r.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(5457));function a(t){let e,n,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"maxAge";const s=()=>r(this,void 0,void 0,(function*(){if(void 0!==e)return;const s=s=>r(this,void 0,void 0,(function*(){i=o.default();const r=s[1][a]-Date.now();return r<=0?(t.delete(s[0]),void i.resolve()):(e=s[0],n=setTimeout((()=>{t.delete(s[0]),i&&i.resolve()}),r),"function"===typeof n.unref&&n.unref(),i.promise)}));try{for(const e of t)yield s(e)}catch(l){}e=void 0})),l=t.set.bind(t);return t.set=(r,o)=>{t.has(r)&&t.delete(r);const a=l(r,o);return e&&e===r&&(e=void 0,void 0!==n&&(clearTimeout(n),n=void 0),void 0!==i&&(i.reject(void 0),i=void 0)),s(),a},s(),t}e.default=a,t.exports=a,t.exports.default=a},6922:(t,e,n)=>{"use strict";const r=n(9149),i=n(4788),o=new WeakMap,a=new WeakMap,s=function(t){let{cacheKey:e,cache:n=new Map,maxAge:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"number"===typeof o&&i(n);const s=function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];const s=e?e(i):i[0],l=n.get(s);if(l)return l.data;const c=t.apply(this,i);return n.set(s,{data:c,maxAge:o?Date.now()+o:Number.POSITIVE_INFINITY}),c};return r(s,t,{ignoreNonConfigurable:!0}),a.set(s,n),s};s.decorator=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e,n,r)=>{const i=e[n];if("function"!==typeof i)throw new TypeError("The decorated value must be a function");delete r.value,delete r.writable,r.get=function(){if(!o.has(this)){const e=s(i,t);return o.set(this,e),e}return o.get(this)}}},s.clear=t=>{const e=a.get(t);if(!e)throw new TypeError("Can't clear a function that was not memoized!");if("function"!==typeof e.clear)throw new TypeError("The cache Map can't be cleared!");e.clear()},t.exports=s},9149:t=>{"use strict";const e=(t,e,r,i)=>{if("length"===r||"prototype"===r)return;if("arguments"===r||"caller"===r)return;const o=Object.getOwnPropertyDescriptor(t,r),a=Object.getOwnPropertyDescriptor(e,r);!n(o,a)&&i||Object.defineProperty(t,r,a)},n=function(t,e){return void 0===t||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},r=(t,e)=>`/* Wrapped ${t}*/\n${e}`,i=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),o=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");t.exports=function(t,n){let{ignoreNonConfigurable:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{name:s}=t;for(const r of Reflect.ownKeys(n))e(t,n,r,a);return((t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)})(t,n),((t,e,n)=>{const a=""===n?"":`with ${n.trim()}() `,s=r.bind(null,a,e.toString());Object.defineProperty(s,"name",o),Object.defineProperty(t,"toString",{...i,value:s})})(t,n,s),t}},5457:t=>{"use strict";t.exports=()=>{const t={};return t.promise=new Promise(((e,n)=>{t.resolve=e,t.reject=n})),t}},1497:(t,e,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5173:(t,e,n)=>{t.exports=n(1497)()},3218:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2730:(t,e,n)=>{"use strict";var r=n(5043),i=n(8853);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(s[t]=e,t=0;t<e.length;t++)a.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new m(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new m(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new m(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new m(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new m(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new m(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=g.hasOwnProperty(e)?g[e]:null;(null!==i?0!==i.type:r||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!h.call(p,t)||!h.call(f,t)&&(d.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,v);g[e]=new m(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,v);g[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,v);g[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function D(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=N&&t[N]||t["@@iterator"])?t:null}var L,R=Object.assign;function z(t){if(void 0===L)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var F=!1;function B(t,e){if(!t||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?z(t):""}function U(t){switch(t.tag){case 5:return z(t.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return t=B(t.type,!1);case 11:return t=B(t.type.render,!1);case 1:return t=B(t.type,!0);default:return""}}function V(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case S:return"Fragment";case x:return"Portal";case O:return"Profiler";case k:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case T:return(t.displayName||"Context")+".Consumer";case E:return(t._context.displayName||"Context")+".Provider";case P:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case j:return null!==(e=t.displayName||null)?e:V(t.type)||"Memo";case I:e=t._payload,t=t._init;try{return V(t(e))}catch(n){}}return null}function W(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(e);case 8:return e===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function H(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function $(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function q(t){t._valueTracker||(t._valueTracker=function(t){var e=$(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function G(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function K(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Z(t,e){var n=e.checked;return R({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Y(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=H(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function X(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function Q(t,e){X(t,e);var n=H(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,H(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function J(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&K(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+H(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function rt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return R({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(et(n)){if(1<n.length)throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:H(n)}}function ot(t,e){var n=H(e.value),r=H(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function st(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?st(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,ht=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return ut(t,e)}))}:ut);function dt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function mt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function gt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=mt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(ft).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var yt=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(yt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(o(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=null;function wt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var xt=null,St=null,kt=null;function Ot(t){if(t=bi(t)){if("function"!==typeof xt)throw Error(o(280));var e=t.stateNode;e&&(e=wi(e),xt(t.stateNode,t.type,e))}}function Et(t){St?kt?kt.push(t):kt=[t]:St=t}function Tt(){if(St){var t=St,e=kt;if(kt=St=null,Ot(t),e)for(t=0;t<e.length;t++)Ot(e[t])}}function Pt(t,e){return t(e)}function Ct(){}var At=!1;function jt(t,e,n){if(At)return t(e,n);At=!0;try{return Pt(t,e,n)}finally{At=!1,(null!==St||null!==kt)&&(Ct(),Tt())}}function It(t,e){var n=t.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(o(231,e,typeof n));return n}var Mt=!1;if(u)try{var Nt={};Object.defineProperty(Nt,"passive",{get:function(){Mt=!0}}),window.addEventListener("test",Nt,Nt),window.removeEventListener("test",Nt,Nt)}catch(ut){Mt=!1}function Dt(t,e,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Lt=!1,Rt=null,zt=!1,Ft=null,Bt={onError:function(t){Lt=!0,Rt=t}};function Ut(t,e,n,r,i,o,a,s,l){Lt=!1,Rt=null,Dt.apply(Bt,arguments)}function Vt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Wt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Ht(t){if(Vt(t)!==t)throw Error(o(188))}function $t(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Vt(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ht(i),t;if(a===r)return Ht(i),e;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t))?qt(t):null}function qt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=qt(t);if(null!==e)return e;t=t.sibling}return null}var Gt=i.unstable_scheduleCallback,Kt=i.unstable_cancelCallback,Zt=i.unstable_shouldYield,Yt=i.unstable_requestPaint,Xt=i.unstable_now,Qt=i.unstable_getCurrentPriorityLevel,Jt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,ne=i.unstable_LowPriority,re=i.unstable_IdlePriority,ie=null,oe=null;var ae=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(se(t)/le|0)|0},se=Math.log,le=Math.LN2;var ce=64,ue=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=he(s):0!==(o&=a)&&(r=he(o))}else 0!==(a=n&~i)?r=he(a):0!==o&&(r=he(o));if(0===r)return 0;if(0!==e&&e!==r&&0===(e&i)&&((i=r&-r)>=(o=e&-e)||16===i&&0!==(4194240&o)))return e;if(0!==(4&r)&&(r|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-ae(e)),r|=t[n],e&=~i;return r}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function me(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function ge(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ye(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=n}function ve(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ae(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function _e(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var we,xe,Se,ke,Oe,Ee=!1,Te=[],Pe=null,Ce=null,Ae=null,je=new Map,Ie=new Map,Me=[],Ne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function De(t,e){switch(t){case"focusin":case"focusout":Pe=null;break;case"dragenter":case"dragleave":Ce=null;break;case"mouseover":case"mouseout":Ae=null;break;case"pointerover":case"pointerout":je.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ie.delete(e.pointerId)}}function Le(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==e&&(null!==(e=bi(e))&&xe(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function Re(t){var e=vi(t.target);if(null!==e){var n=Vt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Wt(n)))return t.blockedOn=e,void Oe(t.priority,(function(){Se(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ze(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ze(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=bi(n))&&xe(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);_t=r,n.target.dispatchEvent(r),_t=null,e.shift()}return!0}function Fe(t,e,n){ze(t)&&n.delete(e)}function Be(){Ee=!1,null!==Pe&&ze(Pe)&&(Pe=null),null!==Ce&&ze(Ce)&&(Ce=null),null!==Ae&&ze(Ae)&&(Ae=null),je.forEach(Fe),Ie.forEach(Fe)}function Ue(t,e){t.blockedOn===e&&(t.blockedOn=null,Ee||(Ee=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Be)))}function Ve(t){function e(e){return Ue(e,t)}if(0<Te.length){Ue(Te[0],t);for(var n=1;n<Te.length;n++){var r=Te[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Pe&&Ue(Pe,t),null!==Ce&&Ue(Ce,t),null!==Ae&&Ue(Ae,t),je.forEach(e),Ie.forEach(e),n=0;n<Me.length;n++)(r=Me[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Me.length&&null===(n=Me[0]).blockedOn;)Re(n),null===n.blockedOn&&Me.shift()}var We=_.ReactCurrentBatchConfig,He=!0;function $e(t,e,n,r){var i=be,o=We.transition;We.transition=null;try{be=1,Ge(t,e,n,r)}finally{be=i,We.transition=o}}function qe(t,e,n,r){var i=be,o=We.transition;We.transition=null;try{be=4,Ge(t,e,n,r)}finally{be=i,We.transition=o}}function Ge(t,e,n,r){if(He){var i=Ze(t,e,n,r);if(null===i)Hr(t,e,r,Ke,n),De(t,r);else if(function(t,e,n,r,i){switch(e){case"focusin":return Pe=Le(Pe,t,e,n,r,i),!0;case"dragenter":return Ce=Le(Ce,t,e,n,r,i),!0;case"mouseover":return Ae=Le(Ae,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return je.set(o,Le(je.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ie.set(o,Le(Ie.get(o)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r))r.stopPropagation();else if(De(t,r),4&e&&-1<Ne.indexOf(t)){for(;null!==i;){var o=bi(i);if(null!==o&&we(o),null===(o=Ze(t,e,n,r))&&Hr(t,e,r,Ke,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(t,e,r,null,n)}}var Ke=null;function Ze(t,e,n,r){if(Ke=null,null!==(t=vi(t=wt(r))))if(null===(e=Vt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Wt(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ke=t,null}function Ye(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qt()){case Jt:return 1;case te:return 4;case ee:case ne:return 16;case re:return 536870912;default:return 16}default:return 16}}var Xe=null,Qe=null,Je=null;function tn(){if(Je)return Je;var t,e,n=Qe,r=n.length,i="value"in Xe?Xe.value:Xe.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return Je=i.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function on(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return R(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),hn=R({},cn,{view:0,detail:0}),dn=on(hn),fn=R({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(an=t.screenX-ln.screenX,sn=t.screenY-ln.screenY):sn=an=0,ln=t),an)},movementY:function(t){return"movementY"in t?t.movementY:sn}}),pn=on(fn),mn=on(R({},fn,{dataTransfer:0})),gn=on(R({},hn,{relatedTarget:0})),yn=on(R({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=R({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bn=on(vn),_n=on(R({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function On(){return kn}var En=R({},hn,{key:function(t){if(t.key){var e=wn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?xn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Tn=on(En),Pn=on(R({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=on(R({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),An=on(R({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=R({},fn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),In=on(jn),Mn=[9,13,27,32],Nn=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Dn,Rn=u&&(!Nn||Dn&&8<Dn&&11>=Dn),zn=String.fromCharCode(32),Fn=!1;function Bn(t,e){switch(t){case"keyup":return-1!==Mn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Vn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Wn[t.type]:"textarea"===e}function $n(t,e,n,r){Et(r),0<(e=qr(e,"onChange")).length&&(n=new un("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qn=null,Gn=null;function Kn(t){zr(t,0)}function Zn(t){if(G(_i(t)))return t}function Yn(t,e){if("change"===t)return e}var Xn=!1;if(u){var Qn;if(u){var Jn="oninput"in document;if(!Jn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Jn="function"===typeof tr.oninput}Qn=Jn}else Qn=!1;Xn=Qn&&(!document.documentMode||9<document.documentMode)}function er(){qn&&(qn.detachEvent("onpropertychange",nr),Gn=qn=null)}function nr(t){if("value"===t.propertyName&&Zn(Gn)){var e=[];$n(e,Gn,t,wt(t)),jt(Kn,e)}}function rr(t,e,n){"focusin"===t?(er(),Gn=n,(qn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Zn(Gn)}function or(t,e){if("click"===t)return Zn(e)}function ar(t,e){if("input"===t||"change"===t)return Zn(e)}var sr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function lr(t,e){if(sr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(e,i)||!sr(t[i],e[i]))return!1}return!0}function cr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ur(t,e){var n,r=cr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cr(r)}}function hr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function dr(){for(var t=window,e=K();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=K((t=e.contentWindow).document)}return e}function fr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pr(t){var e=dr(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function _r(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=qr(yr,"onSelect")).length&&(e=new un("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gr)))}function wr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},kr={};function Or(t){if(Sr[t])return Sr[t];if(!xr[t])return t;var e,n=xr[t];for(e in n)if(n.hasOwnProperty(e)&&e in kr)return Sr[t]=n[e];return t}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Or("animationend"),Tr=Or("animationiteration"),Pr=Or("animationstart"),Cr=Or("transitionend"),Ar=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(t,e){Ar.set(t,e),l(e,[t])}for(var Mr=0;Mr<jr.length;Mr++){var Nr=jr[Mr];Ir(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Ir(Er,"onAnimationEnd"),Ir(Tr,"onAnimationIteration"),Ir(Pr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Rr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,a,s,l,c){if(Ut.apply(this,arguments),Lt){if(!Lt)throw Error(o(198));var u=Rt;Lt=!1,Rt=null,zt||(zt=!0,Ft=u)}}(r,e,void 0,t),t.currentTarget=null}function zr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break t;Rr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break t;Rr(i,s,c),o=l}}}if(zt)throw t=Ft,zt=!1,Ft=null,t}function Fr(t,e){var n=e[mi];void 0===n&&(n=e[mi]=new Set);var r=t+"__bubble";n.has(r)||(Wr(e,t,2,!1),n.add(r))}function Br(t,e,n){var r=0;e&&(r|=4),Wr(n,t,r,e)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Vr(t){if(!t[Ur]){t[Ur]=!0,a.forEach((function(e){"selectionchange"!==e&&(Lr.has(e)||Br(e,!1,t),Br(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Ur]||(e[Ur]=!0,Br("selectionchange",!1,e))}}function Wr(t,e,n,r){switch(Ye(e)){case 1:var i=$e;break;case 4:i=qe;break;default:i=Ge}n=i.bind(null,e,n,t),i=void 0,!Mt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hr(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue t}s=s.parentNode}}r=r.return}jt((function(){var r=o,i=wt(n),a=[];t:{var s=Ar.get(t);if(void 0!==s){var l=un,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Er:case Tr:case Pr:l=yn;break;case Cr:l=An;break;case"scroll":l=dn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var u=0!==(4&e),h=!u&&"scroll"===t,d=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=It(p,d))&&u.push($r(p,m,f)))),h)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||n===_t||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=Vt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=Pn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?s:_i(l),f=null==c?s:_i(c),(s=new u(m,p+"leave",l,n,i)).target=h,s.relatedTarget=f,m=null,vi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)t:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break t;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Kr(a,s,l,u,!1),null!==c&&null!==h&&Kr(a,h,c,u,!0)}if("select"===(l=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Yn;else if(Hn(s))if(Xn)g=ar;else{g=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(t,r))?$n(a,g,n,i):(y&&y(t,s,r),"focusout"===t&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&tt(s,"number",s.value)),y=r?_i(r):window,t){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":_r(a,n,i)}var v;if(Nn)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Vn?Bn(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(Rn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(v=tn()):(Qe="value"in(Xe=i)?Xe.value:Xe.textContent,Vn=!0)),0<(y=qr(r,b)).length&&(b=new _n(b,t,null,n,i),a.push({event:b,listeners:y}),v?b.data=v:null!==(v=Un(n))&&(b.data=v))),(v=Ln?function(t,e){switch(t){case"compositionend":return Un(e);case"keypress":return 32!==e.which?null:(Fn=!0,zn);case"textInput":return(t=e.data)===zn&&Fn?null:t;default:return null}}(t,n):function(t,e){if(Vn)return"compositionend"===t||!Nn&&Bn(t,e)?(t=tn(),Je=Qe=Xe=null,Vn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}zr(a,e)}))}function $r(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=It(t,n))&&r.unshift($r(t,o,i)),null!=(o=It(t,e))&&r.push($r(t,o,i))),t=t.return}return r}function Gr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Kr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=It(n,o))&&a.unshift($r(n,l,s)):i||null!=(l=It(n,o))&&a.push($r(n,l,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var Zr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(t){return("string"===typeof t?t:""+t).replace(Zr,"\n").replace(Yr,"")}function Qr(t,e,n){if(e=Xr(e),Xr(t)!==e&&n)throw Error(o(425))}function Jr(){}var ti=null,ei=null;function ni(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(t){return oi.resolve(null).then(t).catch(si)}:ri;function si(t){setTimeout((function(){throw t}))}function li(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return t.removeChild(i),void Ve(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ve(e)}function ci(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ui(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(t){var e=t[di];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pi]||n[di]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ui(t);null!==t;){if(n=t[di])return n;t=ui(t)}return e}n=(t=n).parentNode}return null}function bi(t){return!(t=t[di]||t[pi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function _i(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function wi(t){return t[fi]||null}var xi=[],Si=-1;function ki(t){return{current:t}}function Oi(t){0>Si||(t.current=xi[Si],xi[Si]=null,Si--)}function Ei(t,e){Si++,xi[Si]=t.current,t.current=e}var Ti={},Pi=ki(Ti),Ci=ki(!1),Ai=Ti;function ji(t,e){var n=t.type.contextTypes;if(!n)return Ti;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Ii(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Mi(){Oi(Ci),Oi(Pi)}function Ni(t,e,n){if(Pi.current!==Ti)throw Error(o(168));Ei(Pi,e),Ei(Ci,n)}function Di(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,W(t)||"Unknown",i));return R({},n,r)}function Li(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ti,Ai=Pi.current,Ei(Pi,t),Ei(Ci,Ci.current),!0}function Ri(t,e,n){var r=t.stateNode;if(!r)throw Error(o(169));n?(t=Di(t,e,Ai),r.__reactInternalMemoizedMergedChildContext=t,Oi(Ci),Oi(Pi),Ei(Pi,t)):Oi(Ci),Ei(Ci,n)}var zi=null,Fi=!1,Bi=!1;function Ui(t){null===zi?zi=[t]:zi.push(t)}function Vi(){if(!Bi&&null!==zi){Bi=!0;var t=0,e=be;try{var n=zi;for(be=1;t<n.length;t++){var r=n[t];do{r=r(!0)}while(null!==r)}zi=null,Fi=!1}catch(i){throw null!==zi&&(zi=zi.slice(t+1)),Gt(Jt,Vi),i}finally{be=e,Bi=!1}}return null}var Wi=[],Hi=0,$i=null,qi=0,Gi=[],Ki=0,Zi=null,Yi=1,Xi="";function Qi(t,e){Wi[Hi++]=qi,Wi[Hi++]=$i,$i=t,qi=e}function Ji(t,e,n){Gi[Ki++]=Yi,Gi[Ki++]=Xi,Gi[Ki++]=Zi,Zi=t;var r=Yi;t=Xi;var i=32-ae(r)-1;r&=~(1<<i),n+=1;var o=32-ae(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-ae(e)+i|n<<i|r,Xi=o+t}else Yi=1<<o|n<<i|r,Xi=t}function to(t){null!==t.return&&(Qi(t,1),Ji(t,1,0))}function eo(t){for(;t===$i;)$i=Wi[--Hi],Wi[Hi]=null,qi=Wi[--Hi],Wi[Hi]=null;for(;t===Zi;)Zi=Gi[--Ki],Gi[Ki]=null,Xi=Gi[--Ki],Gi[Ki]=null,Yi=Gi[--Ki],Gi[Ki]=null}var no=null,ro=null,io=!1,oo=null;function ao(t,e){var n=jc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function so(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,no=t,ro=ci(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,no=t,ro=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Zi?{id:Yi,overflow:Xi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=jc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,no=t,ro=null,!0);default:return!1}}function lo(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function co(t){if(io){var e=ro;if(e){var n=e;if(!so(t,e)){if(lo(t))throw Error(o(418));e=ci(n.nextSibling);var r=no;e&&so(t,e)?ao(r,n):(t.flags=-4097&t.flags|2,io=!1,no=t)}}else{if(lo(t))throw Error(o(418));t.flags=-4097&t.flags|2,io=!1,no=t}}}function uo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;no=t}function ho(t){if(t!==no)return!1;if(!io)return uo(t),io=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ni(t.type,t.memoizedProps)),e&&(e=ro)){if(lo(t))throw fo(),Error(o(418));for(;e;)ao(t,e),e=ci(e.nextSibling)}if(uo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ro=ci(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ro=null}}else ro=no?ci(t.stateNode.nextSibling):null;return!0}function fo(){for(var t=ro;t;)t=ci(t.nextSibling)}function po(){ro=no=null,io=!1}function mo(t){null===oo?oo=[t]:oo.push(t)}var go=_.ReactCurrentBatchConfig;function yo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,t));var i=r,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=i.refs;null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function vo(t,e){throw t=Object.prototype.toString.call(e),Error(o(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bo(t){return(0,t._init)(t._payload)}function _o(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Mc(t,e)).index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=2,n):r:(e.flags|=2,n):(e.flags|=1048576,n)}function s(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Rc(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){var o=n.type;return o===S?h(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===I&&bo(o)===e.type)?((r=i(e,n.props)).ref=yo(t,e,n),r.return=t,r):((r=Nc(n.type,n.key,n.props,null,t.mode,r)).ref=yo(t,e,n),r.return=t,r)}function u(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=zc(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=Dc(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Rc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case w:return(n=Nc(e.type,e.key,e.props,null,t.mode,n)).ref=yo(t,null,e),n.return=t,n;case x:return(e=zc(e,t.mode,n)).return=t,e;case I:return d(t,(0,e._init)(e._payload),n)}if(et(e)||D(e))return(e=Dc(e,t.mode,n,null)).return=t,e;vo(t,e)}return null}function f(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(t,e,n,r):null;case x:return n.key===i?u(t,e,n,r):null;case I:return f(t,e,(i=n._init)(n._payload),r)}if(et(n)||D(n))return null!==i?null:h(t,e,n,r,null);vo(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i);case x:return u(e,t=t.get(null===r.key?n:r.key)||null,r,i);case I:return p(t,e,n,(0,r._init)(r._payload),i)}if(et(r)||D(r))return h(e,t=t.get(n)||null,r,i,null);vo(e,r)}return null}function m(i,o,s,l){for(var c=null,u=null,h=o,m=o=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,s[m],l);if(null===y){null===h&&(h=g);break}t&&h&&null===y.alternate&&e(i,h),o=a(y,o,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===s.length)return n(i,h),io&&Qi(i,m),c;if(null===h){for(;m<s.length;m++)null!==(h=d(i,s[m],l))&&(o=a(h,o,m),null===u?c=h:u.sibling=h,u=h);return io&&Qi(i,m),c}for(h=r(i,h);m<s.length;m++)null!==(g=p(h,i,m,s[m],l))&&(t&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return t&&h.forEach((function(t){return e(i,t)})),io&&Qi(i,m),c}function g(i,s,l,c){var u=D(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var h=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}t&&m&&null===b.alternate&&e(i,m),s=a(b,s,g),null===h?u=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),io&&Qi(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(s=a(v,s,g),null===h?u=v:h.sibling=v,h=v);return io&&Qi(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(t&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===h?u=v:h.sibling=v,h=v);return t&&m.forEach((function(t){return e(i,t)})),io&&Qi(i,g),u}return function t(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:t:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&bo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=yo(r,u,a),o.return=r,r=o;break t}n(r,u);break}e(r,u),u=u.sibling}a.type===S?((o=Dc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Nc(a.type,a.key,a.props,null,r.mode,l)).ref=yo(r,o,a),l.return=r,r=l)}return s(r);case x:t:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break t}n(r,o);break}e(r,o),o=o.sibling}(o=zc(a,r.mode,l)).return=r,r=o}return s(r);case I:return t(r,o,(u=a._init)(a._payload),l)}if(et(a))return m(r,o,a,l);if(D(a))return g(r,o,a,l);vo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Rc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var wo=_o(!0),xo=_o(!1),So=ki(null),ko=null,Oo=null,Eo=null;function To(){Eo=Oo=ko=null}function Po(t){var e=So.current;Oi(So),t._currentValue=e}function Co(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ao(t,e){ko=t,Eo=Oo=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(bs=!0),t.firstContext=null)}function jo(t){var e=t._currentValue;if(Eo!==t)if(t={context:t,memoizedValue:e,next:null},null===Oo){if(null===ko)throw Error(o(308));Oo=t,ko.dependencies={lanes:0,firstContext:t}}else Oo=Oo.next=t;return e}var Io=null;function Mo(t){null===Io?Io=[t]:Io.push(t)}function No(t,e,n,r){var i=e.interleaved;return null===i?(n.next=n,Mo(e)):(n.next=i.next,i.next=n),e.interleaved=n,Do(t,r)}function Do(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Lo=!1;function Ro(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bo(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pl)){var i=r.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Do(t,n)}return null===(i=r.interleaved)?(e.next=e,Mo(r)):(e.next=i.next,i.next=e),r.interleaved=e,Do(t,n)}function Uo(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ve(t,n)}}function Vo(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wo(t,e,n,r){var i=t.updateQueue;Lo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=t.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(a=0,u=c=l=null,s=o;;){var d=s.lane,f=s.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});t:{var p=t,m=s;switch(d=e,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break t;h=R({},h,d);break t;case 2:Lo=!0}}null!==s.callback&&0!==s.lane&&(t.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(e=i.shared.interleaved)){i=e;do{a|=i.lane,i=i.next}while(i!==e)}else null===o&&(i.shared.lanes=0);Ll|=a,t.lanes=a,t.memoizedState=h}}function Ho(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var $o={},qo=ki($o),Go=ki($o),Ko=ki($o);function Zo(t){if(t===$o)throw Error(o(174));return t}function Yo(t,e){switch(Ei(Ko,e),Ei(Go,t),Ei(qo,$o),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Oi(qo),Ei(qo,e)}function Xo(){Oi(qo),Oi(Go),Oi(Ko)}function Qo(t){Zo(Ko.current);var e=Zo(qo.current),n=lt(e,t.type);e!==n&&(Ei(Go,t),Ei(qo,n))}function Jo(t){Go.current===t&&(Oi(qo),Oi(Go))}var ta=ki(0);function ea(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var na=[];function ra(){for(var t=0;t<na.length;t++)na[t]._workInProgressVersionPrimary=null;na.length=0}var ia=_.ReactCurrentDispatcher,oa=_.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,ha=!1,da=0,fa=0;function pa(){throw Error(o(321))}function ma(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function ga(t,e,n,r,i,a){if(aa=a,sa=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ia.current=null===t||null===t.memoizedState?Ja:ts,t=n(r,i),ha){a=0;do{if(ha=!1,da=0,25<=a)throw Error(o(301));a+=1,ca=la=null,e.updateQueue=null,ia.current=es,t=n(r,i)}while(ha)}if(ia.current=Qa,e=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,e)throw Error(o(300));return t}function ya(){var t=0!==da;return da=0,t}function va(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=t:ca=ca.next=t,ca}function ba(){if(null===la){var t=sa.alternate;t=null!==t?t.memoizedState:null}else t=la.next;var e=null===ca?sa.memoizedState:ca.next;if(null!==e)ca=e,la=t;else{if(null===t)throw Error(o(310));t={memoizedState:(la=t).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=t:ca=ca.next=t}return ca}function _a(t,e){return"function"===typeof e?e(t):e}function wa(t){var e=ba(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var h=u.lane;if((aa&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,s=r):c=c.next=d,sa.lanes|=h,Ll|=h}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,e.memoizedState)||(bs=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,n.lastRenderedState=r}if(null!==(t=n.interleaved)){i=t;do{a=i.lane,sa.lanes|=a,Ll|=a,i=i.next}while(i!==t)}else null===i&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xa(t){var e=ba(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=t(a,s.action),s=s.next}while(s!==i);sr(a,e.memoizedState)||(bs=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function ka(t,e){var n=sa,r=ba(),i=e(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,La(Ta.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,ja(9,Ea.bind(null,n,r,i,e),void 0,null),null===Cl)throw Error(o(349));0!==(30&aa)||Oa(n,e,i)}return i}function Oa(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=sa.updateQueue)?(e={lastEffect:null,stores:null},sa.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function Ea(t,e,n,r){e.value=n,e.getSnapshot=r,Pa(e)&&Ca(t)}function Ta(t,e,n){return n((function(){Pa(e)&&Ca(t)}))}function Pa(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch(r){return!0}}function Ca(t){var e=Do(t,1);null!==e&&nc(e,t,1,-1)}function Aa(t){var e=va();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:t},e.queue=t,t=t.dispatch=Ka.bind(null,sa,t),[e.memoizedState,t]}function ja(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=sa.updateQueue)?(e={lastEffect:null,stores:null},sa.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Ia(){return ba().memoizedState}function Ma(t,e,n,r){var i=va();sa.flags|=t,i.memoizedState=ja(1|e,n,void 0,void 0===r?null:r)}function Na(t,e,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=ja(e,n,o,r))}sa.flags|=t,i.memoizedState=ja(1|e,n,o,r)}function Da(t,e){return Ma(8390656,8,t,e)}function La(t,e){return Na(2048,8,t,e)}function Ra(t,e){return Na(4,2,t,e)}function za(t,e){return Na(4,4,t,e)}function Fa(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Ba(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Na(4,4,Fa.bind(null,e,t),n)}function Ua(){}function Va(t,e){var n=ba();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ma(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Wa(t,e){var n=ba();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ma(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ha(t,e,n){return 0===(21&aa)?(t.baseState&&(t.baseState=!1,bs=!0),t.memoizedState=n):(sr(n,e)||(n=me(),sa.lanes|=n,Ll|=n,t.baseState=!0),e)}function $a(t,e){var n=be;be=0!==n&&4>n?n:4,t(!0);var r=oa.transition;oa.transition={};try{t(!1),e()}finally{be=n,oa.transition=r}}function qa(){return ba().memoizedState}function Ga(t,e,n){var r=ec(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Za(t))Ya(e,n);else if(null!==(n=No(t,e,n,r))){nc(n,t,r,tc()),Xa(n,e,r)}}function Ka(t,e,n){var r=ec(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Za(t))Ya(e,i);else{var o=t.alternate;if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=e.interleaved;return null===l?(i.next=i,Mo(e)):(i.next=l.next,l.next=i),void(e.interleaved=i)}}catch(c){}null!==(n=No(t,e,i,r))&&(nc(n,t,r,i=tc()),Xa(n,e,r))}}function Za(t){var e=t.alternate;return t===sa||null!==e&&e===sa}function Ya(t,e){ha=ua=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Xa(t,e,n){if(0!==(4194240&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ve(t,n)}}var Qa={readContext:jo,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Ja={readContext:jo,useCallback:function(t,e){return va().memoizedState=[t,void 0===e?null:e],t},useContext:jo,useEffect:Da,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ma(4194308,4,Fa.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ma(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ma(4,2,t,e)},useMemo:function(t,e){var n=va();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=va();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ga.bind(null,sa,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},va().memoizedState=t},useState:Aa,useDebugValue:Ua,useDeferredValue:function(t){return va().memoizedState=t},useTransition:function(){var t=Aa(!1),e=t[0];return t=$a.bind(null,t[1]),va().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=sa,i=va();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=e(),null===Cl)throw Error(o(349));0!==(30&aa)||Oa(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,Da(Ta.bind(null,r,a,t),[t]),r.flags|=2048,ja(9,Ea.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=va(),e=Cl.identifierPrefix;if(io){var n=Xi;e=":"+e+"R"+(n=(Yi&~(1<<32-ae(Yi)-1)).toString(32)+n),0<(n=da++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=fa++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ts={readContext:jo,useCallback:Va,useContext:jo,useEffect:La,useImperativeHandle:Ba,useInsertionEffect:Ra,useLayoutEffect:za,useMemo:Wa,useReducer:wa,useRef:Ia,useState:function(){return wa(_a)},useDebugValue:Ua,useDeferredValue:function(t){return Ha(ba(),la.memoizedState,t)},useTransition:function(){return[wa(_a)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:ka,useId:qa,unstable_isNewReconciler:!1},es={readContext:jo,useCallback:Va,useContext:jo,useEffect:La,useImperativeHandle:Ba,useInsertionEffect:Ra,useLayoutEffect:za,useMemo:Wa,useReducer:xa,useRef:Ia,useState:function(){return xa(_a)},useDebugValue:Ua,useDeferredValue:function(t){var e=ba();return null===la?e.memoizedState=t:Ha(e,la.memoizedState,t)},useTransition:function(){return[xa(_a)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:ka,useId:qa,unstable_isNewReconciler:!1};function ns(t,e){if(t&&t.defaultProps){for(var n in e=R({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function rs(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:R({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var is={isMounted:function(t){return!!(t=t._reactInternals)&&Vt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tc(),i=ec(t),o=Fo(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Bo(t,o,i))&&(nc(e,t,i,r),Uo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tc(),i=ec(t),o=Fo(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),null!==(e=Bo(t,o,i))&&(nc(e,t,i,r),Uo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tc(),r=ec(t),i=Fo(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=Bo(t,i,r))&&(nc(e,t,r,n),Uo(e,t,r))}};function os(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function as(t,e,n){var r=!1,i=Ti,o=e.contextType;return"object"===typeof o&&null!==o?o=jo(o):(i=Ii(e)?Ai:Pi.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?ji(t,i):Ti),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=is,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ss(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&is.enqueueReplaceState(e,e.state,null)}function ls(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ro(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=jo(o):(o=Ii(e)?Ai:Pi.current,i.context=ji(t,o)),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(rs(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&is.enqueueReplaceState(i,i.state,null),Wo(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308)}function cs(t,e){try{var n="",r=e;do{n+=U(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i,digest:null}}function us(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function hs(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function fs(t,e,n){(n=Fo(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hl||(Hl=!0,$l=r),hs(0,e)},n}function ps(t,e,n){(n=Fo(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,e)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,e),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ms(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new ds;var i=new Set;r.set(e,i)}else void 0===(i=r.get(e))&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Oc.bind(null,t,e,n),e.then(t,t))}function gs(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ys(t,e,n,r,i){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Fo(-1,1)).tag=2,Bo(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var vs=_.ReactCurrentOwner,bs=!1;function _s(t,e,n,r){e.child=null===t?xo(e,null,n,r):wo(e,t.child,n,r)}function ws(t,e,n,r,i){n=n.render;var o=e.ref;return Ao(e,i),r=ga(t,e,n,r,o,i),n=ya(),null===t||bs?(io&&n&&to(e),e.flags|=1,_s(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hs(t,e,i))}function xs(t,e,n,r,i){if(null===t){var o=n.type;return"function"!==typeof o||Ic(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Nc(n.type,null,r,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Ss(t,e,o,r,i))}if(o=t.child,0===(t.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&t.ref===e.ref)return Hs(t,e,i)}return e.flags|=1,(t=Mc(o,r)).ref=e.ref,t.return=e,e.child=t}function Ss(t,e,n,r,i){if(null!==t){var o=t.memoizedProps;if(lr(o,r)&&t.ref===e.ref){if(bs=!1,e.pendingProps=r=o,0===(t.lanes&i))return e.lanes=t.lanes,Hs(t,e,i);0!==(131072&t.flags)&&(bs=!0)}}return Es(t,e,n,r,i)}function ks(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ml,Il),Il|=n;else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ei(Ml,Il),Il|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ei(Ml,Il),Il|=r}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ei(Ml,Il),Il|=r;return _s(t,e,i,n),e.child}function Os(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Es(t,e,n,r,i){var o=Ii(n)?Ai:Pi.current;return o=ji(e,o),Ao(e,i),n=ga(t,e,n,r,o,i),r=ya(),null===t||bs?(io&&r&&to(e),e.flags|=1,_s(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hs(t,e,i))}function Ts(t,e,n,r,i){if(Ii(n)){var o=!0;Li(e)}else o=!1;if(Ao(e,i),null===e.stateNode)Ws(t,e),as(e,n,r),ls(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=jo(c):c=ji(e,c=Ii(n)?Ai:Pi.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(e,a,r,c),Lo=!1;var d=e.memoizedState;a.state=d,Wo(e,r,a,i),l=e.memoizedState,s!==r||d!==l||Ci.current||Lo?("function"===typeof u&&(rs(e,n,u,r),l=e.memoizedState),(s=Lo||os(e,n,s,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,zo(t,e),s=e.memoizedProps,c=e.type===e.elementType?s:ns(e.type,s),a.props=c,h=e.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=jo(l):l=ji(e,l=Ii(n)?Ai:Pi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||d!==l)&&ss(e,a,r,l),Lo=!1,d=e.memoizedState,a.state=d,Wo(e,r,a,i);var p=e.memoizedState;s!==h||d!==p||Ci.current||Lo?("function"===typeof f&&(rs(e,n,f,r),p=e.memoizedState),(c=Lo||os(e,n,c,r,d,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Ps(t,e,n,r,o,i)}function Ps(t,e,n,r,i,o){Os(t,e);var a=0!==(128&e.flags);if(!r&&!a)return i&&Ri(e,n,!1),Hs(t,e,o);r=e.stateNode,vs.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=wo(e,t.child,null,o),e.child=wo(e,null,s,o)):_s(t,e,s,o),e.memoizedState=r.state,i&&Ri(e,n,!0),e.child}function Cs(t){var e=t.stateNode;e.pendingContext?Ni(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Ni(0,e.context,!1),Yo(t,e.containerInfo)}function As(t,e,n,r,i){return po(),mo(i),e.flags|=256,_s(t,e,n,r),e.child}var js,Is,Ms,Ns,Ds={dehydrated:null,treeContext:null,retryLane:0};function Ls(t){return{baseLanes:t,cachePool:null,transitions:null}}function Rs(t,e,n){var r,i=e.pendingProps,a=ta.current,s=!1,l=0!==(128&e.flags);if((r=l)||(r=(null===t||null!==t.memoizedState)&&0!==(2&a)),r?(s=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),Ei(ta,1&a),null===t)return co(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=i.children,t=i.fallback,s?(i=e.mode,s=e.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Lc(l,i,0,null),t=Dc(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ls(n),e.memoizedState=Ds,t):zs(e,l));if(null!==(a=t.memoizedState)&&null!==(r=a.dehydrated))return function(t,e,n,r,i,a,s){if(n)return 256&e.flags?(e.flags&=-257,Fs(t,e,s,r=us(Error(o(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(a=Dc(a,i,s,null)).flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,0!==(1&e.mode)&&wo(e,t.child,null,s),e.child.memoizedState=Ls(s),e.memoizedState=Ds,a);if(0===(1&e.mode))return Fs(t,e,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Fs(t,e,s,r=us(a=Error(o(419)),r,void 0))}if(l=0!==(s&t.childLanes),bs||l){if(null!==(r=Cl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Do(t,i),nc(r,t,i,-1))}return mc(),Fs(t,e,s,r=us(Error(o(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=Tc.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ro=ci(i.nextSibling),no=e,io=!0,oo=null,null!==t&&(Gi[Ki++]=Yi,Gi[Ki++]=Xi,Gi[Ki++]=Zi,Yi=t.id,Xi=t.overflow,Zi=e),e=zs(e,r.children),e.flags|=4096,e)}(t,e,l,i,r,a,n);if(s){s=i.fallback,l=e.mode,r=(a=t.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&e.child!==a?((i=e.child).childLanes=0,i.pendingProps=c,e.deletions=null):(i=Mc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Mc(r,s):(s=Dc(s,l,n,null)).flags|=2,s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,l=null===(l=t.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~n,e.memoizedState=Ds,i}return t=(s=t.child).sibling,i=Mc(s,{mode:"visible",children:i.children}),0===(1&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function zs(t,e){return(e=Lc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Fs(t,e,n,r){return null!==r&&mo(r),wo(e,t.child,null,n),(t=zs(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Bs(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),Co(t.return,e,n)}function Us(t,e,n,r,i){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vs(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(_s(t,e,r.children,n),0!==(2&(r=ta.current)))r=1&r|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Bs(t,n,e);else if(19===t.tag)Bs(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ei(ta,r),0===(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===ea(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Us(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===ea(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Us(e,!0,n,null,o);break;case"together":Us(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ws(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hs(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Ll|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Mc(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Mc(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function $s(t,e){if(!io)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qs(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Gs(t,e,n){var r=e.pendingProps;switch(eo(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(e),null;case 1:case 17:return Ii(e.type)&&Mi(),qs(e),null;case 3:return r=e.stateNode,Xo(),Oi(Ci),Oi(Pi),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(ho(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==oo&&(ac(oo),oo=null))),Is(t,e),qs(e),null;case 5:Jo(e);var i=Zo(Ko.current);if(n=e.type,null!==t&&null!=e.stateNode)Ms(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(null===e.stateNode)throw Error(o(166));return qs(e),null}if(t=Zo(qo.current),ho(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[di]=e,r[fi]=a,t=0!==(1&e.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":it(r,a),Fr("invalid",r)}for(var l in vt(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,t),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,t),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":q(r),J(r,a,!0);break;case"textarea":q(r),at(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,e.updateQueue=r,null!==r&&(e.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=st(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),"select"===n&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[di]=e,t[fi]=r,js(t,e,!1,!1),e.stateNode=t;t:{switch(l=bt(n,r),n){case"dialog":Fr("cancel",t),Fr("close",t),i=r;break;case"iframe":case"object":case"embed":Fr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],t);i=r;break;case"source":Fr("error",t),i=r;break;case"img":case"image":case"link":Fr("error",t),Fr("load",t),i=r;break;case"details":Fr("toggle",t),i=r;break;case"input":Y(t,r),i=Z(t,r),Fr("invalid",t);break;case"option":default:i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=R({},r,{value:void 0}),Fr("invalid",t);break;case"textarea":it(t,r),i=rt(t,r),Fr("invalid",t)}for(a in vt(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?gt(t,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&ht(t,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&dt(t,u):"number"===typeof u&&dt(t,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fr("scroll",t):null!=u&&b(t,a,u,l))}switch(n){case"input":q(t),J(t,r,!1);break;case"textarea":q(t),at(t);break;case"option":null!=r.value&&t.setAttribute("value",""+H(r.value));break;case"select":t.multiple=!!r.multiple,null!=(a=r.value)?nt(t,!!r.multiple,a,!1):null!=r.defaultValue&&nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(t.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return qs(e),null;case 6:if(t&&null!=e.stateNode)Ns(t,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(o(166));if(n=Zo(Ko.current),Zo(qo.current),ho(e)){if(r=e.stateNode,n=e.memoizedProps,r[di]=e,(a=r.nodeValue!==n)&&null!==(t=no))switch(t.tag){case 3:Qr(r.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&t.mode))}a&&(e.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=e,e.stateNode=r}return qs(e),null;case 13:if(Oi(ta),r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&e.mode)&&0===(128&e.flags))fo(),po(),e.flags|=98560,a=!1;else if(a=ho(e),null!==r&&null!==r.dehydrated){if(null===t){if(!a)throw Error(o(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(o(317));a[di]=e}else po(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;qs(e),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((r=null!==r)!==(null!==t&&null!==t.memoizedState)&&r&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&ta.current)?0===Nl&&(Nl=3):mc())),null!==e.updateQueue&&(e.flags|=4),qs(e),null);case 4:return Xo(),Is(t,e),null===t&&Vr(e.stateNode.containerInfo),qs(e),null;case 10:return Po(e.type._context),qs(e),null;case 19:if(Oi(ta),null===(a=e.memoizedState))return qs(e),null;if(r=0!==(128&e.flags),null===(l=a.rendering))if(r)$s(a,!1);else{if(0!==Nl||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=ea(t))){for(e.flags|=128,$s(a,!1),null!==(r=l.updateQueue)&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;null!==n;)t=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ei(ta,1&ta.current|2),e.child}t=t.sibling}null!==a.tail&&Xt()>Vl&&(e.flags|=128,r=!0,$s(a,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=ea(l))){if(e.flags|=128,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),$s(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return qs(e),null}else 2*Xt()-a.renderingStartTime>Vl&&1073741824!==n&&(e.flags|=128,r=!0,$s(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=a.last)?n.sibling=l:e.child=l,a.last=l)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Xt(),e.sibling=null,n=ta.current,Ei(ta,r?1&n|2:1&n),e):(qs(e),null);case 22:case 23:return hc(),r=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==r&&(e.flags|=8192),r&&0!==(1&e.mode)?0!==(1073741824&Il)&&(qs(e),6&e.subtreeFlags&&(e.flags|=8192)):qs(e),null;case 24:case 25:return null}throw Error(o(156,e.tag))}function Ks(t,e){switch(eo(e),e.tag){case 1:return Ii(e.type)&&Mi(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Xo(),Oi(Ci),Oi(Pi),ra(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return Jo(e),null;case 13:if(Oi(ta),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(o(340));po()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Oi(ta),null;case 4:return Xo(),null;case 10:return Po(e.type._context),null;case 22:case 23:return hc(),null;default:return null}}js=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Is=function(){},Ms=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zo(qo.current);var o,a=null;switch(n){case"input":i=Z(t,i),r=Z(t,r),a=[];break;case"select":i=R({},i,{value:void 0}),r=R({},r,{value:void 0}),a=[];break;case"textarea":i=rt(t,i),r=rt(t,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(t.onclick=Jr)}for(u in vt(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}},Ns=function(t,e,n,r){n!==r&&(e.flags|=4)};var Zs=!1,Ys=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Js(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(t,e,r)}else n.current=null}function tl(t,e,n){try{n()}catch(r){kc(t,e,r)}}var el=!1;function nl(t,e,n){var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(e,n,o)}i=i.next}while(i!==r)}}function rl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function il(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function ol(t){var e=t.alternate;null!==e&&(t.alternate=null,ol(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[di],delete e[fi],delete e[mi],delete e[gi],delete e[yi])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function al(t){return 5===t.tag||3===t.tag||4===t.tag}function sl(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||al(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ll(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Jr));else if(4!==r&&null!==(t=t.child))for(ll(t,e,n),t=t.sibling;null!==t;)ll(t,e,n),t=t.sibling}function cl(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}var ul=null,hl=!1;function dl(t,e,n){for(n=n.child;null!==n;)fl(t,e,n),n=n.sibling}function fl(t,e,n){if(oe&&"function"===typeof oe.onCommitFiberUnmount)try{oe.onCommitFiberUnmount(ie,n)}catch(s){}switch(n.tag){case 5:Ys||Js(n,e);case 6:var r=ul,i=hl;ul=null,dl(t,e,n),hl=i,null!==(ul=r)&&(hl?(t=ul,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(t=ul,n=n.stateNode,8===t.nodeType?li(t.parentNode,n):1===t.nodeType&&li(t,n),Ve(t)):li(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,dl(t,e,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tl(n,e,a),i=i.next}while(i!==r)}dl(t,e,n);break;case 1:if(!Ys&&(Js(n,e),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){kc(n,e,s)}dl(t,e,n);break;case 21:dl(t,e,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,dl(t,e,n),Ys=r):dl(t,e,n);break;default:dl(t,e,n)}}function pl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new Xs),e.forEach((function(e){var r=Pc.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function ml(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,s=e,l=s;t:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break t;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break t}l=l.return}if(null===ul)throw Error(o(160));fl(a,s,i),ul=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)gl(e,t),e=e.sibling}function gl(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ml(e,t),yl(t),4&r){try{nl(3,t,t.return),rl(3,t)}catch(g){kc(t,t.return,g)}try{nl(5,t,t.return)}catch(g){kc(t,t.return,g)}}break;case 1:ml(e,t),yl(t),512&r&&null!==n&&Js(n,n.return);break;case 5:if(ml(e,t),yl(t),512&r&&null!==n&&Js(n,n.return),32&t.flags){var i=t.stateNode;try{dt(i,"")}catch(g){kc(t,t.return,g)}}if(4&r&&null!=(i=t.stateNode)){var a=t.memoizedProps,s=null!==n?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),bt(l,s);var u=bt(l,a);for(s=0;s<c.length;s+=2){var h=c[s],d=c[s+1];"style"===h?gt(i,d):"dangerouslySetInnerHTML"===h?ht(i,d):"children"===h?dt(i,d):b(i,h,d,u)}switch(l){case"input":Q(i,a);break;case"textarea":ot(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?nt(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?nt(i,!!a.multiple,a.defaultValue,!0):nt(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){kc(t,t.return,g)}}break;case 6:if(ml(e,t),yl(t),4&r){if(null===t.stateNode)throw Error(o(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(g){kc(t,t.return,g)}}break;case 3:if(ml(e,t),yl(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ve(e.containerInfo)}catch(g){kc(t,t.return,g)}break;case 4:default:ml(e,t),yl(t);break;case 13:ml(e,t),yl(t),8192&(i=t.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Ul=Xt())),4&r&&pl(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Ys=(u=Ys)||h,ml(e,t),Ys=u):ml(e,t),yl(t),8192&r){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!h&&0!==(1&t.mode))for(Qs=t,h=t.child;null!==h;){for(d=Qs=h;null!==Qs;){switch(p=(f=Qs).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Js(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:Js(f,f.return);break;case 22:if(null!==f.memoizedState){wl(d);continue}}null!==p?(p.return=f,Qs=p):wl(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=mt("display",s))}catch(g){kc(t,t.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){kc(t,t.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(e,t),yl(t),4&r&&pl(t);case 21:}}function yl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(al(n)){var r=n;break t}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(dt(i,""),r.flags&=-33),cl(t,sl(t),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(t,sl(t),a);break;default:throw Error(o(161))}}catch(s){kc(t,t.return,s)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function vl(t,e,n){Qs=t,bl(t,e,n)}function bl(t,e,n){for(var r=0!==(1&t.mode);null!==Qs;){var i=Qs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Zs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Zs;var c=Ys;if(Zs=a,(Ys=l)&&!c)for(Qs=i;null!==Qs;)l=(a=Qs).child,22===a.tag&&null!==a.memoizedState?xl(i):null!==l?(l.return=a,Qs=l):xl(i);for(;null!==o;)Qs=o,bl(o,e,n),o=o.sibling;Qs=i,Zs=s,Ys=c}_l(t)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Qs=o):_l(t)}}function _l(t){for(;null!==Qs;){var e=Qs;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Ys||rl(5,e);break;case 1:var r=e.stateNode;if(4&e.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ns(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&Ho(e,a,r);break;case 3:var s=e.updateQueue;if(null!==s){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Ho(e,s,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ve(d)}}}break;default:throw Error(o(163))}Ys||512&e.flags&&il(e)}catch(f){kc(e,e.return,f)}}if(e===t){Qs=null;break}if(null!==(n=e.sibling)){n.return=e.return,Qs=n;break}Qs=e.return}}function wl(t){for(;null!==Qs;){var e=Qs;if(e===t){Qs=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Qs=n;break}Qs=e.return}}function xl(t){for(;null!==Qs;){var e=Qs;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rl(4,e)}catch(l){kc(e,n,l)}break;case 1:var r=e.stateNode;if("function"===typeof r.componentDidMount){var i=e.return;try{r.componentDidMount()}catch(l){kc(e,i,l)}}var o=e.return;try{il(e)}catch(l){kc(e,o,l)}break;case 5:var a=e.return;try{il(e)}catch(l){kc(e,a,l)}}}catch(l){kc(e,e.return,l)}if(e===t){Qs=null;break}var s=e.sibling;if(null!==s){s.return=e.return,Qs=s;break}Qs=e.return}}var Sl,kl=Math.ceil,Ol=_.ReactCurrentDispatcher,El=_.ReactCurrentOwner,Tl=_.ReactCurrentBatchConfig,Pl=0,Cl=null,Al=null,jl=0,Il=0,Ml=ki(0),Nl=0,Dl=null,Ll=0,Rl=0,zl=0,Fl=null,Bl=null,Ul=0,Vl=1/0,Wl=null,Hl=!1,$l=null,ql=null,Gl=!1,Kl=null,Zl=0,Yl=0,Xl=null,Ql=-1,Jl=0;function tc(){return 0!==(6&Pl)?Xt():-1!==Ql?Ql:Ql=Xt()}function ec(t){return 0===(1&t.mode)?1:0!==(2&Pl)&&0!==jl?jl&-jl:null!==go.transition?(0===Jl&&(Jl=me()),Jl):0!==(t=be)?t:t=void 0===(t=window.event)?16:Ye(t.type)}function nc(t,e,n,r){if(50<Yl)throw Yl=0,Xl=null,Error(o(185));ye(t,n,r),0!==(2&Pl)&&t===Cl||(t===Cl&&(0===(2&Pl)&&(Rl|=n),4===Nl&&sc(t,jl)),rc(t,r),1===n&&0===Pl&&0===(1&e.mode)&&(Vl=Xt()+500,Fi&&Vi()))}function rc(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ae(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=fe(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}(t,e);var r=de(t,t===Cl?jl:0);if(0===r)null!==n&&Kt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(null!=n&&Kt(n),1===e)0===t.tag?function(t){Fi=!0,Ui(t)}(lc.bind(null,t)):Ui(lc.bind(null,t)),ai((function(){0===(6&Pl)&&Vi()})),n=null;else{switch(_e(r)){case 1:n=Jt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=re}n=Cc(n,ic.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ic(t,e){if(Ql=-1,Jl=0,0!==(6&Pl))throw Error(o(327));var n=t.callbackNode;if(xc()&&t.callbackNode!==n)return null;var r=de(t,t===Cl?jl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&t.expiredLanes)||e)e=gc(t,r);else{e=r;var i=Pl;Pl|=2;var a=pc();for(Cl===t&&jl===e||(Wl=null,Vl=Xt()+500,dc(t,e));;)try{vc();break}catch(l){fc(t,l)}To(),Ol.current=a,Pl=i,null!==Al?e=0:(Cl=null,jl=0,e=Nl)}if(0!==e){if(2===e&&(0!==(i=pe(t))&&(r=i,e=oc(t,i))),1===e)throw n=Dl,dc(t,0),sc(t,r),rc(t,Xt()),n;if(6===e)sc(t,r);else{if(i=t.current.alternate,0===(30&r)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=gc(t,r))&&(0!==(a=pe(t))&&(r=a,e=oc(t,a))),1===e))throw n=Dl,dc(t,0),sc(t,r),rc(t,Xt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(o(345));case 2:case 5:wc(t,Bl,Wl);break;case 3:if(sc(t,r),(130023424&r)===r&&10<(e=Ul+500-Xt())){if(0!==de(t,0))break;if(((i=t.suspendedLanes)&r)!==r){tc(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ri(wc.bind(null,t,Bl,Wl),e);break}wc(t,Bl,Wl);break;case 4:if(sc(t,r),(4194240&r)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ae(r);a=1<<s,(s=e[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){t.timeoutHandle=ri(wc.bind(null,t,Bl,Wl),r);break}wc(t,Bl,Wl);break;default:throw Error(o(329))}}}return rc(t,Xt()),t.callbackNode===n?ic.bind(null,t):null}function oc(t,e){var n=Fl;return t.current.memoizedState.isDehydrated&&(dc(t,e).flags|=256),2!==(t=gc(t,e))&&(e=Bl,Bl=n,null!==e&&ac(e)),t}function ac(t){null===Bl?Bl=t:Bl.push.apply(Bl,t)}function sc(t,e){for(e&=~zl,e&=~Rl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ae(e),r=1<<n;t[n]=-1,e&=~r}}function lc(t){if(0!==(6&Pl))throw Error(o(327));xc();var e=de(t,0);if(0===(1&e))return rc(t,Xt()),null;var n=gc(t,e);if(0!==t.tag&&2===n){var r=pe(t);0!==r&&(e=r,n=oc(t,r))}if(1===n)throw n=Dl,dc(t,0),sc(t,e),rc(t,Xt()),n;if(6===n)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wc(t,Bl,Wl),rc(t,Xt()),null}function cc(t,e){var n=Pl;Pl|=1;try{return t(e)}finally{0===(Pl=n)&&(Vl=Xt()+500,Fi&&Vi())}}function uc(t){null!==Kl&&0===Kl.tag&&0===(6&Pl)&&xc();var e=Pl;Pl|=1;var n=Tl.transition,r=be;try{if(Tl.transition=null,be=1,t)return t()}finally{be=r,Tl.transition=n,0===(6&(Pl=e))&&Vi()}}function hc(){Il=Ml.current,Oi(Ml)}function dc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(eo(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mi();break;case 3:Xo(),Oi(Ci),Oi(Pi),ra();break;case 5:Jo(r);break;case 4:Xo();break;case 13:case 19:Oi(ta);break;case 10:Po(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Cl=t,Al=t=Mc(t.current,null),jl=Il=e,Nl=0,Dl=null,zl=Rl=Ll=0,Bl=Fl=null,null!==Io){for(e=0;e<Io.length;e++)if(null!==(r=(n=Io[e]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Io=null}return t}function fc(t,e){for(;;){var n=Al;try{if(To(),ia.current=Qa,ua){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,ha=!1,da=0,El.current=null,null===n||null===n.return){Nl=1,Dl=e,Al=null;break}t:{var a=t,s=n.return,l=n,c=e;if(e=jl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,e),1&p.mode&&ms(a,u,e),c=u;var m=(e=p).updateQueue;if(null===m){var g=new Set;g.add(c),e.updateQueue=g}else m.add(c);break t}if(0===(1&e)){ms(a,u,e),mc();break t}c=Error(o(426))}else if(io&&1&l.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,e),mo(cs(c,l));break t}}a=c=cs(c,l),4!==Nl&&(Nl=2),null===Fl?Fl=[a]:Fl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,Vo(a,fs(0,c,e));break t;case 1:l=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e,Vo(a,ps(a,l,e));break t}}a=a.return}while(null!==a)}_c(n)}catch(_){e=_,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function pc(){var t=Ol.current;return Ol.current=Qa,null===t?Qa:t}function mc(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Cl||0===(268435455&Ll)&&0===(268435455&Rl)||sc(Cl,jl)}function gc(t,e){var n=Pl;Pl|=2;var r=pc();for(Cl===t&&jl===e||(Wl=null,dc(t,e));;)try{yc();break}catch(i){fc(t,i)}if(To(),Pl=n,Ol.current=r,null!==Al)throw Error(o(261));return Cl=null,jl=0,Nl}function yc(){for(;null!==Al;)bc(Al)}function vc(){for(;null!==Al&&!Zt();)bc(Al)}function bc(t){var e=Sl(t.alternate,t,Il);t.memoizedProps=t.pendingProps,null===e?_c(t):Al=e,El.current=null}function _c(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Gs(n,e,Il)))return void(Al=n)}else{if(null!==(n=Ks(n,e)))return n.flags&=32767,void(Al=n);if(null===t)return Nl=6,void(Al=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Al=e);Al=e=t}while(null!==e);0===Nl&&(Nl=5)}function wc(t,e,n){var r=be,i=Tl.transition;try{Tl.transition=null,be=1,function(t,e,n,r){do{xc()}while(null!==Kl);if(0!==(6&Pl))throw Error(o(327));n=t.finishedWork;var i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ae(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}(t,a),t===Cl&&(Al=Cl=null,jl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Cc(ee,(function(){return xc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tl.transition,Tl.transition=null;var s=be;be=1;var l=Pl;Pl|=4,El.current=null,function(t,e){if(ti=He,fr(t=dr())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break t}var s=0,l=-1,c=-1,u=0,h=0,d=t,f=null;e:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=s+i),d!==a||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===n&&++u===i&&(l=s),f===a&&++h===r&&(c=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:t,selectionRange:n},He=!1,Qs=e;null!==Qs;)if(t=(e=Qs).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Qs=t;else for(;null!==Qs;){e=Qs;try{var m=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:ns(e.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=e.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(w){kc(e,e.return,w)}if(null!==(t=e.sibling)){t.return=e.return,Qs=t;break}Qs=e.return}m=el,el=!1}(t,n),gl(n,t),pr(ei),He=!!ti,ei=ti=null,t.current=n,vl(n,t,i),Yt(),Pl=l,be=s,Tl.transition=a}else t.current=n;if(Gl&&(Gl=!1,Kl=t,Zl=i),a=t.pendingLanes,0===a&&(ql=null),function(t){if(oe&&"function"===typeof oe.onCommitFiberRoot)try{oe.onCommitFiberRoot(ie,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),rc(t,Xt()),null!==e)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,t=$l,$l=null,t;0!==(1&Zl)&&0!==t.tag&&xc(),a=t.pendingLanes,0!==(1&a)?t===Xl?Yl++:(Yl=0,Xl=t):Yl=0,Vi()}(t,e,n,r)}finally{Tl.transition=i,be=r}return null}function xc(){if(null!==Kl){var t=_e(Zl),e=Tl.transition,n=be;try{if(Tl.transition=null,be=16>t?16:t,null===Kl)var r=!1;else{if(t=Kl,Kl=null,Zl=0,0!==(6&Pl))throw Error(o(331));var i=Pl;for(Pl|=4,Qs=t.current;null!==Qs;){var a=Qs,s=a.child;if(0!==(16&Qs.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qs=u;null!==Qs;){var h=Qs;switch(h.tag){case 0:case 11:case 15:nl(8,h,a)}var d=h.child;if(null!==d)d.return=h,Qs=d;else for(;null!==Qs;){var f=(h=Qs).sibling,p=h.return;if(ol(h),h===u){Qs=null;break}if(null!==f){f.return=p,Qs=f;break}Qs=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Qs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Qs=s;else t:for(;null!==Qs;){if(0!==(2048&(a=Qs).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Qs=v;break t}Qs=a.return}}var b=t.current;for(Qs=b;null!==Qs;){var _=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Qs=_;else t:for(s=b;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){kc(l,l.return,x)}if(l===s){Qs=null;break t}var w=l.sibling;if(null!==w){w.return=l.return,Qs=w;break t}Qs=l.return}}if(Pl=i,Vi(),oe&&"function"===typeof oe.onPostCommitFiberRoot)try{oe.onPostCommitFiberRoot(ie,t)}catch(x){}r=!0}return r}finally{be=n,Tl.transition=e}}return!1}function Sc(t,e,n){t=Bo(t,e=fs(0,e=cs(n,e),1),1),e=tc(),null!==t&&(ye(t,1,e),rc(t,e))}function kc(t,e,n){if(3===t.tag)Sc(t,t,n);else for(;null!==e;){if(3===e.tag){Sc(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){e=Bo(e,t=ps(e,t=cs(n,t),1),1),t=tc(),null!==e&&(ye(e,1,t),rc(e,t));break}}e=e.return}}function Oc(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=tc(),t.pingedLanes|=t.suspendedLanes&n,Cl===t&&(jl&n)===n&&(4===Nl||3===Nl&&(130023424&jl)===jl&&500>Xt()-Ul?dc(t,0):zl|=n),rc(t,e)}function Ec(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var n=tc();null!==(t=Do(t,e))&&(ye(t,e,n),rc(t,n))}function Tc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Ec(t,n)}function Pc(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(e),Ec(t,n)}function Cc(t,e){return Gt(t,e)}function Ac(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jc(t,e,n,r){return new Ac(t,e,n,r)}function Ic(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Mc(t,e){var n=t.alternate;return null===n?((n=jc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Nc(t,e,n,r,i,a){var s=2;if(r=t,"function"===typeof t)Ic(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case S:return Dc(n.children,i,a,e);case k:s=8,i|=8;break;case O:return(t=jc(12,n,e,2|i)).elementType=O,t.lanes=a,t;case C:return(t=jc(13,n,e,i)).elementType=C,t.lanes=a,t;case A:return(t=jc(19,n,e,i)).elementType=A,t.lanes=a,t;case M:return Lc(n,i,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case E:s=10;break t;case T:s=9;break t;case P:s=11;break t;case j:s=14;break t;case I:s=16,r=null;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=jc(s,n,e,i)).elementType=t,e.type=r,e.lanes=a,e}function Dc(t,e,n,r){return(t=jc(7,t,r,e)).lanes=n,t}function Lc(t,e,n,r){return(t=jc(22,t,r,e)).elementType=M,t.lanes=n,t.stateNode={isHidden:!1},t}function Rc(t,e,n){return(t=jc(6,t,null,e)).lanes=n,t}function zc(t,e,n){return(e=jc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fc(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ge(0),this.expirationTimes=ge(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ge(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(t,e,n,r,i,o,a,s,l){return t=new Fc(t,e,n,s,l),1===e?(e=1,!0===o&&(e|=8)):e=0,o=jc(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ro(o),t}function Uc(t){if(!t)return Ti;t:{if(Vt(t=t._reactInternals)!==t||1!==t.tag)throw Error(o(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Ii(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(o(171))}if(1===t.tag){var n=t.type;if(Ii(n))return Di(t,n,e)}return e}function Vc(t,e,n,r,i,o,a,s,l){return(t=Bc(n,r,!0,t,0,o,0,s,l)).context=Uc(null),n=t.current,(o=Fo(r=tc(),i=ec(n))).callback=void 0!==e&&null!==e?e:null,Bo(n,o,i),t.current.lanes=i,ye(t,i,r),rc(t,r),t}function Wc(t,e,n,r){var i=e.current,o=tc(),a=ec(i);return n=Uc(n),null===e.context?e.context=n:e.pendingContext=n,(e=Fo(o,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),null!==(t=Bo(i,e,a))&&(nc(t,i,a,o),Uo(t,i,a)),a}function Hc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function $c(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function qc(t,e){$c(t,e),(t=t.alternate)&&$c(t,e)}Sl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Ci.current)bs=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return bs=!1,function(t,e,n){switch(e.tag){case 3:Cs(e),po();break;case 5:Qo(e);break;case 1:Ii(e.type)&&Li(e);break;case 4:Yo(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ei(So,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=e.memoizedState))return null!==r.dehydrated?(Ei(ta,1&ta.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Rs(t,e,n):(Ei(ta,1&ta.current),null!==(t=Hs(t,e,n))?t.sibling:null);Ei(ta,1&ta.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(128&t.flags)){if(r)return Vs(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(ta,ta.current),r)break;return null;case 22:case 23:return e.lanes=0,ks(t,e,n)}return Hs(t,e,n)}(t,e,n);bs=0!==(131072&t.flags)}else bs=!1,io&&0!==(1048576&e.flags)&&Ji(e,qi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ws(t,e),t=e.pendingProps;var i=ji(e,Pi.current);Ao(e,n),i=ga(null,e,r,t,i,n);var a=ya();return e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ii(r)?(a=!0,Li(e)):a=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ro(e),i.updater=is,e.stateNode=i,i._reactInternals=e,ls(e,r,t,n),e=Ps(null,e,r,!0,a,n)):(e.tag=0,io&&a&&to(e),_s(null,e,i,n),e=e.child),e;case 16:r=e.elementType;t:{switch(Ws(t,e),t=e.pendingProps,r=(i=r._init)(r._payload),e.type=r,i=e.tag=function(t){if("function"===typeof t)return Ic(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===P)return 11;if(t===j)return 14}return 2}(r),t=ns(r,t),i){case 0:e=Es(null,e,r,t,n);break t;case 1:e=Ts(null,e,r,t,n);break t;case 11:e=ws(null,e,r,t,n);break t;case 14:e=xs(null,e,r,ns(r.type,t),n);break t}throw Error(o(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,Es(t,e,r,i=e.elementType===r?i:ns(r,i),n);case 1:return r=e.type,i=e.pendingProps,Ts(t,e,r,i=e.elementType===r?i:ns(r,i),n);case 3:t:{if(Cs(e),null===t)throw Error(o(387));r=e.pendingProps,i=(a=e.memoizedState).element,zo(t,e),Wo(e,r,null,n);var s=e.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=As(t,e,r,n,i=cs(Error(o(423)),e));break t}if(r!==i){e=As(t,e,r,n,i=cs(Error(o(424)),e));break t}for(ro=ci(e.stateNode.containerInfo.firstChild),no=e,io=!0,oo=null,n=xo(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){e=Hs(t,e,n);break t}_s(t,e,r,n)}e=e.child}return e;case 5:return Qo(e),null===t&&co(e),r=e.type,i=e.pendingProps,a=null!==t?t.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(e.flags|=32),Os(t,e),_s(t,e,s,n),e.child;case 6:return null===t&&co(e),null;case 13:return Rs(t,e,n);case 4:return Yo(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=wo(e,null,r,n):_s(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,ws(t,e,r,i=e.elementType===r?i:ns(r,i),n);case 7:return _s(t,e,e.pendingProps,n),e.child;case 8:case 12:return _s(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value,Ei(So,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ci.current){e=Hs(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Co(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Co(s,n,e),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}_s(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ao(e,n),r=r(i=jo(i)),e.flags|=1,_s(t,e,r,n),e.child;case 14:return i=ns(r=e.type,e.pendingProps),xs(t,e,r,i=ns(r.type,i),n);case 15:return Ss(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ns(r,i),Ws(t,e),e.tag=1,Ii(r)?(t=!0,Li(e)):t=!1,Ao(e,n),as(e,r,i),ls(e,r,i,n),Ps(null,e,r,!0,t,n);case 19:return Vs(t,e,n);case 22:return ks(t,e,n)}throw Error(o(156,e.tag))};var Gc="function"===typeof reportError?reportError:function(t){console.error(t)};function Kc(t){this._internalRoot=t}function Zc(t){this._internalRoot=t}function Yc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Xc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Qc(){}function Jc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var t=Hc(a);s.call(t)}}Wc(e,a,t,i)}else a=function(t,e,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var t=Hc(a);o.call(t)}}var a=Vc(e,r,t,0,null,!1,0,"",Qc);return t._reactRootContainer=a,t[pi]=a.current,Vr(8===t.nodeType?t.parentNode:t),uc(),a}for(;i=t.lastChild;)t.removeChild(i);if("function"===typeof r){var s=r;r=function(){var t=Hc(l);s.call(t)}}var l=Bc(t,0,!1,null,0,!1,0,"",Qc);return t._reactRootContainer=l,t[pi]=l.current,Vr(8===t.nodeType?t.parentNode:t),uc((function(){Wc(e,l,n,r)})),l}(n,e,t,i,r);return Hc(a)}Zc.prototype.render=Kc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(o(409));Wc(t,e,null,null)},Zc.prototype.unmount=Kc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;uc((function(){Wc(null,t,null,null)})),e[pi]=null}},Zc.prototype.unstable_scheduleHydration=function(t){if(t){var e=ke();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Me.length&&0!==e&&e<Me[n].priority;n++);Me.splice(n,0,t),0===n&&Re(t)}},we=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ve(e,1|n),rc(e,Xt()),0===(6&Pl)&&(Vl=Xt()+500,Vi()))}break;case 13:uc((function(){var e=Do(t,1);if(null!==e){var n=tc();nc(e,t,1,n)}})),qc(t,1)}},xe=function(t){if(13===t.tag){var e=Do(t,134217728);if(null!==e)nc(e,t,134217728,tc());qc(t,134217728)}},Se=function(t){if(13===t.tag){var e=ec(t),n=Do(t,e);if(null!==n)nc(n,t,e,tc());qc(t,e)}},ke=function(){return be},Oe=function(t,e){var n=be;try{return be=t,e()}finally{be=n}},xt=function(t,e,n){switch(e){case"input":if(Q(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wi(r);if(!i)throw Error(o(90));G(r),Q(r,i)}}}break;case"textarea":ot(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Pt=cc,Ct=uc;var tu={usingClientEntryPoint:!1,Events:[bi,_i,wi,Et,Tt,cc]},eu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=$t(t))?null:t.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ie=ru.inject(nu),oe=ru}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(e))throw Error(o(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Yc(t))throw Error(o(299));var n=!1,r="",i=Gc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Bc(t,1,!1,null,0,n,0,r,i),t[pi]=e.current,Vr(8===t.nodeType?t.parentNode:t),new Kc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(o(188));throw t=Object.keys(t).join(","),Error(o(268,t))}return t=null===(t=$t(e))?null:t.stateNode},e.flushSync=function(t){return uc(t)},e.hydrate=function(t,e,n){if(!Xc(e))throw Error(o(200));return Jc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Yc(t))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),e=Vc(e,null,t,1,null!=n?n:null,i,0,a,s),t[pi]=e.current,Vr(t),r)for(t=0;t<r.length;t++)i=(i=(n=r[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zc(e)},e.render=function(t,e,n){if(!Xc(e))throw Error(o(200));return Jc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Xc(t))throw Error(o(40));return!!t._reactRootContainer&&(uc((function(){Jc(null,null,t,!1,(function(){t._reactRootContainer=null,t[pi]=null}))})),!0)},e.unstable_batchedUpdates=cc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xc(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return Jc(t,e,n,!1,r)},e.version="18.3.1-next-f1338f8080-20240426"},4391:(t,e,n)=>{"use strict";var r=n(7950);e.createRoot=r.createRoot,e.hydrateRoot=r.hydrateRoot},7950:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(2730)},1153:(t,e,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)a.call(e,r)&&!l.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:c,ref:u,props:o,_owner:s.current}}e.Fragment=o,e.jsx=c,e.jsxs=c},4202:(t,e)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}function v(){}function b(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=y.prototype;var _=b.prototype=new v;_.constructor=b,m(_,y.prototype),_.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function O(t,e,r){var i,o={},a=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)x.call(e,i)&&!k.hasOwnProperty(i)&&(o[i]=e[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:t,key:a,ref:s,props:o,_owner:S.current}}function E(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var T=/\/+/g;function P(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function C(t,e,i,o,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=t),t=""===o?"."+P(l,0):o,w(a)?(i="",null!=t&&(i=t.replace(T,"$&/")+"/"),C(a,e,i,"",(function(t){return t}))):null!=a&&(E(a)&&(a=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+t)),e.push(a)),1;if(l=0,o=""===o?".":o+":",w(t))for(var c=0;c<t.length;c++){var u=o+P(s=t[c],c);l+=C(s,e,i,u,a)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(s=t.next()).done;)l+=C(s=s.value,e,i,u=o+P(s,c++),a);else if("object"===s)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function A(t,e,n){if(null==t)return t;var r=[],i=0;return C(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function j(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var I={current:null},M={transition:null},N={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:M,ReactCurrentOwner:S};function D(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:A,forEach:function(t,e,n){A(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return A(t,(function(){e++})),e},toArray:function(t){return A(t,(function(t){return t}))||[]},only:function(t){if(!E(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=i,e.Profiler=a,e.PureComponent=b,e.StrictMode=o,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,e.act=D,e.cloneElement=function(t,e,r){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=m({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,s=S.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)x.call(e,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:t.type,key:o,ref:a,props:i,_owner:s}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:t},t.Consumer=t},e.createElement=O,e.createFactory=function(t){var e=O.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=E,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:j}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=M.transition;M.transition={};try{t()}finally{M.transition=e}},e.unstable_act=D,e.useCallback=function(t,e){return I.current.useCallback(t,e)},e.useContext=function(t){return I.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return I.current.useDeferredValue(t)},e.useEffect=function(t,e){return I.current.useEffect(t,e)},e.useId=function(){return I.current.useId()},e.useImperativeHandle=function(t,e,n){return I.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return I.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return I.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return I.current.useMemo(t,e)},e.useReducer=function(t,e,n){return I.current.useReducer(t,e,n)},e.useRef=function(t){return I.current.useRef(t)},e.useState=function(t){return I.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return I.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return I.current.useTransition()},e.version="18.3.1"},5043:(t,e,n)=>{"use strict";t.exports=n(4202)},579:(t,e,n)=>{"use strict";t.exports=n(1153)},6378:(t,e)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case o:case s:case a:case d:case f:return t;default:switch(t=t&&t.$$typeof){case u:case c:case h:case m:case p:case l:return t;default:return e}}case i:return e}}}n=Symbol.for("react.module.reference"),e.isFragment=function(t){return y(t)===o}},9062:(t,e,n)=>{"use strict";t.exports=n(6378)},7234:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,i=t[r];if(!(0<o(i,e)))break t;t[r]=e,t[n]=i,n=r}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=t[s],c=s+1,u=t[c];if(0>o(l,n))c<i&&0>o(u,l)?(t[r]=u,t[c]=n,r=c):(t[r]=l,t[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break t;t[r]=u,t[c]=n,r=c}}}return e}function o(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(t){for(var e=r(u);null!==e;){if(null===e.callback)i(u);else{if(!(e.startTime<=t))break;i(u),e.sortIndex=e.expirationTime,n(c,e)}e=r(u)}}function w(t){if(g=!1,_(t),!m)if(null!==r(c))m=!0,M(x);else{var e=r(u);null!==e&&N(w,e.startTime-t)}}function x(t,n){m=!1,g&&(g=!1,v(E),E=-1),p=!0;var o=f;try{for(_(n),d=r(c);null!==d&&(!(d.expirationTime>n)||t&&!C());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var s=a(d.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?d.callback=s:d===r(c)&&i(c),_(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&N(w,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,O=null,E=-1,T=5,P=-1;function C(){return!(e.unstable_now()-P<T)}function A(){if(null!==O){var t=e.unstable_now();P=t;var n=!0;try{n=O(!0,t)}finally{n?S():(k=!1,O=null)}}else k=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,I=j.port2;j.port1.onmessage=A,S=function(){I.postMessage(null)}}else S=function(){y(A,0)};function M(t){O=t,k||(k=!0,S())}function N(t,n){E=y((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,M(x))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,i,o){var a=e.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,t){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return t={id:h++,callback:i,priorityLevel:t,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(t.sortIndex=o,n(u,t),null===r(c)&&t===r(u)&&(g?(v(E),E=-1):g=!0,N(w,o-a))):(t.sortIndex=s,n(c,t),m||p||(m=!0,M(x))),t},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},8853:(t,e,n)=>{"use strict";t.exports=n(7234)}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};t=t||[null,e({}),e([]),e(e)];for(var s=2&i&&r;"object"==typeof s&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((t=>a[t]=()=>r[t]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,r)=>(n.f[r](t,e),e)),[])),n.u=t=>"static/js/"+t+".d3c356ac.chunk.js",n.miniCssF=t=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={},e="resume-website:";n.l=(r,i,o,a)=>{if(t[r])t[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==e+o){s=h;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",e+o),s.src=r),t[r]=[i];var d=(e,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=t[r];if(delete t[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((t=>t(n))),e)return e(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n.p="/",(()=>{var t={792:0};n.f.j=(e,r)=>{var i=n.o(t,e)?t[e]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=t[e]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(e),s=new Error;n.l(a,(r=>{if(n.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+e,e)}};var e=(e,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((e=>0!==t[e]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(e&&e(r);c<a.length;c++)o=a[c],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0},r=self.webpackChunkresume_website=self.webpackChunkresume_website||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),(()=>{"use strict";var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>Fe,hasStandardBrowserEnv:()=>Be,hasStandardBrowserWebWorkerEnv:()=>Ve,origin:()=>We});var e={};n.r(e),n.d(e,{scaleBand:()=>qM,scaleDiverging:()=>SF,scaleDivergingLog:()=>kF,scaleDivergingPow:()=>EF,scaleDivergingSqrt:()=>TF,scaleDivergingSymlog:()=>OF,scaleIdentity:()=>yL,scaleImplicit:()=>HM,scaleLinear:()=>gL,scaleLog:()=>EL,scaleOrdinal:()=>$M,scalePoint:()=>KM,scalePow:()=>DL,scaleQuantile:()=>GL,scaleQuantize:()=>KL,scaleRadial:()=>zL,scaleSequential:()=>gF,scaleSequentialLog:()=>yF,scaleSequentialPow:()=>bF,scaleSequentialQuantile:()=>wF,scaleSequentialSqrt:()=>_F,scaleSequentialSymlog:()=>vF,scaleSqrt:()=>LL,scaleSymlog:()=>AL,scaleThreshold:()=>ZL,scaleTime:()=>dF,scaleUtc:()=>fF,tickFormat:()=>pL});var r,i,o=n(5043),a=n.t(o,2),s=n(4391),l=n(7950),c=n.t(l,2);function u(){return u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u.apply(this,arguments)}(i=r||(r={})).Pop="POP",i.Push="PUSH",i.Replace="REPLACE";const h="popstate";function d(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function f(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function p(t,e){return{usr:t.state,key:t.key,idx:e}}function m(t,e,n,r){return void 0===n&&(n=null),u({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?y(e):e,{state:n,key:e&&e.key||r||Math.random().toString(36).substr(2,8)})}function g(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(e+="#"===r.charAt(0)?r:"#"+r),e}function y(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function v(t,e,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,s=o.history,l=r.Pop,c=null,f=y();function y(){return(s.state||{idx:null}).idx}function v(){l=r.Pop;let t=y(),e=null==t?null:t-f;f=t,c&&c({action:l,location:_.location,delta:e})}function b(t){let e="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof t?t:g(t);return n=n.replace(/ $/,"%20"),d(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}null==f&&(f=0,s.replaceState(u({},s.state,{idx:f}),""));let _={get action(){return l},get location(){return t(o,s)},listen(t){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(h,v),c=t,()=>{o.removeEventListener(h,v),c=null}},createHref:t=>e(o,t),createURL:b,encodeLocation(t){let e=b(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){l=r.Push;let i=m(_.location,t,e);n&&n(i,t),f=y()+1;let u=p(i,f),h=_.createHref(i);try{s.pushState(u,"",h)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;o.location.assign(h)}a&&c&&c({action:l,location:_.location,delta:1})},replace:function(t,e){l=r.Replace;let i=m(_.location,t,e);n&&n(i,t),f=y();let o=p(i,f),u=_.createHref(i);s.replaceState(o,"",u),a&&c&&c({action:l,location:_.location,delta:0})},go:t=>s.go(t)};return _}var b,_;(_=b||(b={})).data="data",_.deferred="deferred",_.redirect="redirect",_.error="error";new Set(["lazy","caseSensitive","path","id","index","children"]);function w(t,e,n){return void 0===n&&(n="/"),x(t,e,n,!1)}function x(t,e,n,r){let i=L(("string"===typeof e?y(e):e).pathname||"/",n);if(null==i)return null;let o=S(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let t=D(i);a=M(o[s],t,r)}return a}function S(t,e,n,r){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(t,i,o)=>{let a={relativePath:void 0===o?t.path||"":o,caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};a.relativePath.startsWith("/")&&(d(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=R([r,a.relativePath]),l=n.concat(a);t.children&&t.children.length>0&&(d(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),S(t.children,e,l,s)),(null!=t.path||t.index)&&e.push({path:s,score:I(s,t.index),routesMeta:l})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?"))for(let r of k(t.path))i(t,e,r);else i(t,e)})),e}function k(t){let e=t.split("/");if(0===e.length)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=k(r.join("/")),s=[];return s.push(...a.map((t=>""===t?o:[o,t].join("/")))),i&&s.push(...a),s.map((e=>t.startsWith("/")&&""===e?"/":e))}const O=/^:[\w-]+$/,E=3,T=2,P=1,C=10,A=-2,j=t=>"*"===t;function I(t,e){let n=t.split("/"),r=n.length;return n.some(j)&&(r+=A),e&&(r+=T),n.filter((t=>!j(t))).reduce(((t,e)=>t+(O.test(e)?E:""===e?P:C)),r)}function M(t,e,n){void 0===n&&(n=!1);let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let t=r[s],l=s===r.length-1,c="/"===o?e:e.slice(o.length)||"/",u=N({path:t.relativePath,caseSensitive:t.caseSensitive,end:l},c),h=t.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=N({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:R([o,u.pathname]),pathnameBase:z(R([o,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(o=R([o,u.pathnameBase]))}return a}function N(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);f("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,n)=>(r.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(r.push({paramName:"*"}),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==t&&"/"!==t&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,e?void 0:"i");return[o,r]}(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((t,e,n)=>{let{paramName:r,isOptional:i}=e;if("*"===r){let t=s[n]||"";a=o.slice(0,o.length-t.length).replace(/(.)\/+$/,"$1")}const l=s[n];return t[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),t}),{}),pathname:o,pathnameBase:a,pattern:t}}function D(t){try{return t.split("/").map((t=>decodeURIComponent(t).replace(/\//g,"%2F"))).join("/")}catch(e){return f(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function L(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&"/"!==r?null:t.slice(n)||"/"}const R=t=>t.join("/").replace(/\/\/+/g,"/"),z=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");Error;function F(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}const B=["post","put","patch","delete"],U=(new Set(B),["get",...B]);new Set(U),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function V(){return V=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V.apply(this,arguments)}const W=o.createContext(null);const H=o.createContext(null);const $=o.createContext(null);const q=o.createContext(null);const G=o.createContext({outlet:null,matches:[],isDataRoute:!1});const K=o.createContext(null);function Z(){return null!=o.useContext(q)}function Y(){return Z()||d(!1),o.useContext(q).location}function X(t,e,n,i){Z()||d(!1);let{navigator:a}=o.useContext($),{matches:s}=o.useContext(G),l=s[s.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=Y();if(e){var p;let t="string"===typeof e?y(e):e;"/"===u||(null==(p=t.pathname)?void 0:p.startsWith(u))||d(!1),h=t}else h=f;let m=h.pathname||"/",g=m;if("/"!==u){let t=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(t.length).join("/")}let v=w(t,{pathname:g});let b=nt(v&&v.map((t=>Object.assign({},t,{params:Object.assign({},c,t.params),pathname:R([u,a.encodeLocation?a.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?u:R([u,a.encodeLocation?a.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),s,n,i);return e&&b?o.createElement(q.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},b):b}function Q(){let t=function(){var t;let e=o.useContext(K),n=it(rt.UseRouteError),r=ot(rt.UseRouteError);if(void 0!==e)return e;return null==(t=n.errors)?void 0:t[r]}(),e=F(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},e),n?o.createElement("pre",{style:i},n):null,null)}const J=o.createElement(Q,null);class tt extends o.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?o.createElement(G.Provider,{value:this.props.routeContext},o.createElement(K.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function et(t){let{routeContext:e,match:n,children:r}=t,i=o.useContext(W);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),o.createElement(G.Provider,{value:e},r)}function nt(t,e,n,r){var i;if(void 0===e&&(e=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==t){var a;if(null==(a=n)||!a.errors)return null;t=n.matches}let s=t,l=null==(i=n)?void 0:i.errors;if(null!=l){let t=s.findIndex((t=>t.route.id&&void 0!==(null==l?void 0:l[t.route.id])));t>=0||d(!1),s=s.slice(0,Math.min(s.length,t+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let o=0;o<s.length;o++){let t=s[o];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(u=o),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||i){c=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight(((t,r,i)=>{let a,h=!1,d=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,d=r.route.errorElement||J,c&&(u<0&&0===i?(p="route-fallback",!1||at[p]||(at[p]=!0),h=!0,f=null):u===i&&(h=!0,f=r.route.hydrateFallbackElement||null)));let m=e.concat(s.slice(0,i+1)),g=()=>{let e;return e=a?d:h?f:r.route.Component?o.createElement(r.route.Component,null):r.route.element?r.route.element:t,o.createElement(et,{match:r,routeContext:{outlet:t,matches:m,isDataRoute:null!=n},children:e})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?o.createElement(tt,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var rt=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rt||{});function it(t){let e=o.useContext(H);return e||d(!1),e}function ot(t){let e=function(t){let e=o.useContext(G);return e||d(!1),e}(),n=e.matches[e.matches.length-1];return n.route.id||d(!1),n.route.id}const at={};a.startTransition;function st(t){d(!1)}function lt(t){let{basename:e="/",children:n=null,location:i,navigationType:a=r.Pop,navigator:s,static:l=!1,future:c}=t;Z()&&d(!1);let u=e.replace(/^\/*/,"/"),h=o.useMemo((()=>({basename:u,navigator:s,static:l,future:V({v7_relativeSplatPath:!1},c)})),[u,c,s,l]);"string"===typeof i&&(i=y(i));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:v="default"}=i,b=o.useMemo((()=>{let t=L(f,u);return null==t?null:{location:{pathname:t,search:p,hash:m,state:g,key:v},navigationType:a}}),[u,f,p,m,g,v,a]);return null==b?null:o.createElement($.Provider,{value:h},o.createElement(q.Provider,{children:n,value:b}))}function ct(t){let{children:e,location:n}=t;return X(ut(e),n)}new Promise((()=>{}));o.Component;function ut(t,e){void 0===e&&(e=[]);let n=[];return o.Children.forEach(t,((t,r)=>{if(!o.isValidElement(t))return;let i=[...e,r];if(t.type===o.Fragment)return void n.push.apply(n,ut(t.props.children,i));t.type!==st&&d(!1),t.props.index&&t.props.children&&d(!1);let a={id:t.props.id||i.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(a.children=ut(t.props.children,i)),n.push(a)})),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(UK){}new Map;const ht=a.startTransition;c.flushSync,a.useId;function dt(t){let{basename:e,children:n,future:r,window:i}=t,a=o.useRef();var s;null==a.current&&(a.current=(void 0===(s={window:i,v5Compat:!0})&&(s={}),v((function(t,e){let{pathname:n,search:r,hash:i}=t.location;return m("",{pathname:n,search:r,hash:i},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:g(e)}),null,s)));let l=a.current,[c,u]=o.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},d=o.useCallback((t=>{h&&ht?ht((()=>u(t))):u(t)}),[u,h]);return o.useLayoutEffect((()=>l.listen(d)),[l,d]),o.createElement(lt,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var ft,pt,mt,gt;(pt=ft||(ft={})).UseScrollRestoration="useScrollRestoration",pt.UseSubmit="useSubmit",pt.UseSubmitFetcher="useSubmitFetcher",pt.UseFetcher="useFetcher",pt.useViewTransitionState="useViewTransitionState",(gt=mt||(mt={})).UseFetcher="useFetcher",gt.UseFetchers="useFetchers",gt.UseScrollRestoration="useScrollRestoration";var yt=n(579);const vt=t=>{let{title:e,children:n,backgroundColor:r="bg-blue-800"}=t;return(0,yt.jsxs)("div",{className:`${r} bg-opacity-50 p-6 rounded-lg mb-6 shadow-lg transition-all duration-300 ease-in-out hover:scale-105 hover:shadow-xl mb-6 font-['Montserrat',sans-serif]`,children:[(0,yt.jsx)("div",{className:"bg-blue-700 px-4 py-2 rounded-lg mb-5 flex justify-center items-center",children:(0,yt.jsx)("h3",{className:"text-lg font-semibold text-white",children:e})}),n]})},bt=()=>{const t=(0,o.useRef)(null);return(0,o.useEffect)((()=>{if(t.current){const e=t.current.getElementsByTagName("object")[0];e.style.width="100%",e.style.height="400px";const n=document.createElement("script");n.src="https://public.tableau.com/javascripts/api/viz_v1.js",e.parentNode.insertBefore(n,e)}}),[]),(0,yt.jsxs)("div",{className:"tableauPlaceholder",ref:t,style:{position:"relative",width:"100%",maxWidth:"1200px",margin:"0 auto",borderRadius:"15px",overflow:"hidden"},children:[(0,yt.jsx)("noscript",{children:(0,yt.jsx)("a",{href:"#",children:(0,yt.jsx)("img",{alt:"Dashboard 1",src:"https://public.tableau.com/static/images/of/offroad_vehicle_market/Dashboard1/1_rss.png",style:{border:"none",width:"100%",height:"auto"}})})}),(0,yt.jsxs)("object",{className:"tableauViz",style:{display:"none",width:"95%",height:"100%"},children:[(0,yt.jsx)("param",{name:"host_url",value:"https%3A%2F%2Fpublic.tableau.com%2F"}),(0,yt.jsx)("param",{name:"embed_code_version",value:"3"}),(0,yt.jsx)("param",{name:"site_root",value:""}),(0,yt.jsx)("param",{name:"name",value:"offroad_vehicle_market/Dashboard1"}),(0,yt.jsx)("param",{name:"tabs",value:"no"}),(0,yt.jsx)("param",{name:"toolbar",value:"yes"}),(0,yt.jsx)("param",{name:"static_image",value:"https://public.tableau.com/static/images/of/offroad_vehicle_market/Dashboard1/1.png"}),(0,yt.jsx)("param",{name:"animate_transition",value:"yes"}),(0,yt.jsx)("param",{name:"display_static_image",value:"yes"}),(0,yt.jsx)("param",{name:"display_spinner",value:"yes"}),(0,yt.jsx)("param",{name:"display_overlay",value:"yes"}),(0,yt.jsx)("param",{name:"display_count",value:"yes"}),(0,yt.jsx)("param",{name:"language",value:"en-US"})]})]})},_t=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(((t,e,n)=>Boolean(t)&&n.indexOf(t)===e)).join(" ")};var wt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xt=(0,o.forwardRef)(((t,e)=>{let{color:n="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:s="",children:l,iconNode:c,...u}=t;return(0,o.createElement)("svg",{ref:e,...wt,width:r,height:r,stroke:n,strokeWidth:a?24*Number(i)/Number(r):i,className:_t("lucide",s),...u},[...c.map((t=>{let[e,n]=t;return(0,o.createElement)(e,n)})),...Array.isArray(l)?l:[l]])})),St=(t,e)=>{const n=(0,o.forwardRef)(((n,r)=>{let{className:i,...a}=n;return(0,o.createElement)(xt,{ref:r,iconNode:e,className:_t(`lucide-${s=t,s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,i),...a});var s}));return n.displayName=`${t}`,n},kt=St("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Ot=[{name:"Languages",color:"bg-blue-500",skills:[{name:"Python",link:"https://www.python.org/"},{name:"JavaScript",link:"https://developer.mozilla.org/en-US/docs/Web/JavaScript"},{name:"Java",link:"https://www.java.com/"},{name:"VBA",link:"https://docs.microsoft.com/en-us/office/vba/library-reference/concepts/getting-started-with-vba-in-office"}]},{name:"Frameworks & Libraries",color:"bg-green-500",skills:[{name:"Flask",link:"https://flask.palletsprojects.com/"},{name:"uWSGI",link:"https://uwsgi-docs.readthedocs.io/"},{name:"GPT Tools",link:"https://openai.com/blog/openai-api/"},{name:"React",link:"https://reactjs.org/"},{name:"Node.js",link:"https://nodejs.org/"},{name:"Express",link:"https://expressjs.com/"}]},{name:"Tools & Technologies",color:"bg-purple-500",skills:[{name:"Docker",link:"https://www.docker.com/"},{name:"AWS",link:"https://aws.amazon.com/"},{name:"GCP",link:"https://cloud.google.com/"},{name:"Linux sysadmin",link:"https://www.linux.org/"},{name:"Nginx",link:"https://www.nginx.com/"},{name:"Git",link:"https://git-scm.com/"}]},{name:"Databases",color:"bg-red-500",skills:[{name:"ElasticSearch",link:"https://www.elastic.co/"},{name:"SQLite",link:"https://www.sqlite.org/"},{name:"MySQL",link:"https://www.mysql.com/"},{name:"PostgreSQL",link:"https://www.postgresql.org/"},{name:"PostGIS",link:"https://postgis.net/"},{name:"MSSQL",link:"https://www.microsoft.com/en-us/sql-server/sql-server-2019"}]},{name:"Data Processing",color:"bg-yellow-500",skills:[{name:"OCR",link:"https://github.com/tesseract-ocr/tesseract"},{name:"OpenCV",link:"https://opencv.org/"},{name:"FME Workbench + Flow",link:"https://www.safe.com/"}]},{name:"Mapping",color:"bg-indigo-500",skills:[{name:"Leaflet",link:"https://leafletjs.com/"},{name:"Mapbox",link:"https://www.mapbox.com/"},{name:"ArcGIS",link:"https://www.esri.com/en-us/arcgis/products/arcgis-online/overview"},{name:"QGIS",link:"https://qgis.org/en/site/"}]},{name:"Soft Skills",color:"bg-pink-500",skills:[{name:"Teamwork"},{name:"Solo Development"},{name:"Invoicing"},{name:"Code Review"},{name:"Time Management"},{name:"Managing Undergrads"}]},{name:"Hardware",color:"bg-teal-500",skills:[{name:"Raspberry Pi",link:"https://www.raspberrypi.org/"},{name:"Arduino ESP32",link:"https://docs.arduino.cc/hardware/nano-esp32/"},{name:"12v Electronics"},{name:"Commercial Server Hardware"},{name:"Consumer Tech"}]}],Et=()=>(0,yt.jsxs)("div",{className:"mt-12 p-6 bg-gray-700 rounded-lg shadow-lg",children:[(0,yt.jsxs)("h2",{className:"text-2xl font-semibold mb-4 flex items-center",children:[(0,yt.jsx)(kt,{className:"mr-2"}),"Skills"]}),(0,yt.jsx)("div",{className:"mb-4 flex flex-wrap gap-2",children:Ot.map(((t,e)=>(0,yt.jsxs)("div",{className:"flex items-center",children:[(0,yt.jsx)("div",{className:`w-4 h-4 rounded-full ${t.color} mr-2`}),(0,yt.jsx)("span",{className:"text-sm",children:t.name})]},e)))}),(0,yt.jsx)("div",{className:"flex flex-wrap gap-2",children:Ot.flatMap(((t,e)=>t.skills.map(((n,r)=>(0,yt.jsx)("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:`px-3 py-1 ${t.color} text-white rounded-full text-sm hover:opacity-80 transition-opacity ${!n.link&&"pointer-events-none"}`,children:n.name},`${e}-${r}`)))))})]}),Tt=St("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Pt=St("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ct=St("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),At=t=>{let{items:e}=t;const[n,r]=(0,o.useState)(0),[i,a]=(0,o.useState)(!1),[s,l]=(0,o.useState)(null),c=t=>{l(t),a(!0)},u=t=>{let{item:e,isModal:n=!1}=t;return"video"===e.type?(0,yt.jsx)("video",{src:e.url,alt:e.alt||"Carousel video",controls:n,className:(n?"w-full h-full":"w-full h-48")+" object-cover rounded-lg cursor-pointer",onClick:()=>!n&&c(e)}):(0,yt.jsx)("img",{src:e.url,alt:e.alt||"Carousel image",className:(n?"w-full h-full":"w-full h-48")+" object-cover rounded-lg cursor-pointer",onClick:()=>!n&&c(e)})};return(0,yt.jsxs)(yt.Fragment,{children:[(0,yt.jsxs)("div",{className:"relative w-full group",children:[(0,yt.jsx)("div",{className:"overflow-hidden",children:(0,yt.jsx)("div",{className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${n*(100/3)}%)`},children:e.map(((t,e)=>(0,yt.jsx)("div",{className:"w-1/3 flex-shrink-0 p-1",children:(0,yt.jsx)(u,{item:t})},e)))})}),n>0&&(0,yt.jsx)("button",{onClick:t=>{null===t||void 0===t||t.stopPropagation(),r((t=>Math.max(t-1,0)))},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,yt.jsx)(Tt,{className:"w-6 h-6 text-white"})}),n<e.length-3&&(0,yt.jsx)("button",{onClick:t=>{null===t||void 0===t||t.stopPropagation(),r((t=>Math.min(t+1,e.length-3)))},className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,yt.jsx)(Pt,{className:"w-6 h-6 text-white"})})]}),i&&s&&(0,yt.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:()=>a(!1),children:(0,yt.jsxs)("div",{className:"relative max-w-4xl max-h-[90vh] w-full",children:[(0,yt.jsx)(u,{item:s,isModal:!0}),(0,yt.jsx)("button",{onClick:()=>a(!1),className:"absolute top-4 right-4 bg-black/50 p-1 rounded-full",children:(0,yt.jsx)(Ct,{className:"w-6 h-6 text-white"})})]})})]})},jt={container:"min-h-screen bg-gradient-to-br from-blue-700 to-blue-900 text-white p-8 font-['Montserrat',sans-serif]",content:"max-w-6xl mx-auto",header:"text-4xl font-bold mb-8",section:"flex flex-col md:flex-row",experienceContainer:"w-full md:w-1/2 mb-8 md:mb-0",experienceHeader:"text-2xl font-semibold mb-4",timeline:"relative",timelineSegment:"absolute w-1",experiencePoint:"absolute w-full",experienceContent:"relative flex items-start mb-12",experienceDot:"w-5 h-5 rounded-full z-10 absolute",experienceText:"ml-8",experienceTitle:"text-xl font-semibold",experienceCompany:"text-blue-200 flex items-center mt-2",experienceDate:"text-sm text-blue-100 mt-1",companyLogo:"w-16 h-16 object-contain",eventPoint:"absolute w-full",eventContent:"relative flex items-start mb-8",eventDot:"w-4 h-4 rounded-full z-10 absolute bg-white",eventText:"ml-8",eventTitle:"text-sm font-semibold",eventDate:"text-xs text-blue-100",projectsContainer:"w-full md:w-1/2",projectsHeader:"text-2xl font-semibold mb-4",projectCard:"bg-blue-800 bg-opacity-50 p-4 rounded-lg",projectTitle:"text-lg mb-2",projectDescription:"text-sm text-blue-200",logoContainer:"mr-3 p-2 rounded-lg flex items-center justify-center",logoBackground:"bg-white bg-opacity-60",demosContainer:"w-full md:w-1/2",demosHeader:"text-2xl font-semibold mb-4",fullWidthDemosContainer:"w-full mt-8",fullWidthDemosHeader:"text-2xl font-semibold mb-4"},It=["#CE372F","#F37324","#ff78be","rgb(236, 72, 153)"],Mt=()=>{const t=t=>{const e=new Date("2018-10-01"),n=new Date,r=new Date(t),i=n.getTime()-e.getTime();return(r.getTime()-e.getTime())/i*100},e=[{id:1,title:"GIS Software Developer",company:"Mineral Resources",startDate:"2023-10",endDate:"Present",logo:"minres_logo.png",website:"https://www.mineralresources.com.au/"},{id:2,title:"Software Engineer",company:"Orexplore Technologies",startDate:"2020-03",endDate:"2023-10",logo:"orexplore_logo.png",website:"https://orexplore.com/"},{id:3,title:"Software Developer",company:"Sandfire Resources",startDate:"2018-10",endDate:"2020-03",logo:"sandfire_logo.png",website:"https://www.sandfire.com.au/"}].sort(((t,e)=>new Date(e.startDate)-new Date(t.startDate))),n=[...e,{id:10,title:"Graduated University of Western Australia - BSc. Computer Science, Data Science",date:"2022-12"},{id:11,title:"UWA Squash Club President (1 year)",date:"2022-08"},{id:12,title:"DMIRS GSWA Contract Dev (until present)",date:"2019-11"}].sort(((t,e)=>new Date(e.startDate||e.date)-new Date(t.startDate||t.date))),r=[{id:1,title:"State Wide Drillhole Assay Search and Display",description:"Querying and transforming public data for the Department of Mines. Hosted for the client providing a stable public service with regular usage.",link:"https://wamexgeochem.net.au",image:"/wamexscreen.png",fullWidth:!1},{id:2,title:"Dyslexia-Assistant ChatBot",description:"A demonstration of using AI tools to increase accessibility. Rate-limited demo incoming soon!",fullWidth:!1},{id:3,title:"Custom Massive Text Search Engine",description:"Hosting a public service search engine, querying 200,000+ mineral exploration reports in milliseconds.",link:"https://wamexsearch.net.au",image:"/searchscreen.png",fullWidth:!1},{id:4,title:"Used Car Market 2022- Various Models",description:"Used car prices were scraped every 5 minutes for several months. The data was cleaned at categorised then visualised in Tableau.",link:"https://public.tableau.com/app/profile/luke6334/viz/offroad_vehicle_market/Dashboard1",linkText:"View full visualisation",component:bt,fullWidth:!0},{id:5,title:"Interactive Node + ReactJS Resume",description:"This webpage! Automatic deployments on push to main. Hosted with DigitalOcean.",fullWidth:!1,link:"https://github.com/LukeBrayy/resume-website",linkText:"View on GitHub"},{id:6,title:"Raspberry Pi Smart 12v Car / v2 Pool Controller",description:"Using a Raspberry Pi4 a dual 12v battery system and some electronics, I created a remote controllable lighting system for my 4x4. The system is controlled via a web interface or physical toggle buttons. I then created a similar system for my friend's pool, reviving a dead pool controller using Home Assistant.",fullWidth:!0,component:At,componentProps:{items:[{url:"/car_12v_1.jpg",alt:"Power to Accessories Panel using old PSU cables"},{url:"/car_12v_2.jpg",alt:"Final control box with 12v relays and Pi4"},{url:"/pool_controller.jpg",alt:"Pool Controller using Raspberry Pi and Home Assistant"},{url:"/car_12v_3.mp4",alt:"Video Demo"}]}},{id:7,title:"Arduino ESP32 GPS Speedometer",description:"My girlfriend's 1985 Hilux has a dodgy speedo. I used an ESP32 and a GPS module to create a digital speedometer. It has not stopped her getting speeding tickets. [video incoming!]",fullWidth:!0},{id:8,title:"Hobbies",description:"In my spare time I love camping, 4x4s and riding motorbikes, mountain bikes and horses!",fullWidth:!0,component:At,componentProps:{items:[{url:"/camp1.jpg",alt:"Camp with fire and stars"},{url:"/dirtbikes1.jpg",alt:"The boys"},{url:"/dirtbikes2.jpeg",alt:"Pit bike jumps"},{url:"/horse1.jpg",alt:"Libby and Miley Horse Riding"}]}},{id:9,title:"Secret Santa Webpage",description:"Random secret santa solver with set rules for blacklisting pairs, avoiding couple matches and pre-defining some matches.",fullWidth:!0,link:"https://lukebray.au/SecretSanta",linkText:"Secret Santa Solver",image:"/secretsanta.png"}],i=t=>{let{fullWidth:e=!1}=t;const n=e?jt.fullWidthDemosContainer:jt.demosContainer,i=e?jt.fullWidthDemosHeader:jt.demosHeader,o=r.filter((t=>t.fullWidth===e));return(0,yt.jsxs)("div",{className:n,children:[(0,yt.jsx)("h2",{className:i,children:e?"Full-Width Project Demos":"Project Demos"}),(0,yt.jsx)("div",{className:e?"":jt.demoGrid,children:o.map((t=>(0,yt.jsxs)(vt,{title:t.title,backgroundColor:"bg-gray-900",children:[(0,yt.jsxs)("p",{className:"text-sm text-blue-200 mb-4",children:[t.description,t.link&&t.linkText&&(0,yt.jsxs)(yt.Fragment,{children:[" ",(0,yt.jsx)("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:t.linkText})]})]}),t.link&&t.image&&(0,yt.jsx)("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"block w-full hover:opacity-80 transition-opacity",children:(0,yt.jsx)("img",{src:t.image,alt:`${t.title} Screenshot`,className:"w-full rounded-lg shadow-lg"})}),t.component&&(0,yt.jsx)(t.component,{...t.componentProps})]},t.id)))})]})};return(0,yt.jsx)("div",{className:jt.container,children:(0,yt.jsxs)("div",{className:jt.content,children:[(0,yt.jsx)("h1",{className:jt.header,children:"Luke Bray (.au)"}),(0,yt.jsxs)("div",{className:jt.section,children:[(0,yt.jsxs)("div",{className:jt.experienceContainer,children:[(0,yt.jsx)("h2",{className:jt.experienceHeader,children:"Experience & Achievements"}),(0,yt.jsxs)("div",{className:jt.timeline,style:{height:"1000px"},children:[e.map(((e,n)=>{const r=t(e.startDate),i="Present"===e.endDate?100:t(e.endDate),o=It[n%It.length];return(0,yt.jsx)("div",{className:jt.timelineSegment,style:{top:`${r}%`,height:i-r+"%",backgroundColor:o,left:"16px"}},e.id)})),n.map(((n,r)=>{const i="company"in n,o=t(n.startDate||n.date),a=i?It[e.findIndex((t=>t.id===n.id))%It.length]:"white";return(0,yt.jsx)("div",{style:{top:`${o}%`},className:i?jt.experiencePoint:jt.eventPoint,children:(0,yt.jsxs)("div",{className:i?jt.experienceContent:jt.eventContent,children:[(0,yt.jsx)("div",{className:i?jt.experienceDot:jt.eventDot,style:{backgroundColor:a,left:i?"8px":"10px"}}),(0,yt.jsx)("div",{className:jt.experienceText,children:i?(0,yt.jsxs)(yt.Fragment,{children:[(0,yt.jsx)("h3",{className:jt.experienceTitle,style:{color:a},children:n.title}),(0,yt.jsxs)("p",{className:jt.experienceCompany,children:[(0,yt.jsx)("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",className:`${jt.logoContainer} ${jt.logoBackground}`,children:(0,yt.jsx)("img",{src:`/${n.logo}`,alt:`${n.company} logo`,className:jt.companyLogo})}),n.company]}),(0,yt.jsx)("p",{className:jt.experienceDate,children:`${n.startDate} - ${n.endDate}`})]}):(0,yt.jsxs)(yt.Fragment,{children:[(0,yt.jsx)("h4",{className:jt.eventTitle,children:n.title}),(0,yt.jsx)("p",{className:jt.eventDate,children:n.date})]})})]})},n.id)}))]})]}),(0,yt.jsx)(i,{fullWidth:!1})]}),(0,yt.jsx)(Et,{}),(0,yt.jsx)(i,{fullWidth:!0})]})})};function Nt(t,e){return function(){return t.apply(e,arguments)}}const{toString:Dt}=Object.prototype,{getPrototypeOf:Lt}=Object,Rt=(zt=Object.create(null),t=>{const e=Dt.call(t);return zt[e]||(zt[e]=e.slice(8,-1).toLowerCase())});var zt;const Ft=t=>(t=t.toLowerCase(),e=>Rt(e)===t),Bt=t=>e=>typeof e===t,{isArray:Ut}=Array,Vt=Bt("undefined");const Wt=Ft("ArrayBuffer");const Ht=Bt("string"),$t=Bt("function"),qt=Bt("number"),Gt=t=>null!==t&&"object"===typeof t,Kt=t=>{if("object"!==Rt(t))return!1;const e=Lt(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Zt=Ft("Date"),Yt=Ft("File"),Xt=Ft("Blob"),Qt=Ft("FileList"),Jt=Ft("URLSearchParams"),[te,ee,ne,re]=["ReadableStream","Request","Response","Headers"].map(Ft);function ie(t,e){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),Ut(t))for(n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else{const r=i?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let a;for(n=0;n<o;n++)a=r[n],e.call(null,t[a],a,t)}}function oe(t,e){e=e.toLowerCase();const n=Object.keys(t);let r,i=n.length;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const ae="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,se=t=>!Vt(t)&&t!==ae;const le=(ce="undefined"!==typeof Uint8Array&&Lt(Uint8Array),t=>ce&&t instanceof ce);var ce;const ue=Ft("HTMLFormElement"),he=(t=>{let{hasOwnProperty:e}=t;return(t,n)=>e.call(t,n)})(Object.prototype),de=Ft("RegExp"),fe=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ie(n,((n,i)=>{let o;!1!==(o=e(n,i,t))&&(r[i]=o||n)})),Object.defineProperties(t,r)},pe="abcdefghijklmnopqrstuvwxyz",me="0123456789",ge={DIGIT:me,ALPHA:pe,ALPHA_DIGIT:pe+pe.toUpperCase()+me};const ye=Ft("AsyncFunction"),ve=((t,e)=>{return t?setImmediate:e?(n=`axios@${Math.random()}`,r=[],ae.addEventListener("message",(t=>{let{source:e,data:i}=t;e===ae&&i===n&&r.length&&r.shift()()}),!1),t=>{r.push(t),ae.postMessage(n,"*")}):t=>setTimeout(t);var n,r})("function"===typeof setImmediate,$t(ae.postMessage)),be="undefined"!==typeof queueMicrotask?queueMicrotask.bind(ae):"undefined"!==typeof process&&process.nextTick||ve,_e={isArray:Ut,isArrayBuffer:Wt,isBuffer:function(t){return null!==t&&!Vt(t)&&null!==t.constructor&&!Vt(t.constructor)&&$t(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"===typeof FormData&&t instanceof FormData||$t(t.append)&&("formdata"===(e=Rt(t))||"object"===e&&$t(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&Wt(t.buffer),e},isString:Ht,isNumber:qt,isBoolean:t=>!0===t||!1===t,isObject:Gt,isPlainObject:Kt,isReadableStream:te,isRequest:ee,isResponse:ne,isHeaders:re,isUndefined:Vt,isDate:Zt,isFile:Yt,isBlob:Xt,isRegExp:de,isFunction:$t,isStream:t=>Gt(t)&&$t(t.pipe),isURLSearchParams:Jt,isTypedArray:le,isFileList:Qt,forEach:ie,merge:function t(){const{caseless:e}=se(this)&&this||{},n={},r=(r,i)=>{const o=e&&oe(n,i)||i;Kt(n[o])&&Kt(r)?n[o]=t(n[o],r):Kt(r)?n[o]=t({},r):Ut(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&ie(arguments[i],r);return n},extend:function(t,e,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ie(e,((e,r)=>{n&&$t(e)?t[r]=Nt(e,n):t[r]=e}),{allOwnKeys:r}),t},trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,r)=>{let i,o,a;const s={};if(e=e||{},null==t)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)a=i[o],r&&!r(a,t,e)||s[a]||(e[a]=t[a],s[a]=!0);t=!1!==n&&Lt(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:Rt,kindOfTest:Ft,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return-1!==r&&r===n},toArray:t=>{if(!t)return null;if(Ut(t))return t;let e=t.length;if(!qt(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=n.next())&&!r.done;){const n=r.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const r=[];for(;null!==(n=t.exec(e));)r.push(n);return r},isHTMLForm:ue,hasOwnProperty:he,hasOwnProp:he,reduceDescriptors:fe,freezeMethods:t=>{fe(t,((e,n)=>{if($t(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=t[n];$t(r)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(t,e)=>{const n={},r=t=>{t.forEach((t=>{n[t]=!0}))};return Ut(t)?r(t):r(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,findKey:oe,global:ae,isContextDefined:se,ALPHABET:ge,generateString:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge.ALPHA_DIGIT,n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n},isSpecCompliantForm:function(t){return!!(t&&$t(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),n=(t,r)=>{if(Gt(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[r]=t;const i=Ut(t)?[]:{};return ie(t,((t,e)=>{const o=n(t,r+1);!Vt(o)&&(i[e]=o)})),e[r]=void 0,i}}return t};return n(t,0)},isAsyncFn:ye,isThenable:t=>t&&(Gt(t)||$t(t))&&$t(t.then)&&$t(t.catch),setImmediate:ve,asap:be};function we(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}_e.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_e.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const xe=we.prototype,Se={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{Se[t]={value:t}})),Object.defineProperties(we,Se),Object.defineProperty(xe,"isAxiosError",{value:!0}),we.from=(t,e,n,r,i,o)=>{const a=Object.create(xe);return _e.toFlatObject(t,a,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),we.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};const ke=we;function Oe(t){return _e.isPlainObject(t)||_e.isArray(t)}function Ee(t){return _e.endsWith(t,"[]")?t.slice(0,-2):t}function Te(t,e,n){return t?t.concat(e).map((function(t,e){return t=Ee(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}const Pe=_e.toFlatObject(_e,{},null,(function(t){return/^is[A-Z]/.test(t)}));const Ce=function(t,e,n){if(!_e.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const r=(n=_e.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!_e.isUndefined(e[t])}))).metaTokens,i=n.visitor||c,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&_e.isSpecCompliantForm(e);if(!_e.isFunction(i))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(_e.isDate(t))return t.toISOString();if(!s&&_e.isBlob(t))throw new ke("Blob is not supported. Use a Buffer instead.");return _e.isArrayBuffer(t)||_e.isTypedArray(t)?s&&"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,n,i){let s=t;if(t&&!i&&"object"===typeof t)if(_e.endsWith(n,"{}"))n=r?n:n.slice(0,-2),t=JSON.stringify(t);else if(_e.isArray(t)&&function(t){return _e.isArray(t)&&!t.some(Oe)}(t)||(_e.isFileList(t)||_e.endsWith(n,"[]"))&&(s=_e.toArray(t)))return n=Ee(n),s.forEach((function(t,r){!_e.isUndefined(t)&&null!==t&&e.append(!0===a?Te([n],r,o):null===a?n:n+"[]",l(t))})),!1;return!!Oe(t)||(e.append(Te(i,n,o),l(t)),!1)}const u=[],h=Object.assign(Pe,{defaultVisitor:c,convertValue:l,isVisitable:Oe});if(!_e.isObject(t))throw new TypeError("data must be an object");return function t(n,r){if(!_e.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),_e.forEach(n,(function(n,o){!0===(!(_e.isUndefined(n)||null===n)&&i.call(e,n,_e.isString(o)?o.trim():o,r,h))&&t(n,r?r.concat(o):[o])})),u.pop()}}(t),e};function Ae(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function je(t,e){this._pairs=[],t&&Ce(t,this,e)}const Ie=je.prototype;Ie.append=function(t,e){this._pairs.push([t,e])},Ie.toString=function(t){const e=t?function(e){return t.call(this,e,Ae)}:Ae;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const Me=je;function Ne(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function De(t,e,n){if(!e)return t;const r=n&&n.encode||Ne,i=n&&n.serialize;let o;if(o=i?i(e,n):_e.isURLSearchParams(e)?e.toString():new Me(e,n).toString(r),o){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}const Le=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){_e.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},Re={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ze={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Me,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Fe="undefined"!==typeof window&&"undefined"!==typeof document,Be=(Ue="undefined"!==typeof navigator&&navigator.product,Fe&&["ReactNative","NativeScript","NS"].indexOf(Ue)<0);var Ue;const Ve="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,We=Fe&&window.location.href||"http://localhost",He={...t,...ze};const $e=function(t){function e(t,n,r,i){let o=t[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=t.length;if(o=!o&&_e.isArray(r)?r.length:o,s)return _e.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a;r[o]&&_e.isObject(r[o])||(r[o]=[]);return e(t,n,r[o],i)&&_e.isArray(r[o])&&(r[o]=function(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}(r[o])),!a}if(_e.isFormData(t)&&_e.isFunction(t.entries)){const n={};return _e.forEachEntry(t,((t,r)=>{e(function(t){return _e.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),r,n,0)})),n}return null};const qe={transitional:Re,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,i=_e.isObject(t);i&&_e.isHTMLForm(t)&&(t=new FormData(t));if(_e.isFormData(t))return r?JSON.stringify($e(t)):t;if(_e.isArrayBuffer(t)||_e.isBuffer(t)||_e.isStream(t)||_e.isFile(t)||_e.isBlob(t)||_e.isReadableStream(t))return t;if(_e.isArrayBufferView(t))return t.buffer;if(_e.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return Ce(t,new He.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,r){return He.isNode&&_e.isBuffer(t)?(this.append(e,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((o=_e.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Ce(o?{"files[]":t}:t,e&&new e,this.formSerializer)}}return i||r?(e.setContentType("application/json",!1),function(t,e,n){if(_e.isString(t))try{return(e||JSON.parse)(t),_e.trim(t)}catch(UK){if("SyntaxError"!==UK.name)throw UK}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||qe.transitional,n=e&&e.forcedJSONParsing,r="json"===this.responseType;if(_e.isResponse(t)||_e.isReadableStream(t))return t;if(t&&_e.isString(t)&&(n&&!this.responseType||r)){const n=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(UK){if(n){if("SyntaxError"===UK.name)throw ke.from(UK,ke.ERR_BAD_RESPONSE,this,null,this.response);throw UK}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:He.classes.FormData,Blob:He.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_e.forEach(["delete","get","head","post","put","patch"],(t=>{qe.headers[t]={}}));const Ge=qe,Ke=_e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ze=Symbol("internals");function Ye(t){return t&&String(t).trim().toLowerCase()}function Xe(t){return!1===t||null==t?t:_e.isArray(t)?t.map(Xe):String(t)}function Qe(t,e,n,r,i){return _e.isFunction(r)?r.call(this,e,n):(i&&(e=n),_e.isString(e)?_e.isString(r)?-1!==e.indexOf(r):_e.isRegExp(r)?r.test(e):void 0:void 0)}class Je{constructor(t){t&&this.set(t)}set(t,e,n){const r=this;function i(t,e,n){const i=Ye(e);if(!i)throw new Error("header name must be a non-empty string");const o=_e.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||e]=Xe(t))}const o=(t,e)=>_e.forEach(t,((t,n)=>i(t,n,e)));if(_e.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(_e.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()))o((t=>{const e={};let n,r,i;return t&&t.split("\n").forEach((function(t){i=t.indexOf(":"),n=t.substring(0,i).trim().toLowerCase(),r=t.substring(i+1).trim(),!n||e[n]&&Ke[n]||("set-cookie"===n?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)})),e})(t),e);else if(_e.isHeaders(t))for(const[a,s]of t.entries())i(s,a,n);else null!=t&&i(e,t,n);return this}get(t,e){if(t=Ye(t)){const n=_e.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}(t);if(_e.isFunction(e))return e.call(this,t,n);if(_e.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Ye(t)){const n=_e.findKey(this,t);return!(!n||void 0===this[n]||e&&!Qe(0,this[n],n,e))}return!1}delete(t,e){const n=this;let r=!1;function i(t){if(t=Ye(t)){const i=_e.findKey(n,t);!i||e&&!Qe(0,n[i],i,e)||(delete n[i],r=!0)}}return _e.isArray(t)?t.forEach(i):i(t),r}clear(t){const e=Object.keys(this);let n=e.length,r=!1;for(;n--;){const i=e[n];t&&!Qe(0,this[i],i,t,!0)||(delete this[i],r=!0)}return r}normalize(t){const e=this,n={};return _e.forEach(this,((r,i)=>{const o=_e.findKey(n,i);if(o)return e[o]=Xe(r),void delete e[i];const a=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete e[i],e[a]=Xe(r),n[a]=!0})),this}concat(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.constructor.concat(this,...e)}toJSON(t){const e=Object.create(null);return _e.forEach(this,((n,r)=>{null!=n&&!1!==n&&(e[r]=t&&_e.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((t=>{let[e,n]=t;return e+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t){const e=new this(t);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((t=>e.set(t))),e}static accessor(t){const e=(this[Ze]=this[Ze]={accessors:{}}).accessors,n=this.prototype;function r(t){const r=Ye(t);e[r]||(!function(t,e){const n=_e.toCamelCase(" "+e);["get","set","has"].forEach((r=>{Object.defineProperty(t,r+n,{value:function(t,n,i){return this[r].call(this,e,t,n,i)},configurable:!0})}))}(n,t),e[r]=!0)}return _e.isArray(t)?t.forEach(r):r(t),this}}Je.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),_e.reduceDescriptors(Je.prototype,((t,e)=>{let{value:n}=t,r=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(t){this[r]=t}}})),_e.freezeMethods(Je);const tn=Je;function en(t,e){const n=this||Ge,r=e||n,i=tn.from(r.headers);let o=r.data;return _e.forEach(t,(function(t){o=t.call(n,o,i.normalize(),e?e.status:void 0)})),i.normalize(),o}function nn(t){return!(!t||!t.__CANCEL__)}function rn(t,e,n){ke.call(this,null==t?"canceled":t,ke.ERR_CANCELED,e,n),this.name="CanceledError"}_e.inherits(rn,ke,{__CANCEL__:!0});const on=rn;function an(t,e,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(new ke("Request failed with status code "+n.status,[ke.ERR_BAD_REQUEST,ke.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}const sn=function(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i,o=0,a=0;return e=void 0!==e?e:1e3,function(s){const l=Date.now(),c=r[a];i||(i=l),n[o]=s,r[o]=l;let u=a,h=0;for(;u!==o;)h+=n[u++],u%=t;if(o=(o+1)%t,o===a&&(a=(a+1)%t),l-i<e)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};const ln=function(t,e){let n,r,i=0,o=1e3/e;const a=function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=o,n=null,r&&(clearTimeout(r),r=null),t.apply(null,e)};return[function(){const t=Date.now(),e=t-i;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];e>=o?a(l,t):(n=l,r||(r=setTimeout((()=>{r=null,a(n)}),o-e)))},()=>n&&a(n)]},cn=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=sn(50,250);return ln((n=>{const o=n.loaded,a=n.lengthComputable?n.total:void 0,s=o-r,l=i(s);r=o;t({loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&o<=a?(a-o)/l:void 0,event:n,lengthComputable:null!=a,[e?"download":"upload"]:!0})}),n)},un=(t,e)=>{const n=null!=t;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},hn=t=>function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return _e.asap((()=>t(...n)))},dn=He.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function r(n){let r=n;return t&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=r(window.location.href),function(t){const e=_e.isString(t)?r(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0},fn=He.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const a=[t+"="+encodeURIComponent(e)];_e.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),_e.isString(r)&&a.push("path="+r),_e.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function pn(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const mn=t=>t instanceof tn?{...t}:t;function gn(t,e){e=e||{};const n={};function r(t,e,n){return _e.isPlainObject(t)&&_e.isPlainObject(e)?_e.merge.call({caseless:n},t,e):_e.isPlainObject(e)?_e.merge({},e):_e.isArray(e)?e.slice():e}function i(t,e,n){return _e.isUndefined(e)?_e.isUndefined(t)?void 0:r(void 0,t,n):r(t,e,n)}function o(t,e){if(!_e.isUndefined(e))return r(void 0,e)}function a(t,e){return _e.isUndefined(e)?_e.isUndefined(t)?void 0:r(void 0,t):r(void 0,e)}function s(n,i,o){return o in e?r(n,i):o in t?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(t,e)=>i(mn(t),mn(e),!0)};return _e.forEach(Object.keys(Object.assign({},t,e)),(function(r){const o=l[r]||i,a=o(t[r],e[r],r);_e.isUndefined(a)&&o!==s||(n[r]=a)})),n}const yn=t=>{const e=gn({},t);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:s,auth:l}=e;if(e.headers=s=tn.from(s),e.url=De(pn(e.baseURL,e.url),t.params,t.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),_e.isFormData(r))if(He.hasStandardBrowserEnv||He.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[t,...e]=n?n.split(";").map((t=>t.trim())).filter(Boolean):[];s.setContentType([t||"multipart/form-data",...e].join("; "))}if(He.hasStandardBrowserEnv&&(i&&_e.isFunction(i)&&(i=i(e)),i||!1!==i&&dn(e.url))){const t=o&&a&&fn.read(a);t&&s.set(o,t)}return e},vn="undefined"!==typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){const r=yn(t);let i=r.data;const o=tn.from(r.headers).normalize();let a,s,l,c,u,{responseType:h,onUploadProgress:d,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=tn.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());an((function(t){e(t),p()}),(function(t){n(t),p()}),{data:h&&"text"!==h&&"json"!==h?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:t,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new ke("Request aborted",ke.ECONNABORTED,t,m)),m=null)},m.onerror=function(){n(new ke("Network Error",ke.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let e=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||Re;r.timeoutErrorMessage&&(e=r.timeoutErrorMessage),n(new ke(e,i.clarifyTimeoutError?ke.ETIMEDOUT:ke.ECONNABORTED,t,m)),m=null},void 0===i&&o.setContentType(null),"setRequestHeader"in m&&_e.forEach(o.toJSON(),(function(t,e){m.setRequestHeader(e,t)})),_e.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),h&&"json"!==h&&(m.responseType=r.responseType),f&&([l,u]=cn(f,!0),m.addEventListener("progress",l)),d&&m.upload&&([s,c]=cn(d),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=e=>{m&&(n(!e||e.type?new on(null,t,m):e),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const y=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(r.url);y&&-1===He.protocols.indexOf(y)?n(new ke("Unsupported protocol "+y+":",ke.ERR_BAD_REQUEST,t)):m.send(i||null)}))},bn=(t,e)=>{let n,r=new AbortController;const i=function(t){if(!n){n=!0,a();const e=t instanceof Error?t:this.reason;r.abort(e instanceof ke?e:new on(e instanceof Error?e.message:e))}};let o=e&&setTimeout((()=>{i(new ke(`timeout ${e} of ms exceeded`,ke.ETIMEDOUT))}),e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach((t=>{t&&(t.removeEventListener?t.removeEventListener("abort",i):t.unsubscribe(i))})),t=null)};t.forEach((t=>t&&t.addEventListener&&t.addEventListener("abort",i)));const{signal:s}=r;return s.unsubscribe=a,[s,()=>{o&&clearTimeout(o),o=null}]},_n=function*(t,e){let n=t.byteLength;if(!e||n<e)return void(yield t);let r,i=0;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},wn=(t,e,n,r,i)=>{const o=async function*(t,e,n){for await(const r of t)yield*_n(ArrayBuffer.isView(r)?r:await n(String(r)),e)}(t,e,i);let a,s=0,l=t=>{a||(a=!0,r&&r(t))};return new ReadableStream({async pull(t){try{const{done:e,value:r}=await o.next();if(e)return l(),void t.close();let i=r.byteLength;if(n){let t=s+=i;n(t)}t.enqueue(new Uint8Array(r))}catch(e){throw l(e),e}},cancel:t=>(l(t),o.return())},{highWaterMark:2})},xn="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Sn=xn&&"function"===typeof ReadableStream,kn=xn&&("function"===typeof TextEncoder?(On=new TextEncoder,t=>On.encode(t)):async t=>new Uint8Array(await new Response(t).arrayBuffer()));var On;const En=function(t){try{for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return!!t(...n)}catch(UK){return!1}},Tn=Sn&&En((()=>{let t=!1;const e=new Request(He.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})),Pn=Sn&&En((()=>_e.isReadableStream(new Response("").body))),Cn={stream:Pn&&(t=>t.body)};var An;xn&&(An=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((t=>{!Cn[t]&&(Cn[t]=_e.isFunction(An[t])?e=>e[t]():(e,n)=>{throw new ke(`Response type '${t}' is not supported`,ke.ERR_NOT_SUPPORT,n)})})));const jn=async(t,e)=>{const n=_e.toFiniteNumber(t.getContentLength());return null==n?(async t=>null==t?0:_e.isBlob(t)?t.size:_e.isSpecCompliantForm(t)?(await new Request(t).arrayBuffer()).byteLength:_e.isArrayBufferView(t)||_e.isArrayBuffer(t)?t.byteLength:(_e.isURLSearchParams(t)&&(t+=""),_e.isString(t)?(await kn(t)).byteLength:void 0))(e):n},In={http:null,xhr:vn,fetch:xn&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:d}=yn(t);c=c?(c+"").toLowerCase():"text";let f,p,[m,g]=i||o||a?bn([i,o],a):[];const y=()=>{!f&&setTimeout((()=>{m&&m.unsubscribe()})),f=!0};let v;try{if(l&&Tn&&"get"!==n&&"head"!==n&&0!==(v=await jn(u,r))){let t,n=new Request(e,{method:"POST",body:r,duplex:"half"});if(_e.isFormData(r)&&(t=n.headers.get("content-type"))&&u.setContentType(t),n.body){const[t,e]=un(v,cn(hn(l)));r=wn(n.body,65536,t,e,kn)}}_e.isString(h)||(h=h?"include":"omit"),p=new Request(e,{...d,signal:m,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:h});let i=await fetch(p);const o=Pn&&("stream"===c||"response"===c);if(Pn&&(s||o)){const t={};["status","statusText","headers"].forEach((e=>{t[e]=i[e]}));const e=_e.toFiniteNumber(i.headers.get("content-length")),[n,r]=s&&un(e,cn(hn(s),!0))||[];i=new Response(wn(i.body,65536,n,(()=>{r&&r(),o&&y()}),kn),t)}c=c||"text";let a=await Cn[_e.findKey(Cn,c)||"text"](i,t);return!o&&y(),g&&g(),await new Promise(((e,n)=>{an(e,n,{data:a,headers:tn.from(i.headers),status:i.status,statusText:i.statusText,config:t,request:p})}))}catch(b){if(y(),b&&"TypeError"===b.name&&/fetch/i.test(b.message))throw Object.assign(new ke("Network Error",ke.ERR_NETWORK,t,p),{cause:b.cause||b});throw ke.from(b,b&&b.code,t,p)}})};_e.forEach(In,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(UK){}Object.defineProperty(t,"adapterName",{value:e})}}));const Mn=t=>`- ${t}`,Nn=t=>_e.isFunction(t)||null===t||!1===t,Dn=t=>{t=_e.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){let e;if(n=t[o],r=n,!Nn(n)&&(r=In[(e=String(n)).toLowerCase()],void 0===r))throw new ke(`Unknown adapter '${e}'`);if(r)break;i[e||"#"+o]=r}if(!r){const t=Object.entries(i).map((t=>{let[e,n]=t;return`adapter ${e} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=e?t.length>1?"since :\n"+t.map(Mn).join("\n"):" "+Mn(t[0]):"as no adapter specified";throw new ke("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Ln(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new on(null,t)}function Rn(t){Ln(t),t.headers=tn.from(t.headers),t.data=en.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return Dn(t.adapter||Ge.adapter)(t).then((function(e){return Ln(t),e.data=en.call(t,t.transformResponse,e),e.headers=tn.from(e.headers),e}),(function(e){return nn(e)||(Ln(t),e&&e.response&&(e.response.data=en.call(t,t.transformResponse,e.response),e.response.headers=tn.from(e.response.headers))),Promise.reject(e)}))}const zn="1.7.4",Fn={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{Fn[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const Bn={};Fn.transitional=function(t,e,n){function r(t,e){return"[Axios v1.7.4] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,i,o)=>{if(!1===t)throw new ke(r(i," has been removed"+(e?" in "+e:"")),ke.ERR_DEPRECATED);return e&&!Bn[i]&&(Bn[i]=!0,console.warn(r(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,i,o)}};const Un={assertOptions:function(t,e,n){if("object"!==typeof t)throw new ke("options must be an object",ke.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],a=e[o];if(a){const e=t[o],n=void 0===e||a(e,o,t);if(!0!==n)throw new ke("option "+o+" must be "+n,ke.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new ke("Unknown option "+o,ke.ERR_BAD_OPTION)}},validators:Fn},Vn=Un.validators;class Wn{constructor(t){this.defaults=t,this.interceptors={request:new Le,response:new Le}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const e=t.stack?t.stack.replace(/^.+\n/,""):"";try{n.stack?e&&!String(n.stack).endsWith(e.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+e):n.stack=e}catch(UK){}}throw n}}_request(t,e){"string"===typeof t?(e=e||{}).url=t:e=t||{},e=gn(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:i}=e;void 0!==n&&Un.assertOptions(n,{silentJSONParsing:Vn.transitional(Vn.boolean),forcedJSONParsing:Vn.transitional(Vn.boolean),clarifyTimeoutError:Vn.transitional(Vn.boolean)},!1),null!=r&&(_e.isFunction(r)?e.paramsSerializer={serialize:r}:Un.assertOptions(r,{encode:Vn.function,serialize:Vn.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=i&&_e.merge(i.common,i[e.method]);i&&_e.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete i[t]})),e.headers=tn.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(s=s&&t.synchronous,a.unshift(t.fulfilled,t.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)}));let u,h=0;if(!s){const t=[Rn.bind(this),void 0];for(t.unshift.apply(t,a),t.push.apply(t,l),u=t.length,c=Promise.resolve(e);h<u;)c=c.then(t[h++],t[h++]);return c}u=a.length;let d=e;for(h=0;h<u;){const t=a[h++],e=a[h++];try{d=t(d)}catch(f){e.call(this,f);break}}try{c=Rn.call(this,d)}catch(f){return Promise.reject(f)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(t){return De(pn((t=gn(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}_e.forEach(["delete","get","head","options"],(function(t){Wn.prototype[t]=function(e,n){return this.request(gn(n||{},{method:t,url:e,data:(n||{}).data}))}})),_e.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,i){return this.request(gn(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Wn.prototype[t]=e(),Wn.prototype[t+"Form"]=e(!0)}));const Hn=Wn;class $n{constructor(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const r=new Promise((t=>{n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t,r,i){n.reason||(n.reason=new on(t,r,i),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new $n((function(e){t=e})),cancel:t}}}const qn=$n;const Gn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gn).forEach((t=>{let[e,n]=t;Gn[n]=e}));const Kn=Gn;const Zn=function t(e){const n=new Hn(e),r=Nt(Hn.prototype.request,n);return _e.extend(r,Hn.prototype,n,{allOwnKeys:!0}),_e.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return t(gn(e,n))},r}(Ge);Zn.Axios=Hn,Zn.CanceledError=on,Zn.CancelToken=qn,Zn.isCancel=nn,Zn.VERSION=zn,Zn.toFormData=Ce,Zn.AxiosError=ke,Zn.Cancel=Zn.CanceledError,Zn.all=function(t){return Promise.all(t)},Zn.spread=function(t){return function(e){return t.apply(null,e)}},Zn.isAxiosError=function(t){return _e.isObject(t)&&!0===t.isAxiosError},Zn.mergeConfig=gn,Zn.AxiosHeaders=tn,Zn.formToJSON=t=>$e(_e.isHTMLForm(t)?new FormData(t):t),Zn.getAdapter=Dn,Zn.HttpStatusCode=Kn,Zn.default=Zn;const Yn=Zn,Xn=St("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Qn=St("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Jn=St("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),tr=St("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),er=St("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),nr=St("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),rr=[{id:"default",name:"Message",prompt:"You are a helpful assistant for a dyslexic user. Fix the input message and reply with only the corrected version. Dont correct: horse"},{id:"creative",name:"Creative Advert",prompt:"You are a helpful assistant for a dyslexic user trying to create online adverts. The user will provide you with a draft or outline and you must turn it into an online advert listing using the provided details. You can be liberal with creativity but do not invent details. Only reply with the fixed response, and nothing else. Dont correct: horse"},{id:"minimal",name:"Minimal Change Advert",prompt:"You are a helpful assistant for a dsylexic user. Read the input and apply any grammar, spelling or punctuation fixes with minimal content changes. Only reply with the fixed response, and nothing else. Horse=horse. Dont correct: horse"},{id:"noprompt",name:"No Prompt",prompt:"You are a helpful assistant."}],ir=()=>{const[t,e]=(0,o.useState)(""),[n,r]=(0,o.useState)(""),[i,a]=(0,o.useState)(""),[s,l]=(0,o.useState)(""),[c,u]=(0,o.useState)([]),[h,d]=(0,o.useState)(""),[f,p]=(0,o.useState)(rr[0]),[m,g]=(0,o.useState)(!1),[y,v]=(0,o.useState)(1),[b,_]=(0,o.useState)(1),[w,x]=(0,o.useState)(null),[S,k]=(0,o.useState)([]),[O,E]=(0,o.useState)(!1);(0,o.useEffect)((()=>{const t=()=>{const t=window.speechSynthesis.getVoices();k(t),x(t[0])};window.speechSynthesis.onvoiceschanged=t,t()}),[]),(0,o.useEffect)((()=>{document.body.classList.toggle("dark",O)}),[O]);const T=async e=>{e.preventDefault();try{const e=await Yn.post("https://ruling-liberal-kitten.ngrok-free.app/get-api-key",{password:t});e.data.chatApiKey?(r(e.data.chatApiKey),a(e.data.googleApiKey),l("")):l(e.data.error||"Invalid password")}catch(n){if(n.response)switch(n.response.status){case 400:l("Password is required.");break;case 429:l("Too many failed attempts. Fuck off bots.");break;case 500:l("Failed to read config file. Suck harder?");break;case 403:l("Forbidden. Wrong password champ?");break;default:l("Something fucked.")}else l("An error occurred. Please try again.")}};return n?(0,yt.jsxs)("div",{className:"flex flex-col h-screen "+(O?"bg-gray-900 text-white":"bg-gray-100 text-gray-800"),children:[(0,yt.jsxs)("div",{className:`flex-none p-4 ${O?"bg-gray-800":"bg-white"} shadow-md`,children:[(0,yt.jsx)("h2",{className:"mb-2 text-xl font-bold",children:"Text Cleaner GPT"}),(0,yt.jsxs)("div",{className:"flex space-x-2 items-center",children:[(0,yt.jsx)("select",{value:f.id,onChange:t=>{return e=rr.find((e=>e.id===t.target.value)),p(e),void u([]);var e},className:"px-4 py-2 rounded-md "+(O?"bg-gray-700 text-white":"bg-gray-200 text-gray-800"),children:rr.map((t=>(0,yt.jsx)("option",{value:t.id,children:t.name},t.id)))}),(0,yt.jsx)("button",{onClick:()=>{u([])},className:"px-4 py-2 rounded-md bg-red-500 text-white",children:"Clear"}),(0,yt.jsx)("button",{onClick:()=>{E(!O)},className:"p-2 rounded-md "+(O?"bg-yellow-400 text-gray-900":"bg-gray-700 text-white"),children:O?(0,yt.jsx)(Qn,{size:20}):(0,yt.jsx)(Jn,{size:20})})]}),m&&(0,yt.jsx)("div",{className:`mt-2 p-4 ${O?"bg-gray-700":"bg-gray-100"} rounded-md`})]}),(0,yt.jsx)("div",{className:"flex-grow overflow-y-auto p-4 space-y-4",children:c.map(((t,e)=>(0,yt.jsxs)("div",{className:`p-3 rounded-lg ${"user"===t.role?O?"bg-blue-900 ml-auto":"bg-blue-100 ml-auto":O?"bg-gray-700":"bg-gray-200"} max-w-[80%]`,children:[(0,yt.jsx)("div",{className:"mb-2",children:t.content}),"assistant"===t.role&&(0,yt.jsxs)("div",{className:"flex space-x-2 mt-2",children:[(0,yt.jsx)("button",{onClick:()=>{return e=t.content,void navigator.clipboard.writeText(e).then((()=>{alert("Copied to clipboard!")})).catch((t=>{console.error("Failed to copy text: ",t)}));var e},className:"p-1 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:(0,yt.jsx)(tr,{size:16})}),(0,yt.jsx)("button",{onClick:()=>(t=>{const e=new SpeechSynthesisUtterance(t);e.rate=y,e.pitch=b,e.voice=w,window.speechSynthesis.speak(e)})(t.content),className:"p-1 bg-green-500 text-white rounded-md hover:bg-green-600",children:(0,yt.jsx)(er,{size:16})})]})]},e)))}),(0,yt.jsx)("form",{onSubmit:async t=>{if(t.preventDefault(),!h.trim())return;const e={role:"user",content:h};u([...c,e]),d("");try{const t=(await Yn.post("https://api.openai.com/v1/chat/completions",{model:"gpt-4o",messages:[{role:"system",content:f.prompt},...c,e]},{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}})).data.choices[0].message;u((e=>[...e,t]))}catch(r){l("Failed to get response from OpenAI. Please try again.")}},className:"flex-none p-4 "+(O?"bg-gray-800":"bg-white"),children:(0,yt.jsxs)("div",{className:"flex space-x-2",children:[(0,yt.jsx)("textarea",{value:h,onChange:t=>d(t.target.value),className:"flex-grow px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 "+(O?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-800 border-gray-300"),placeholder:"Type your message...",rows:"2"}),(0,yt.jsx)("button",{type:"submit",className:"px-4 py-2 text-white bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:(0,yt.jsx)(nr,{size:20})})]})}),s&&(0,yt.jsx)("p",{className:"p-2 text-sm text-center text-red-500 "+(O?"bg-gray-800":"bg-white"),children:s})]}):(0,yt.jsx)("div",{className:"flex items-center justify-center min-h-screen "+(O?"bg-gray-900":"bg-gray-100"),children:(0,yt.jsxs)("div",{className:`w-full max-w-md p-8 ${O?"bg-gray-800":"bg-white"} rounded-lg shadow-md`,children:[(0,yt.jsx)("h2",{className:"mb-6 text-2xl font-bold text-center "+(O?"text-white":"text-gray-800"),children:"Enter Password"}),(0,yt.jsxs)("form",{onSubmit:T,className:"space-y-4",children:[(0,yt.jsxs)("div",{className:"relative",children:[(0,yt.jsx)("input",{type:"password",value:t,onChange:t=>e(t.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 "+(O?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-800 border-gray-300"),placeholder:"Password",required:!0}),(0,yt.jsx)(Xn,{className:"absolute top-2.5 right-3 text-gray-400",size:20})]}),(0,yt.jsx)("button",{type:"submit",className:"w-full px-4 py-2 text-white bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Submit"})]}),s&&(0,yt.jsx)("p",{className:"mt-4 text-sm text-center text-red-500",children:s})]})})},or=St("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),ar=St("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),sr=[{id:"default",name:"Message",prompt:"You are a helpful assistant for a dyslexic user. Fix the input message and reply with only the corrected version. Dont correct: horse"},{id:"creative",name:"Creative Advert",prompt:"You are a helpful assistant for a dyslexic user trying to create online adverts. The user will provide you with a draft or outline and you must turn it into an online advert listing using the provided details. You can be liberal with creativity but do not invent details. Only reply with the fixed response, and nothing else. Dont correct: horse"},{id:"minimal",name:"Minimal Change Advert",prompt:"You are a helpful assistant for a dsylexic user. Read the input and apply any grammar, spelling or punctuation fixes with minimal content changes. Only reply with the fixed response, and nothing else. Horse=horse. Dont correct: horse"},{id:"noprompt",name:"No Prompt",prompt:"You are a helpful assistant."}],lr=()=>{const[t,e]=(0,o.useState)(""),[n,r]=(0,o.useState)(""),[i,a]=(0,o.useState)(""),[s,l]=(0,o.useState)(""),[c,u]=(0,o.useState)([]),[h,d]=(0,o.useState)(""),[f,p]=(0,o.useState)(sr[0]),[m,g]=(0,o.useState)(!1),[y,v]=(0,o.useState)(1),[b,_]=(0,o.useState)(1),[w,x]=(0,o.useState)(null),[S,k]=(0,o.useState)([]),[O,E]=(0,o.useState)(!1);(0,o.useEffect)((()=>{const t=()=>{const t=window.speechSynthesis.getVoices();k(t),x(t[0])};window.speechSynthesis.onvoiceschanged=t,t();const e=()=>{const t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${t}px`)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,o.useEffect)((()=>{document.body.classList.toggle("dark",O)}),[O]);const T=async e=>{e.preventDefault();try{const e=await Yn.post("https://ruling-liberal-kitten.ngrok-free.app/get-api-key",{password:t});e.data.chatApiKey?(r(e.data.chatApiKey),a(e.data.googleApiKey),l("")):l(e.data.error||"Invalid password")}catch(n){if(n.response)switch(n.response.status){case 400:l("Password is required.");break;case 429:l("Too many failed attempts. Fuck off bots.");break;case 500:l("Failed to read config file. Suck harder?");break;case 403:l("Forbidden. Wrong password champ?");break;default:l("Something fucked.")}else l("An error occurred. Please try again.")}};return n?(0,yt.jsxs)("div",{className:"flex flex-col h-screen "+(O?"bg-gray-900 text-white":"bg-gray-100 text-gray-800"),style:{height:"calc(var(--vh, 1vh) * 100)"},children:[(0,yt.jsxs)("div",{className:`flex-none p-2 ${O?"bg-gray-800":"bg-white"} shadow-md`,children:[(0,yt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,yt.jsx)("h2",{className:"text-lg font-bold",children:"Text Cleaner GPT"}),(0,yt.jsx)("button",{onClick:()=>{E(!O)},className:"p-2 rounded-md "+(O?"bg-yellow-400 text-gray-900":"bg-gray-700 text-white"),children:O?(0,yt.jsx)(Qn,{size:16}):(0,yt.jsx)(Jn,{size:16})})]}),(0,yt.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,yt.jsx)("select",{value:f.id,onChange:t=>{return e=sr.find((e=>e.id===t.target.value)),p(e),void u([]);var e},className:"w-full px-2 py-1 text-sm rounded-md "+(O?"bg-gray-700 text-white":"bg-gray-200 text-gray-800"),children:sr.map((t=>(0,yt.jsx)("option",{value:t.id,children:t.name},t.id)))}),(0,yt.jsxs)("div",{className:"flex space-x-2",children:[(0,yt.jsx)("button",{onClick:()=>{u([])},className:"flex-1 px-2 py-1 text-sm rounded-md bg-red-500 text-white",children:"Clear"}),(0,yt.jsxs)("button",{onClick:()=>g(!m),className:`flex-1 px-2 py-1 text-sm rounded-md ${O?"bg-gray-700 text-white":"bg-gray-200 text-gray-800"} hover:bg-opacity-80 flex items-center justify-center`,children:["Speech ",m?(0,yt.jsx)(or,{size:16,className:"ml-1"}):(0,yt.jsx)(ar,{size:16,className:"ml-1"})]})]})]})]}),m&&(0,yt.jsxs)("div",{className:"flex-none p-2 "+(O?"bg-gray-700":"bg-gray-100"),children:[(0,yt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,yt.jsxs)("label",{className:"text-sm",children:["Rate: ",y]}),(0,yt.jsx)("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:y,onChange:t=>v(parseFloat(t.target.value)),className:"w-1/2"})]}),(0,yt.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,yt.jsxs)("label",{className:"text-sm",children:["Pitch: ",b]}),(0,yt.jsx)("input",{type:"range",min:"0.5",max:"2",step:"0.1",value:b,onChange:t=>_(parseFloat(t.target.value)),className:"w-1/2"})]}),(0,yt.jsx)("select",{value:null===w||void 0===w?void 0:w.name,onChange:t=>x(S.find((e=>e.name===t.target.value))),className:"w-full px-2 py-1 text-sm rounded-md "+(O?"bg-gray-600 text-white":"bg-white text-gray-900"),children:S.map((t=>(0,yt.jsxs)("option",{value:t.name,children:[t.name," (",t.lang,")"]},t.name)))})]}),(0,yt.jsx)("div",{className:"flex-grow overflow-y-auto p-2 space-y-2",children:c.map(((t,e)=>(0,yt.jsxs)("div",{className:`p-2 rounded-lg text-sm ${"user"===t.role?O?"bg-blue-900 ml-auto":"bg-blue-100 ml-auto":O?"bg-gray-700":"bg-gray-200"} max-w-[80%]`,children:[(0,yt.jsx)("div",{className:"mb-1",children:t.content}),"assistant"===t.role&&(0,yt.jsxs)("div",{className:"flex space-x-2",children:[(0,yt.jsx)("button",{onClick:()=>{return e=t.content,void navigator.clipboard.writeText(e).then((()=>{alert("Copied to clipboard!")})).catch((t=>{console.error("Failed to copy text: ",t)}));var e},className:"p-1 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:(0,yt.jsx)(tr,{size:12})}),(0,yt.jsx)("button",{onClick:()=>(t=>{const e=new SpeechSynthesisUtterance(t);e.rate=y,e.pitch=b,e.voice=w,window.speechSynthesis.speak(e)})(t.content),className:"p-1 bg-green-500 text-white rounded-md hover:bg-green-600",children:(0,yt.jsx)(er,{size:12})})]})]},e)))}),(0,yt.jsx)("form",{onSubmit:async t=>{if(t.preventDefault(),!h.trim())return;const e={role:"user",content:h};u([...c,e]),d("");try{const t=(await Yn.post("https://api.openai.com/v1/chat/completions",{model:"gpt-3.5-turbo",messages:[{role:"system",content:f.prompt},...c,e]},{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}})).data.choices[0].message;u((e=>[...e,t]))}catch(r){l("Failed to get response from OpenAI. Please try again.")}},className:"flex-none p-2 "+(O?"bg-gray-800":"bg-white"),children:(0,yt.jsxs)("div",{className:"flex space-x-2",children:[(0,yt.jsx)("textarea",{value:h,onChange:t=>d(t.target.value),className:"flex-grow px-2 py-1 text-sm border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 "+(O?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-800 border-gray-300"),placeholder:"Type your message...",rows:"2"}),(0,yt.jsx)("button",{type:"submit",className:"px-3 py-2 text-white bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:(0,yt.jsx)(nr,{size:16})})]})}),s&&(0,yt.jsx)("p",{className:"p-2 text-xs text-center text-red-500 "+(O?"bg-gray-800":"bg-white"),children:s})]}):(0,yt.jsx)("div",{className:"flex items-center justify-center min-h-screen "+(O?"bg-gray-900":"bg-gray-100"),children:(0,yt.jsxs)("div",{className:`w-full max-w-md p-8 ${O?"bg-gray-800":"bg-white"} rounded-lg shadow-md`,children:[(0,yt.jsx)("h2",{className:"mb-6 text-2xl font-bold text-center "+(O?"text-white":"text-gray-800"),children:"Enter Password"}),(0,yt.jsxs)("form",{onSubmit:T,className:"space-y-4",children:[(0,yt.jsxs)("div",{className:"relative",children:[(0,yt.jsx)("input",{type:"password",value:t,onChange:t=>e(t.target.value),className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 "+(O?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-800 border-gray-300"),placeholder:"Password",required:!0}),(0,yt.jsx)(Xn,{className:"absolute top-2.5 right-3 text-gray-400",size:20})]}),(0,yt.jsx)("button",{type:"submit",className:"w-full px-4 py-2 text-white bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Submit"})]}),s&&(0,yt.jsx)("p",{className:"mt-4 text-sm text-center text-red-500",children:s})]})})},cr=St("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),ur=St("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),hr=St("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),dr=St("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),fr=St("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),pr=St("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),mr=St("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),gr=St("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),yr=t=>{let{icon:e,title:n,type:r,items:i,onItemsChange:a}=t;const[s,l]=(0,o.useState)(["",""]);return(0,yt.jsxs)("div",{className:"santa-list-card",children:[(0,yt.jsxs)("div",{className:"santa-list-header",children:[e&&(0,yt.jsx)(e,{className:"santa-list-icon"}),(0,yt.jsx)("h3",{children:n})]}),(0,yt.jsxs)("div",{className:"santa-list-content",children:[(0,yt.jsx)("ul",{className:"santa-list",children:i.map(((t,e)=>(0,yt.jsxs)("li",{className:"santa-list-item",children:["participants"===r?t:`${t[0]} & ${t[1]}`,(0,yt.jsx)("button",{onClick:()=>(t=>{const e=[...i];e.splice(t,1),a(e)})(e),className:"remove-button",children:(0,yt.jsx)(Ct,{size:16})})]},e)))}),(0,yt.jsxs)("div",{className:"santa-list-add",children:[(()=>{if("participants"===r)return(0,yt.jsx)("input",{value:s[0],onChange:t=>l([t.target.value,""]),placeholder:"Enter name",className:"santa-list-input"});{const t={couples:["Name 1","Name 2"],blacklist:["Giver","Receiver"],predefined:["Giver","Receiver"]};return(0,yt.jsxs)("div",{className:"input-group",children:[(0,yt.jsx)("input",{value:s[0],onChange:t=>l([t.target.value,s[1]]),placeholder:t[r][0],className:"santa-list-input"}),(0,yt.jsx)("input",{value:s[1],onChange:t=>l([s[0],t.target.value]),placeholder:t[r][1],className:"santa-list-input"})]})}})(),(0,yt.jsx)("button",{onClick:()=>{"participants"===r?s[0].trim()&&(a([...i,s[0].trim()]),l(["",""])):s[0].trim()&&s[1].trim()&&(a([...i,s]),l(["",""]))},className:"add-button",children:(0,yt.jsx)(gr,{size:20})})]})]})]})},vr={familyAdults:{participants:["Thomas","Emma","Oliver","Sophia","William","Isabella","James","Charlotte","Benjamin"],couples:[["Sophia","William"],["Oliver","Thomas"],["Benjamin","Charlotte"]],blacklist:[["James","Isabella"]]},cousins:{participants:["Ethan","Noah","Ava","Liam","Mia","Daniel","Zoe","Mason","Elijah","Lily"],couples:[["Mason","Lily"],["Daniel","Mia"]],blacklist:[["Ethan","Noah"],["Ava","Liam"],["Mason","Elijah"],["Mason","Daniel"],["Elijah","Daniel"]]},friends:{participants:["Sarah","Mike","Lisa","Tom","Rachel","Chris"],couples:[["Sarah","Mike"],["Lisa","Tom"]],blacklist:[["Rachel","Chris"],["Sarah","Lisa"]]}},br=()=>{const[t,e]=(0,o.useState)("familyAdults"),[n,r]=(0,o.useState)(vr.familyAdults.participants),[i,a]=(0,o.useState)(vr.familyAdults.couples),[s,l]=(0,o.useState)(vr.familyAdults.blacklist),[c,u]=(0,o.useState)([]),[h,d]=(0,o.useState)([]),[f,p]=(0,o.useState)({}),[m,g]=(0,o.useState)({});(0,o.useEffect)((()=>{document.title={familyAdults:"Secret Santa - Family Adults",cousins:"Secret Santa - Cousins",friends:"Secret Santa - Friends"}[t]||"Secret Santa Matcher"}),[t]);const y=t=>{e(t),r(vr[t].participants),a(vr[t].couples),l(vr[t].blacklist),u([]),d([]),p({}),g({})},v=(t,e)=>{"giver"===t?p((t=>({...t,[e]:!t[e]}))):g((t=>({...t,[e]:!t[e]})))},b=()=>{const t=[...n],e=[...n],r=[];for(c.forEach((n=>{let[i,o]=n;r.push([i,o]),t.splice(t.indexOf(i),1),e.splice(e.indexOf(o),1)}));t.length>0;){const n=t[Math.floor(Math.random()*t.length)];let o=e.filter((t=>t!==n&&!i.some((e=>e.includes(n)&&e.includes(t)))&&!s.some((e=>e[0]===n&&e[1]===t))));if(0===o.length)return b();const a=o[Math.floor(Math.random()*o.length)];r.push([n,a]),t.splice(t.indexOf(n),1),e.splice(e.indexOf(a),1)}d(r)};return(0,yt.jsxs)("div",{className:"secret-santa-container",children:[(0,yt.jsx)("h1",{className:"secret-santa-title",children:"\ud83c\udf84 Secret Santa Matcher \ud83c\udf85"}),(0,yt.jsxs)("div",{className:"category-selector",children:[(0,yt.jsx)("button",{className:"category-button "+("familyAdults"===t?"active":""),onClick:()=>y("familyAdults"),children:"Family Adults"}),(0,yt.jsx)("button",{className:"category-button "+("cousins"===t?"active":""),onClick:()=>y("cousins"),children:"Cousins"}),(0,yt.jsx)("button",{className:"category-button "+("friends"===t?"active":""),onClick:()=>y("friends"),children:"Friends"})]}),(0,yt.jsxs)("div",{className:"santa-list-grid",children:[(0,yt.jsx)(yr,{icon:cr,title:"Participants",type:"participants",items:n,onItemsChange:r}),(0,yt.jsx)(yr,{icon:ur,title:"Couples",type:"couples",items:i,onItemsChange:a}),(0,yt.jsx)(yr,{icon:hr,title:"Blacklist",type:"blacklist",items:s,onItemsChange:l}),(0,yt.jsx)(yr,{icon:dr,title:"Pre-defined Matches",type:"predefined",items:c,onItemsChange:u})]}),(0,yt.jsxs)("div",{className:"generate-button-container",children:[(0,yt.jsxs)("button",{onClick:b,className:"generate-button",children:[(0,yt.jsx)(fr,{className:"generate-button-icon"}),"Generate Matches"]}),(0,yt.jsxs)("button",{onClick:()=>{d([]),p({}),g({})},className:"reset-button",children:[(0,yt.jsx)(pr,{className:"reset-button-icon"}),"Reset"]})]}),(0,yt.jsxs)("div",{className:"matches-section",children:[h.length>0&&(0,yt.jsxs)("div",{className:"matches-card",children:[(0,yt.jsx)("h2",{className:"matches-title",children:"\ud83c\udf81 Secret Santa Matches \ud83c\udf81"}),(0,yt.jsx)("ul",{className:"matches-list",children:h.map(((t,e)=>{let[n,r]=t;return(0,yt.jsxs)("li",{className:"match-item",children:[(0,yt.jsx)("span",{className:"giver",children:n})," buys for ",(0,yt.jsx)("span",{className:"receiver",children:r})]},e)}))})]}),(0,yt.jsxs)("div",{className:"checklists-container",children:[(0,yt.jsxs)("div",{className:"checklist",children:[(0,yt.jsx)("h3",{children:"Givers"}),n.map((t=>(0,yt.jsxs)("label",{className:"checklist-item",children:[(0,yt.jsx)("input",{type:"checkbox",checked:f[t]||!1,onChange:()=>v("giver",t)}),(0,yt.jsx)(mr,{className:"check-icon "+(f[t]?"checked":"")}),t]},`giver-${t}`)))]}),(0,yt.jsxs)("div",{className:"checklist",children:[(0,yt.jsx)("h3",{children:"Receivers"}),n.map((t=>(0,yt.jsxs)("label",{className:"checklist-item",children:[(0,yt.jsx)("input",{type:"checkbox",checked:m[t]||!1,onChange:()=>v("receiver",t)}),(0,yt.jsx)(mr,{className:"check-icon "+(m[t]?"checked":"")}),t]},`receiver-${t}`)))]})]})]})]})};function _r(t){var e,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=_r(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}const wr=function(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=_r(t))&&(r&&(r+=" "),r+=e);return r};var xr=n(6922);function Sr(t){return"string"===typeof t}function kr(t,e,n){return n.indexOf(t)===e}function Or(t){return-1===t.indexOf(",")?t:t.split(",")}function Er(t){if(!t)return t;if("C"===t||"posix"===t||"POSIX"===t)return"en-US";if(-1!==t.indexOf(".")){var e=t.split(".")[0];return Er(void 0===e?"":e)}if(-1!==t.indexOf("@")){var n=t.split("@")[0];return Er(void 0===n?"":n)}if(-1===t.indexOf("-")||(r=t).toLowerCase()!==r)return t;var r,i=t.split("-"),o=i[0],a=i[1],s=void 0===a?"":a;return"".concat(o,"-").concat(s.toUpperCase())}var Tr=xr((function(t){var e=void 0===t?{}:t,n=e.useFallbackLocale,r=void 0===n||n,i=e.fallbackLocale,o=void 0===i?"en-US":i,a=[];if("undefined"!==typeof navigator){for(var s=[],l=0,c=navigator.languages||[];l<c.length;l++){var u=c[l];s=s.concat(Or(u))}var h=navigator.language,d=h?Or(h):h;a=a.concat(s,d)}return r&&a.push(o),a.filter(Sr).map(Er).filter(kr)}),{cacheKey:JSON.stringify});var Pr=xr((function(t){return Tr(t)[0]||null}),{cacheKey:JSON.stringify});const Cr=Pr;function Ar(t,e,n){return function(r,i){void 0===i&&(i=n);var o=t(r)+i;return e(o)}}function jr(t){return function(e){return new Date(t(e).getTime()-1)}}function Ir(t,e){return function(n){return[t(n),e(n)]}}function Mr(t){if(t instanceof Date)return t.getFullYear();if("number"===typeof t)return t;var e=parseInt(t,10);if("string"===typeof t&&!isNaN(e))return e;throw new Error("Failed to get year from date: ".concat(t,"."))}function Nr(t){if(t instanceof Date)return t.getMonth();throw new Error("Failed to get month from date: ".concat(t,"."))}function Dr(t){if(t instanceof Date)return t.getDate();throw new Error("Failed to get year from date: ".concat(t,"."))}function Lr(t){var e=Mr(t),n=e+(1-e)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var Rr=Ar(Mr,Lr,-100),zr=Ar(Mr,Lr,100),Fr=jr(zr),Br=Ar(Mr,Fr,-100),Ur=(Ar(Mr,Fr,100),Ir(Lr,Fr));function Vr(t){var e=Mr(t),n=e+(1-e)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var Wr=Ar(Mr,Vr,-10),Hr=Ar(Mr,Vr,10),$r=jr(Hr),qr=Ar(Mr,$r,-10),Gr=(Ar(Mr,$r,10),Ir(Vr,$r));function Kr(t){var e=Mr(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}var Zr=Ar(Mr,Kr,-1),Yr=Ar(Mr,Kr,1),Xr=jr(Yr),Qr=Ar(Mr,Xr,-1),Jr=(Ar(Mr,Xr,1),Ir(Kr,Xr));function ti(t,e){return function(n,r){void 0===r&&(r=e);var i=Mr(n),o=Nr(n)+r,a=new Date;return a.setFullYear(i,o,1),a.setHours(0,0,0,0),t(a)}}function ei(t){var e=Mr(t),n=Nr(t),r=new Date;return r.setFullYear(e,n,1),r.setHours(0,0,0,0),r}var ni=ti(ei,-1),ri=ti(ei,1),ii=jr(ri),oi=ti(ii,-1),ai=(ti(ii,1),Ir(ei,ii));function si(t,e){return function(n,r){void 0===r&&(r=e);var i=Mr(n),o=Nr(n),a=Dr(n)+r,s=new Date;return s.setFullYear(i,o,a),s.setHours(0,0,0,0),t(s)}}function li(t){var e=Mr(t),n=Nr(t),r=Dr(t),i=new Date;return i.setFullYear(e,n,r),i.setHours(0,0,0,0),i}si(li,-1);var ci=jr(si(li,1)),ui=(si(ci,-1),si(ci,1),Ir(li,ci));function hi(t){return Dr(ii(t))}var di={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},fi={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},pi=[0,1,2,3,4,5,6],mi=new Map;function gi(t){return function(e,n){return function(t){return function(e,n){var r=e||Cr();mi.has(r)||mi.set(r,new Map);var i=mi.get(r);return i.has(t)||i.set(t,new Intl.DateTimeFormat(r||void 0,t).format),i.get(t)(n)}}(t)(e,function(t){var e=new Date(t);return new Date(e.setHours(12))}(n))}}gi({day:"numeric",month:"numeric",year:"numeric"});var yi=gi({day:"numeric"}),vi=gi({day:"numeric",month:"long",year:"numeric"}),bi=gi({month:"long"}),_i=gi({month:"long",year:"numeric"}),wi=gi({weekday:"short"}),xi=gi({weekday:"long"}),Si=gi({year:"numeric"}),ki=pi[0],Oi=pi[5],Ei=pi[6];function Ti(t,e){void 0===e&&(e=di.ISO_8601);var n=t.getDay();switch(e){case di.ISO_8601:return(n+6)%7;case di.ISLAMIC:return(n+1)%7;case di.HEBREW:case di.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function Pi(t,e){void 0===e&&(e=di.ISO_8601);var n=Mr(t),r=Nr(t),i=t.getDate()-Ti(t,e);return new Date(n,r,i)}function Ci(t,e){switch(t){case"century":return Lr(e);case"decade":return Vr(e);case"year":return Kr(e);case"month":return ei(e);case"day":return li(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function Ai(t,e){switch(t){case"century":return zr(e);case"decade":return Hr(e);case"year":return Yr(e);case"month":return ri(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function ji(t,e){switch(t){case"century":return Fr(e);case"decade":return $r(e);case"year":return Xr(e);case"month":return ii(e);case"day":return ci(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function Ii(t,e){switch(t){case"century":return Ur(e);case"decade":return Gr(e);case"year":return Jr(e);case"month":return ai(e);case"day":return ui(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function Mi(t,e,n){return n.map((function(n){return(e||Si)(t,n)})).join(" \u2013 ")}function Ni(t,e,n){return Mi(t,e,Gr(n))}function Di(t,e){void 0===e&&(e=di.ISO_8601);var n=t.getDay();switch(e){case di.ISLAMIC:case di.HEBREW:return n===Oi||n===Ei;case di.ISO_8601:case di.GREGORY:return n===Ei||n===ki;default:throw new Error("Unsupported calendar type.")}}var Li="react-calendar__navigation";function Ri(t){var e=t.activeStartDate,n=t.drillUp,r=t.formatMonthYear,i=void 0===r?_i:r,o=t.formatYear,a=void 0===o?Si:o,s=t.locale,l=t.maxDate,c=t.minDate,u=t.navigationAriaLabel,h=void 0===u?"":u,d=t.navigationAriaLive,f=t.navigationLabel,p=t.next2AriaLabel,m=void 0===p?"":p,g=t.next2Label,y=void 0===g?"\xbb":g,v=t.nextAriaLabel,b=void 0===v?"":v,_=t.nextLabel,w=void 0===_?"\u203a":_,x=t.prev2AriaLabel,S=void 0===x?"":x,k=t.prev2Label,O=void 0===k?"\xab":k,E=t.prevAriaLabel,T=void 0===E?"":E,P=t.prevLabel,C=void 0===P?"\u2039":P,A=t.setActiveStartDate,j=t.showDoubleView,I=t.view,M=t.views.indexOf(I)>0,N="century"!==I,D=function(t,e){switch(t){case"century":return Rr(e);case"decade":return Wr(e);case"year":return Zr(e);case"month":return ni(e);default:throw new Error("Invalid rangeType: ".concat(t))}}(I,e),L=N?function(t,e){switch(t){case"decade":return Wr(e,-100);case"year":return Zr(e,-10);case"month":return ni(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}(I,e):void 0,R=Ai(I,e),z=N?function(t,e){switch(t){case"decade":return Hr(e,100);case"year":return Yr(e,10);case"month":return ri(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}(I,e):void 0,F=function(){if(D.getFullYear()<0)return!0;var t=function(t,e){switch(t){case"century":return Br(e);case"decade":return qr(e);case"year":return Qr(e);case"month":return oi(e);default:throw new Error("Invalid rangeType: ".concat(t))}}(I,e);return c&&c>=t}(),B=N&&function(){if(L.getFullYear()<0)return!0;var t=function(t,e){switch(t){case"decade":return qr(e,-100);case"year":return Qr(e,-10);case"month":return oi(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}(I,e);return c&&c>=t}(),U=l&&l<R,V=N&&l&&l<z;function W(t){var e=function(){switch(I){case"century":return function(t,e,n){return Mi(t,e,Ur(n))}(s,a,t);case"decade":return Ni(s,a,t);case"year":return a(s,t);case"month":return i(s,t);default:throw new Error("Invalid view: ".concat(I,"."))}}();return f?f({date:t,label:e,locale:s||Pr()||void 0,view:I}):e}return(0,yt.jsxs)("div",{className:Li,children:[null!==O&&N?(0,yt.jsx)("button",{"aria-label":S,className:"".concat(Li,"__arrow ").concat(Li,"__prev2-button"),disabled:B,onClick:function(){A(L,"prev2")},type:"button",children:O}):null,null!==C&&(0,yt.jsx)("button",{"aria-label":T,className:"".concat(Li,"__arrow ").concat(Li,"__prev-button"),disabled:F,onClick:function(){A(D,"prev")},type:"button",children:C}),function(){var t="".concat(Li,"__label");return(0,yt.jsxs)("button",{"aria-label":h,"aria-live":d,className:t,disabled:!M,onClick:n,style:{flexGrow:1},type:"button",children:[(0,yt.jsx)("span",{className:"".concat(t,"__labelText ").concat(t,"__labelText--from"),children:W(e)}),j?(0,yt.jsxs)(yt.Fragment,{children:[(0,yt.jsx)("span",{className:"".concat(t,"__divider"),children:" \u2013 "}),(0,yt.jsx)("span",{className:"".concat(t,"__labelText ").concat(t,"__labelText--to"),children:W(R)})]}):null]})}(),null!==w&&(0,yt.jsx)("button",{"aria-label":b,className:"".concat(Li,"__arrow ").concat(Li,"__next-button"),disabled:U,onClick:function(){A(R,"next")},type:"button",children:w}),null!==y&&N?(0,yt.jsx)("button",{"aria-label":m,className:"".concat(Li,"__arrow ").concat(Li,"__next2-button"),disabled:V,onClick:function(){A(z,"next2")},type:"button",children:y}):null]})}var zi=function(){return zi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},zi.apply(this,arguments)},Fi=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function Bi(t){return"".concat(t,"%")}function Ui(t){var e=t.children,n=t.className,r=t.count,i=t.direction,a=t.offset,s=t.style,l=t.wrap,c=Fi(t,["children","className","count","direction","offset","style","wrap"]);return(0,yt.jsx)("div",zi({className:n,style:zi({display:"flex",flexDirection:i,flexWrap:l?"wrap":"nowrap"},s)},c,{children:o.Children.map(e,(function(t,e){var n=a&&0===e?Bi(100*a/r):null;return(0,o.cloneElement)(t,zi(zi({},t.props),{style:{flexBasis:Bi(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:n,marginInlineStart:n,marginInlineEnd:0}}))}))}))}function Vi(t,e){return e[0]<=t&&e[1]>=t}function Wi(t,e){return Vi(t[0],e)||Vi(t[1],e)}function Hi(t,e,n){var r=[];if(Wi(e,t)){r.push(n);var i=Vi(t[0],e),o=Vi(t[1],e);i&&r.push("".concat(n,"Start")),o&&r.push("".concat(n,"End")),i&&o&&r.push("".concat(n,"BothEnds"))}return r}function $i(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,r=t.hover,i="react-calendar__tile",o=[i];if(!n)return o;var a=new Date,s=function(){if(Array.isArray(n))return n;var e=t.dateType;if(!e)throw new Error("dateType is required when date is not an array of two dates");return Ii(e,n)}();if(Vi(a,s)&&o.push("".concat(i,"--now")),!e||!function(t){return Array.isArray(t)?null!==t[0]&&null!==t[1]:null!==t}(e))return o;var l,c,u=function(){if(Array.isArray(e))return e;var n=t.valueType;if(!n)throw new Error("valueType is required when value is not an array of two dates");return Ii(n,e)}();c=s,(l=u)[0]<=c[0]&&l[1]>=c[1]?o.push("".concat(i,"--active")):Wi(u,s)&&o.push("".concat(i,"--hasActive"));var h=Hi(u,s,"".concat(i,"--range"));o.push.apply(o,h);var d=Array.isArray(e)?e:[e];if(r&&1===d.length){var f=Hi(r>u[0]?[u[0],r]:[r,u[0]],s,"".concat(i,"--hover"));o.push.apply(o,f)}return o}function qi(t){for(var e=t.className,n=t.count,r=void 0===n?3:n,i=t.dateTransform,o=t.dateType,a=t.end,s=t.hover,l=t.offset,c=t.renderTile,u=t.start,h=t.step,d=void 0===h?1:h,f=t.value,p=t.valueType,m=[],g=u;g<=a;g+=d){var y=i(g);m.push(c({classes:$i({date:y,dateType:o,hover:s,value:f,valueType:p}),date:y}))}return(0,yt.jsx)(Ui,{className:e,count:r,offset:l,wrap:!0,children:m})}function Gi(t){var e=t.activeStartDate,n=t.children,r=t.classes,i=t.date,a=t.formatAbbr,s=t.locale,l=t.maxDate,c=t.maxDateTransform,u=t.minDate,h=t.minDateTransform,d=t.onClick,f=t.onMouseOver,p=t.style,m=t.tileClassName,g=t.tileContent,y=t.tileDisabled,v=t.view,b=(0,o.useMemo)((function(){return"function"===typeof m?m({activeStartDate:e,date:i,view:v}):m}),[e,i,m,v]),_=(0,o.useMemo)((function(){return"function"===typeof g?g({activeStartDate:e,date:i,view:v}):g}),[e,i,g,v]);return(0,yt.jsxs)("button",{className:wr(r,b),disabled:u&&h(u)>i||l&&c(l)<i||(null===y||void 0===y?void 0:y({activeStartDate:e,date:i,view:v})),onClick:d?function(t){return d(i,t)}:void 0,onFocus:f?function(){return f(i)}:void 0,onMouseOver:f?function(){return f(i)}:void 0,style:p,type:"button",children:[a?(0,yt.jsx)("abbr",{"aria-label":a(s,i),children:n}):n,_]})}var Ki=function(){return Ki=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ki.apply(this,arguments)},Zi=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Yi="react-calendar__century-view__decades__decade";function Xi(t){var e=t.classes,n=void 0===e?[]:e,r=t.currentCentury,i=t.formatYear,o=void 0===i?Si:i,a=Zi(t,["classes","currentCentury","formatYear"]),s=a.date,l=a.locale,c=[];return n&&c.push.apply(c,n),Yi&&c.push(Yi),Lr(s).getFullYear()!==r&&c.push("".concat(Yi,"--neighboringCentury")),(0,yt.jsx)(Gi,Ki({},a,{classes:c,maxDateTransform:$r,minDateTransform:Vr,view:"century",children:Ni(l,o,s)}))}var Qi=function(){return Qi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Qi.apply(this,arguments)},Ji=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function to(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringCentury,i=t.value,o=t.valueType,a=Ji(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),s=Mr(Lr(e)),l=s+(r?119:99);return(0,yt.jsx)(qi,{className:"react-calendar__century-view__decades",dateTransform:Vr,dateType:"decade",end:l,hover:n,renderTile:function(t){var n=t.date,r=Ji(t,["date"]);return(0,yt.jsx)(Xi,Qi({},a,r,{activeStartDate:e,currentCentury:s,date:n}),n.getTime())},start:s,step:10,value:i,valueType:o})}var eo=function(){return eo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},eo.apply(this,arguments)};function no(t){return(0,yt.jsx)("div",{className:"react-calendar__century-view",children:(0,yt.jsx)(to,eo({},t))})}var ro=function(){return ro=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ro.apply(this,arguments)},io=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},oo="react-calendar__decade-view__years__year";function ao(t){var e=t.classes,n=void 0===e?[]:e,r=t.currentDecade,i=t.formatYear,o=void 0===i?Si:i,a=io(t,["classes","currentDecade","formatYear"]),s=a.date,l=a.locale,c=[];return n&&c.push.apply(c,n),oo&&c.push(oo),Vr(s).getFullYear()!==r&&c.push("".concat(oo,"--neighboringDecade")),(0,yt.jsx)(Gi,ro({},a,{classes:c,maxDateTransform:Xr,minDateTransform:Kr,view:"decade",children:o(l,s)}))}var so=function(){return so=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},so.apply(this,arguments)},lo=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function co(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringDecade,i=t.value,o=t.valueType,a=lo(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),s=Mr(Vr(e)),l=s+(r?11:9);return(0,yt.jsx)(qi,{className:"react-calendar__decade-view__years",dateTransform:Kr,dateType:"year",end:l,hover:n,renderTile:function(t){var n=t.date,r=lo(t,["date"]);return(0,yt.jsx)(ao,so({},a,r,{activeStartDate:e,currentDecade:s,date:n}),n.getTime())},start:s,value:i,valueType:o})}var uo=function(){return uo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},uo.apply(this,arguments)};function ho(t){return(0,yt.jsx)("div",{className:"react-calendar__decade-view",children:(0,yt.jsx)(co,uo({},t))})}var fo=function(){return fo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},fo.apply(this,arguments)},po=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},mo=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},go="react-calendar__year-view__months__month";function yo(t){var e=t.classes,n=void 0===e?[]:e,r=t.formatMonth,i=void 0===r?bi:r,o=t.formatMonthYear,a=void 0===o?_i:o,s=po(t,["classes","formatMonth","formatMonthYear"]),l=s.date,c=s.locale;return(0,yt.jsx)(Gi,fo({},s,{classes:mo(mo([],n,!0),[go],!1),formatAbbr:a,maxDateTransform:ii,minDateTransform:ei,view:"year",children:i(c,l)}))}var vo=function(){return vo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},vo.apply(this,arguments)},bo=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function _o(t){var e=t.activeStartDate,n=t.hover,r=t.value,i=t.valueType,o=bo(t,["activeStartDate","hover","value","valueType"]),a=Mr(e);return(0,yt.jsx)(qi,{className:"react-calendar__year-view__months",dateTransform:function(t){var e=new Date;return e.setFullYear(a,t,1),ei(e)},dateType:"month",end:11,hover:n,renderTile:function(t){var n=t.date,r=bo(t,["date"]);return(0,yt.jsx)(yo,vo({},o,r,{activeStartDate:e,date:n}),n.getTime())},start:0,value:r,valueType:i})}var wo=function(){return wo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},wo.apply(this,arguments)};function xo(t){return(0,yt.jsx)("div",{className:"react-calendar__year-view",children:(0,yt.jsx)(_o,wo({},t))})}var So=function(){return So=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},So.apply(this,arguments)},ko=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Oo="react-calendar__month-view__days__day";function Eo(t){var e=t.calendarType,n=t.classes,r=void 0===n?[]:n,i=t.currentMonthIndex,o=t.formatDay,a=void 0===o?yi:o,s=t.formatLongDate,l=void 0===s?vi:s,c=ko(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),u=c.date,h=c.locale,d=[];return r&&d.push.apply(d,r),Oo&&d.push(Oo),Di(u,e)&&d.push("".concat(Oo,"--weekend")),u.getMonth()!==i&&d.push("".concat(Oo,"--neighboringMonth")),(0,yt.jsx)(Gi,So({},c,{classes:d,formatAbbr:l,maxDateTransform:ci,minDateTransform:li,view:"month",children:a(h,u)}))}var To=function(){return To=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},To.apply(this,arguments)},Po=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function Co(t){var e=t.activeStartDate,n=t.calendarType,r=t.hover,i=t.showFixedNumberOfWeeks,o=t.showNeighboringMonth,a=t.value,s=t.valueType,l=Po(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),c=Mr(e),u=Nr(e),h=i||o,d=Ti(e,n),f=h?0:d,p=1+(h?-d:0),m=function(){if(i)return p+42-1;var t=hi(e);if(o){var r=new Date;return r.setFullYear(c,u,t),r.setHours(0,0,0,0),t+(7-Ti(r,n)-1)}return t}();return(0,yt.jsx)(qi,{className:"react-calendar__month-view__days",count:7,dateTransform:function(t){var e=new Date;return e.setFullYear(c,u,t),li(e)},dateType:"day",hover:r,end:m,renderTile:function(t){var r=t.date,i=Po(t,["date"]);return(0,yt.jsx)(Eo,To({},l,i,{activeStartDate:e,calendarType:n,currentMonthIndex:u,date:r}),r.getTime())},offset:f,start:p,value:a,valueType:s})}var Ao="react-calendar__month-view__weekdays",jo="".concat(Ao,"__weekday");function Io(t){for(var e,n=t.calendarType,r=t.formatShortWeekday,i=void 0===r?wi:r,o=t.formatWeekday,a=void 0===o?xi:o,s=t.locale,l=t.onMouseLeave,c=ei(new Date),u=Mr(c),h=Nr(c),d=[],f=1;f<=7;f+=1){var p=new Date(u,h,f-Ti(c,n)),m=a(s,p);d.push((0,yt.jsx)("div",{className:wr(jo,(e=p,e.getDay()===(new Date).getDay()&&"".concat(jo,"--current")),Di(p,n)&&"".concat(jo,"--weekend")),children:(0,yt.jsx)("abbr",{"aria-label":m,title:m,children:i(s,p).replace(".","")})},f))}return(0,yt.jsx)(Ui,{className:Ao,count:7,onFocus:l,onMouseOver:l,children:d})}var Mo=function(){return Mo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Mo.apply(this,arguments)},No=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},Do="react-calendar__tile";function Lo(t){var e=t.onClickWeekNumber,n=t.weekNumber,r=(0,yt.jsx)("span",{children:n});if(e){var i=t.date,o=t.onClickWeekNumber,a=t.weekNumber,s=No(t,["date","onClickWeekNumber","weekNumber"]);return(0,yt.jsx)("button",Mo({},s,{className:Do,onClick:function(t){return o(a,i,t)},type:"button",children:r}))}t.date,t.onClickWeekNumber,t.weekNumber,s=No(t,["date","onClickWeekNumber","weekNumber"]);return(0,yt.jsx)("div",Mo({},s,{className:Do,children:r}))}function Ro(t){var e=t.activeStartDate,n=t.calendarType,r=t.onClickWeekNumber,i=t.onMouseLeave,o=t.showFixedNumberOfWeeks,a=function(){if(o)return 6;var t=hi(e)-(7-Ti(e,n));return 1+Math.ceil(t/7)}(),s=function(){for(var t=Mr(e),r=Nr(e),i=Dr(e),o=[],s=0;s<a;s+=1)o.push(Pi(new Date(t,r,i+7*s),n));return o}(),l=s.map((function(t){return function(t,e){void 0===e&&(e=di.ISO_8601);var n,r=e===di.GREGORY?di.GREGORY:di.ISO_8601,i=Pi(t,e),o=Mr(t)+1;do{n=Pi(new Date(o,0,r===di.ISO_8601?4:1),e),o-=1}while(t<n);return Math.round((i.getTime()-n.getTime())/6048e5)+1}(t,n)}));return(0,yt.jsx)(Ui,{className:"react-calendar__month-view__weekNumbers",count:a,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:l.map((function(t,e){var n=s[e];if(!n)throw new Error("date is not defined");return(0,yt.jsx)(Lo,{date:n,onClickWeekNumber:r,weekNumber:t},t)}))})}var zo=function(){return zo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},zo.apply(this,arguments)},Fo=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function Bo(t){var e=t.activeStartDate,n=t.locale,r=t.onMouseLeave,i=t.showFixedNumberOfWeeks,o=t.calendarType,a=void 0===o?function(t){if(t)for(var e=0,n=Object.entries(fi);e<n.length;e++){var r=n[e],i=r[0];if(r[1].includes(t))return i}return di.ISO_8601}(n):o,s=t.formatShortWeekday,l=t.formatWeekday,c=t.onClickWeekNumber,u=t.showWeekNumbers,h=Fo(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);var d="react-calendar__month-view";return(0,yt.jsx)("div",{className:wr(d,u?"".concat(d,"--weekNumbers"):""),children:(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"flex-end"},children:[u?(0,yt.jsx)(Ro,{activeStartDate:e,calendarType:a,onClickWeekNumber:c,onMouseLeave:r,showFixedNumberOfWeeks:i}):null,(0,yt.jsxs)("div",{style:{flexGrow:1,width:"100%"},children:[(0,yt.jsx)(Io,{calendarType:a,formatShortWeekday:s,formatWeekday:l,locale:n,onMouseLeave:r}),(0,yt.jsx)(Co,zo({calendarType:a},h))]})]})})}var Uo=function(){return Uo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Uo.apply(this,arguments)},Vo="react-calendar",Wo=["century","decade","year","month"],Ho=["decade","year","month","day"],$o=new Date;$o.setFullYear(1,0,1),$o.setHours(0,0,0,0);var qo=new Date(864e13);function Go(t){return t instanceof Date?t:new Date(t)}function Ko(t,e){return Wo.slice(Wo.indexOf(t),Wo.indexOf(e)+1)}function Zo(t,e,n){return t&&function(t,e,n){return-1!==Ko(e,n).indexOf(t)}(t,e,n)?t:n}function Yo(t){var e=Wo.indexOf(t);return Ho[e]}function Xo(t,e){var n=t.value,r=t.minDate,i=t.maxDate,o=t.maxDetail,a=function(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var r=Go(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}(n,e);if(!a)return null;var s=Yo(o);return function(t,e,n){return e&&e>t?e:n&&n<t?n:t}(function(){switch(e){case 0:return Ci(s,a);case 1:return ji(s,a);default:throw new Error("Invalid index value: ".concat(e))}}(),r,i)}var Qo=function(t){return Xo(t,0)},Jo=function(t){return Xo(t,1)},ta=function(t){return[Qo,Jo].map((function(e){return e(t)}))};function ea(t){var e=t.maxDate,n=t.maxDetail,r=t.minDate,i=t.minDetail,o=t.value;return Ci(Zo(t.view,i,n),Qo({value:o,minDate:r,maxDate:e,maxDetail:n})||new Date)}function na(t){return t&&(!Array.isArray(t)||1===t.length)}function ra(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var ia=(0,o.forwardRef)((function(t,e){var n=t.activeStartDate,r=t.allowPartialRange,i=t.calendarType,a=t.className,s=t.defaultActiveStartDate,l=t.defaultValue,c=t.defaultView,u=t.formatDay,h=t.formatLongDate,d=t.formatMonth,f=t.formatMonthYear,p=t.formatShortWeekday,m=t.formatWeekday,g=t.formatYear,y=t.goToRangeStartOnSelect,v=void 0===y||y,b=t.inputRef,_=t.locale,w=t.maxDate,x=void 0===w?qo:w,S=t.maxDetail,k=void 0===S?"month":S,O=t.minDate,E=void 0===O?$o:O,T=t.minDetail,P=void 0===T?"century":T,C=t.navigationAriaLabel,A=t.navigationAriaLive,j=t.navigationLabel,I=t.next2AriaLabel,M=t.next2Label,N=t.nextAriaLabel,D=t.nextLabel,L=t.onActiveStartDateChange,R=t.onChange,z=t.onClickDay,F=t.onClickDecade,B=t.onClickMonth,U=t.onClickWeekNumber,V=t.onClickYear,W=t.onDrillDown,H=t.onDrillUp,$=t.onViewChange,q=t.prev2AriaLabel,G=t.prev2Label,K=t.prevAriaLabel,Z=t.prevLabel,Y=t.returnValue,X=void 0===Y?"start":Y,Q=t.selectRange,J=t.showDoubleView,tt=t.showFixedNumberOfWeeks,et=t.showNavigation,nt=void 0===et||et,rt=t.showNeighboringCentury,it=t.showNeighboringDecade,ot=t.showNeighboringMonth,at=void 0===ot||ot,st=t.showWeekNumbers,lt=t.tileClassName,ct=t.tileContent,ut=t.tileDisabled,ht=t.value,dt=t.view,ft=(0,o.useState)(s),pt=ft[0],mt=ft[1],gt=(0,o.useState)(null),vt=gt[0],bt=gt[1],_t=(0,o.useState)(Array.isArray(l)?l.map((function(t){return null!==t?Go(t):null})):null!==l&&void 0!==l?Go(l):null),wt=_t[0],xt=_t[1],St=(0,o.useState)(c),kt=St[0],Ot=St[1],Et=n||pt||function(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,r=t.defaultValue,i=t.defaultView,o=t.maxDate,a=t.maxDetail,s=t.minDate,l=t.minDetail,c=t.value,u=t.view,h=Zo(u,l,a),d=e||n;return d?Ci(h,d):ea({maxDate:o,maxDetail:a,minDate:s,minDetail:l,value:c||r,view:u||i})}({activeStartDate:n,defaultActiveStartDate:s,defaultValue:l,defaultView:c,maxDate:x,maxDetail:k,minDate:E,minDetail:P,value:ht,view:dt}),Tt=function(){var t=Q&&na(wt)?wt:void 0!==ht?ht:wt;return t?Array.isArray(t)?t.map((function(t){return null!==t?Go(t):null})):null!==t?Go(t):null:null}(),Pt=Yo(k),Ct=Zo(dt||kt,P,k),At=Ko(P,k),jt=Q?vt:null,It=At.indexOf(Ct)<At.length-1,Mt=At.indexOf(Ct)>0,Nt=(0,o.useCallback)((function(t){return function(){switch(X){case"start":return Qo;case"end":return Jo;case"range":return ta;default:throw new Error("Invalid returnValue.")}}()({maxDate:x,maxDetail:k,minDate:E,value:t})}),[x,k,E,X]),Dt=(0,o.useCallback)((function(t,e){mt(t);var n={action:e,activeStartDate:t,value:Tt,view:Ct};L&&!ra(Et,t)&&L(n)}),[Et,L,Tt,Ct]),Lt=(0,o.useCallback)((function(t,e){var n=function(){switch(Ct){case"century":return F;case"decade":return V;case"year":return B;case"month":return z;default:throw new Error("Invalid view: ".concat(Ct,"."))}}();n&&n(t,e)}),[z,F,B,V,Ct]),Rt=(0,o.useCallback)((function(t,e){if(It){Lt(t,e);var n=At[At.indexOf(Ct)+1];if(!n)throw new Error("Attempted to drill down from the lowest view.");mt(t),Ot(n);var r={action:"drillDown",activeStartDate:t,value:Tt,view:n};L&&!ra(Et,t)&&L(r),$&&Ct!==n&&$(r),W&&W(r)}}),[Et,It,L,Lt,W,$,Tt,Ct,At]),zt=(0,o.useCallback)((function(){if(Mt){var t=At[At.indexOf(Ct)-1];if(!t)throw new Error("Attempted to drill up from the highest view.");var e=Ci(t,Et);mt(e),Ot(t);var n={action:"drillUp",activeStartDate:e,value:Tt,view:t};L&&!ra(Et,e)&&L(n),$&&Ct!==t&&$(n),H&&H(n)}}),[Et,Mt,L,H,$,Tt,Ct,At]),Ft=(0,o.useCallback)((function(t,e){var n=Tt;Lt(t,e);var i,o=Q&&!na(n);if(Q)if(o)i=Ci(Pt,t);else{if(!n)throw new Error("previousValue is required");if(Array.isArray(n))throw new Error("previousValue must not be an array");i=function(t,e,n){var r=[e,n].sort((function(t,e){return t.getTime()-e.getTime()}));return[Ci(t,r[0]),ji(t,r[1])]}(Pt,n,t)}else i=Nt(t);var a=!Q||o||v?ea({maxDate:x,maxDetail:k,minDate:E,minDetail:P,value:i,view:Ct}):null;e.persist(),mt(a),xt(i);var s={action:"onChange",activeStartDate:a,value:i,view:Ct};if(L&&!ra(Et,a)&&L(s),R)if(Q)if(na(i)){if(r){if(Array.isArray(i))throw new Error("value must not be an array");R([i||null,null],e)}}else R(i||null,e);else R(i||null,e)}),[Et,r,Nt,v,x,k,E,P,L,R,Lt,Q,Tt,Pt,Ct]);function Bt(t){bt(t)}function Ut(){bt(null)}function Vt(t){var e={activeStartDate:t?Ai(Ct,Et):Ci(Ct,Et),hover:jt,locale:_,maxDate:x,minDate:E,onClick:It?Rt:Ft,onMouseOver:Q?Bt:void 0,tileClassName:lt,tileContent:ct,tileDisabled:ut,value:Tt,valueType:Pt};switch(Ct){case"century":return(0,yt.jsx)(no,Uo({formatYear:g,showNeighboringCentury:rt},e));case"decade":return(0,yt.jsx)(ho,Uo({formatYear:g,showNeighboringDecade:it},e));case"year":return(0,yt.jsx)(xo,Uo({formatMonth:d,formatMonthYear:f},e));case"month":return(0,yt.jsx)(Bo,Uo({calendarType:i,formatDay:u,formatLongDate:h,formatShortWeekday:p,formatWeekday:m,onClickWeekNumber:U,onMouseLeave:Q?Ut:void 0,showFixedNumberOfWeeks:"undefined"!==typeof tt?tt:J,showNeighboringMonth:at,showWeekNumbers:st},e));default:throw new Error("Invalid view: ".concat(Ct,"."))}}(0,o.useImperativeHandle)(e,(function(){return{activeStartDate:Et,drillDown:Rt,drillUp:zt,onChange:Ft,setActiveStartDate:Dt,value:Tt,view:Ct}}),[Et,Rt,zt,Ft,Dt,Tt,Ct]);var Wt=Array.isArray(Tt)?Tt:[Tt];return(0,yt.jsxs)("div",{className:wr(Vo,Q&&1===Wt.length&&"".concat(Vo,"--selectRange"),J&&"".concat(Vo,"--doubleView"),a),ref:b,children:[nt?(0,yt.jsx)(Ri,{activeStartDate:Et,drillUp:zt,formatMonthYear:f,formatYear:g,locale:_,maxDate:x,minDate:E,navigationAriaLabel:C,navigationAriaLive:A,navigationLabel:j,next2AriaLabel:I,next2Label:M,nextAriaLabel:N,nextLabel:D,prev2AriaLabel:q,prev2Label:G,prevAriaLabel:K,prevLabel:Z,setActiveStartDate:Dt,showDoubleView:J,view:Ct,views:At}):null,(0,yt.jsxs)("div",{className:"".concat(Vo,"__viewContainer"),onBlur:Q?Ut:void 0,onMouseLeave:Q?Ut:void 0,children:[Vt(),J?Vt(!0):null]})]})}));const oa=ia;function aa(t){return t+.5|0}const sa=(t,e,n)=>Math.max(Math.min(t,n),e);function la(t){return sa(aa(2.55*t),0,255)}function ca(t){return sa(aa(255*t),0,255)}function ua(t){return sa(aa(t/2.55)/100,0,1)}function ha(t){return sa(aa(100*t),0,100)}const da={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},fa=[..."0123456789ABCDEF"],pa=t=>fa[15&t],ma=t=>fa[(240&t)>>4]+fa[15&t],ga=t=>(240&t)>>4===(15&t);function ya(t){var e=(t=>ga(t.r)&&ga(t.g)&&ga(t.b)&&ga(t.a))(t)?pa:ma;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const va=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ba(t,e,n){const r=e*Math.min(n,1-n),i=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function _a(t,e,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+t/60)%6;return n-n*e*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function wa(t,e,n){const r=ba(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function xa(t){const e=t.r/255,n=t.g/255,r=t.b/255,i=Math.max(e,n,r),o=Math.min(e,n,r),a=(i+o)/2;let s,l,c;return i!==o&&(c=i-o,l=a>.5?c/(2-i-o):c/(i+o),s=function(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}(e,n,r,c,i),s=60*s+.5),[0|s,l||0,a]}function Sa(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(ca)}function ka(t,e,n){return Sa(ba,t,e,n)}function Oa(t){return(t%360+360)%360}function Ea(t){const e=va.exec(t);let n,r=255;if(!e)return;e[5]!==n&&(r=e[6]?la(+e[5]):ca(+e[5]));const i=Oa(+e[2]),o=+e[3]/100,a=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return Sa(wa,t,e,n)}(i,o,a):"hsv"===e[1]?function(t,e,n){return Sa(_a,t,e,n)}(i,o,a):ka(i,o,a),{r:n[0],g:n[1],b:n[2],a:r}}const Ta={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Pa={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Ca;function Aa(t){Ca||(Ca=function(){const t={},e=Object.keys(Pa),n=Object.keys(Ta);let r,i,o,a,s;for(r=0;r<e.length;r++){for(a=s=e[r],i=0;i<n.length;i++)o=n[i],s=s.replace(o,Ta[o]);o=parseInt(Pa[a],16),t[s]=[o>>16&255,o>>8&255,255&o]}return t}(),Ca.transparent=[0,0,0,0]);const e=Ca[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const ja=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Ia=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,Ma=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Na(t,e,n){if(t){let r=xa(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,0===e?360:1)),r=ka(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Da(t,e){return t?Object.assign(e||{},t):t}function La(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ca(t[3]))):(e=Da(t,{r:0,g:0,b:0,a:1})).a=ca(e.a),e}function Ra(t){return"r"===t.charAt(0)?function(t){const e=ja.exec(t);let n,r,i,o=255;if(e){if(e[7]!==n){const t=+e[7];o=e[8]?la(t):sa(255*t,0,255)}return n=+e[1],r=+e[3],i=+e[5],n=255&(e[2]?la(n):sa(n,0,255)),r=255&(e[4]?la(r):sa(r,0,255)),i=255&(e[6]?la(i):sa(i,0,255)),{r:n,g:r,b:i,a:o}}}(t):Ea(t)}class za{constructor(t){if(t instanceof za)return t;const e=typeof t;let n;"object"===e?n=La(t):"string"===e&&(n=function(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*da[t[1]],g:255&17*da[t[2]],b:255&17*da[t[3]],a:5===n?17*da[t[4]]:255}:7!==n&&9!==n||(e={r:da[t[1]]<<4|da[t[2]],g:da[t[3]]<<4|da[t[4]],b:da[t[5]]<<4|da[t[6]],a:9===n?da[t[7]]<<4|da[t[8]]:255})),e}(t)||Aa(t)||Ra(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Da(this._rgb);return t&&(t.a=ua(t.a)),t}set rgb(t){this._rgb=La(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ua(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):void 0;var t}hexString(){return this._valid?ya(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=xa(t),n=e[0],r=ha(e[1]),i=ha(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${ua(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,r=t.rgb;let i;const o=e===i?.5:e,a=2*o-1,s=n.a-r.a,l=((a*s===-1?a:(a+s)/(1+a*s))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const r=Ma(ua(t.r)),i=Ma(ua(t.g)),o=Ma(ua(t.b));return{r:ca(Ia(r+n*(Ma(ua(e.r))-r))),g:ca(Ia(i+n*(Ma(ua(e.g))-i))),b:ca(Ia(o+n*(Ma(ua(e.b))-o))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new za(this.rgb)}alpha(t){return this._rgb.a=ca(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=aa(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Na(this._rgb,2,t),this}darken(t){return Na(this._rgb,2,-t),this}saturate(t){return Na(this._rgb,1,t),this}desaturate(t){return Na(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=xa(t);n[0]=Oa(n[0]+e),n=ka(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function Fa(){}const Ba=(()=>{let t=0;return()=>t++})();function Ua(t){return null===t||"undefined"===typeof t}function Va(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Wa(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function Ha(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)}function $a(t,e){return Ha(t)?t:e}function qa(t,e){return"undefined"===typeof t?e:t}const Ga=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ka(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function Za(t,e,n,r){let i,o,a;if(Va(t))if(o=t.length,r)for(i=o-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<o;i++)e.call(n,t[i],i);else if(Wa(t))for(a=Object.keys(t),o=a.length,i=0;i<o;i++)e.call(n,t[a[i]],a[i])}function Ya(t,e){let n,r,i,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],o=e[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Xa(t){if(Va(t))return t.map(Xa);if(Wa(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=Xa(t[n[i]]);return e}return t}function Qa(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function Ja(t,e,n,r){if(!Qa(t))return;const i=e[t],o=n[t];Wa(i)&&Wa(o)?ts(i,o,r):e[t]=Xa(o)}function ts(t,e,n){const r=Va(e)?e:[e],i=r.length;if(!Wa(t))return t;const o=(n=n||{}).merger||Ja;let a;for(let s=0;s<i;++s){if(a=r[s],!Wa(a))continue;const e=Object.keys(a);for(let r=0,i=e.length;r<i;++r)o(e[r],t,a,n)}return t}function es(t,e){return ts(t,e,{merger:ns})}function ns(t,e,n){if(!Qa(t))return;const r=e[t],i=n[t];Wa(r)&&Wa(i)?es(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Xa(i))}const rs={"":t=>t,x:t=>t.x,y:t=>t.y};function is(t,e){const n=rs[e]||(rs[e]=function(t){const e=function(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function os(t){return t.charAt(0).toUpperCase()+t.slice(1)}const as=t=>"undefined"!==typeof t,ss=t=>"function"===typeof t,ls=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};const cs=Math.PI,us=2*cs,hs=us+cs,ds=Number.POSITIVE_INFINITY,fs=cs/180,ps=cs/2,ms=cs/4,gs=2*cs/3,ys=Math.log10,vs=Math.sign;function bs(t,e,n){return Math.abs(t-e)<n}function _s(t){const e=Math.round(t);t=bs(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(ys(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function ws(t){return!isNaN(parseFloat(t))&&isFinite(t)}function xs(t,e,n){let r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Ss(t){return t*(cs/180)}function ks(t){return t*(180/cs)}function Os(t){if(!Ha(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Es(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*cs&&(o+=us),{angle:o,distance:i}}function Ts(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ps(t,e){return(t-e+hs)%us-cs}function Cs(t){return(t%us+us)%us}function As(t,e,n,r){const i=Cs(t),o=Cs(e),a=Cs(n),s=Cs(o-i),l=Cs(a-i),c=Cs(i-o),u=Cs(i-a);return i===o||i===a||r&&o===a||s>l&&c<u}function js(t,e,n){return Math.max(e,Math.min(n,t))}function Is(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Ms(t,e,n){n=n||(n=>t[n]<e);let r,i=t.length-1,o=0;for(;i-o>1;)r=o+i>>1,n(r)?o=r:i=r;return{lo:o,hi:i}}const Ns=(t,e,n,r)=>Ms(t,n,r?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),Ds=(t,e,n)=>Ms(t,n,(r=>t[r][e]>=n));const Ls=["push","pop","shift","splice","unshift"];function Rs(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);-1!==i&&r.splice(i,1),r.length>0||(Ls.forEach((e=>{delete t[e]})),delete t._chartjs)}function zs(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Fs="undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame;function Bs(t,e){let n=[],r=!1;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];n=o,r||(r=!0,Fs.call(window,(()=>{r=!1,t.apply(e,n)})))}}const Us=t=>"start"===t?"left":"end"===t?"right":"center",Vs=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function Ws(t,e,n){const r=e.length;let i=0,o=r;if(t._sorted){const{iScale:a,_parsed:s}=t,l=a.axis,{min:c,max:u,minDefined:h,maxDefined:d}=a.getUserBounds();h&&(i=js(Math.min(Ns(s,l,c).lo,n?r:Ns(e,l,a.getPixelForValue(c)).lo),0,r-1)),o=d?js(Math.max(Ns(s,a.axis,u,!0).hi+1,n?0:Ns(e,l,a.getPixelForValue(u),!0).hi+1),i,r)-i:r-i}return{start:i,count:o}}function Hs(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o}const $s=t=>0===t||1===t,qs=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*us/n),Gs=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*us/n)+1,Ks={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*ps),easeOutSine:t=>Math.sin(t*ps),easeInOutSine:t=>-.5*(Math.cos(cs*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>$s(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>$s(t)?t:qs(t,.075,.3),easeOutElastic:t=>$s(t)?t:Gs(t,.075,.3),easeInOutElastic(t){const e=.1125;return $s(t)?t:t<.5?.5*qs(2*t,e,.45):.5+.5*Gs(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Ks.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*Ks.easeInBounce(2*t):.5*Ks.easeOutBounce(2*t-1)+.5};function Zs(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Ys(t){return Zs(t)?t:new za(t)}function Xs(t){return Zs(t)?t:new za(t).saturate(.5).darken(.1).hexString()}const Qs=["x","y","borderWidth","radius","tension"],Js=["color","borderColor","backgroundColor"];const tl=new Map;function el(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let r=tl.get(n);return r||(r=new Intl.NumberFormat(t,e),tl.set(n,r)),r}(e,n).format(t)}const nl={values:t=>Va(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const r=this.chart.options.locale;let i,o=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(i="scientific"),o=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}const a=ys(Math.abs(o)),s=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(l,this.options.ticks.format),el(t,r,l)},logarithmic(t,e,n){if(0===t)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(ys(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?nl.numeric.call(this,t,e,n):""}};var rl={formatters:nl};const il=Object.create(null),ol=Object.create(null);function al(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const e=n[r];t=t[e]||(t[e]=Object.create(null))}return t}function sl(t,e,n){return"string"===typeof e?ts(al(t,e),n):ts(al(t,""),e)}class ll{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>Xs(e.backgroundColor),this.hoverBorderColor=(t,e)=>Xs(e.borderColor),this.hoverColor=(t,e)=>Xs(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return sl(this,t,e)}get(t){return al(this,t)}describe(t,e){return sl(ol,t,e)}override(t,e){return sl(il,t,e)}route(t,e,n,r){const i=al(this,t),o=al(this,n),a="_"+e;Object.defineProperties(i,{[a]:{value:i[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[a],e=o[r];return Wa(t)?Object.assign({},e,t):qa(t,e)},set(t){this[a]=t}}})}apply(t){t.forEach((t=>t(this)))}}var cl=new ll({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:Js},numbers:{type:"number",properties:Qs}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:rl.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function ul(t,e,n,r,i){let o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>r&&(r=o),r}function hl(t,e,n){const r=t.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function dl(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function fl(t,e,n,r){pl(t,e,n,r,null)}function pl(t,e,n,r,i){let o,a,s,l,c,u,h,d;const f=e.pointStyle,p=e.rotation,m=e.radius;let g=(p||0)*fs;if(f&&"object"===typeof f&&(o=f.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(n,r),t.rotate(g),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(m)||m<=0)){switch(t.beginPath(),f){default:i?t.ellipse(n,r,i/2,m,0,0,us):t.arc(n,r,m,0,us),t.closePath();break;case"triangle":u=i?i/2:m,t.moveTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=gs,t.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),g+=gs,t.lineTo(n+Math.sin(g)*u,r-Math.cos(g)*m),t.closePath();break;case"rectRounded":c=.516*m,l=m-c,a=Math.cos(g+ms)*l,h=Math.cos(g+ms)*(i?i/2-c:l),s=Math.sin(g+ms)*l,d=Math.sin(g+ms)*(i?i/2-c:l),t.arc(n-h,r-s,c,g-cs,g-ps),t.arc(n+d,r-a,c,g-ps,g),t.arc(n+h,r+s,c,g,g+ps),t.arc(n-d,r+a,c,g+ps,g+cs),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}g+=ms;case"rectRot":h=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,s=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),t.moveTo(n-h,r-s),t.lineTo(n+d,r-a),t.lineTo(n+h,r+s),t.lineTo(n-d,r+a),t.closePath();break;case"crossRot":g+=ms;case"cross":h=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,s=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),t.moveTo(n-h,r-s),t.lineTo(n+h,r+s),t.moveTo(n+d,r-a),t.lineTo(n-d,r+a);break;case"star":h=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,s=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),t.moveTo(n-h,r-s),t.lineTo(n+h,r+s),t.moveTo(n+d,r-a),t.lineTo(n-d,r+a),g+=ms,h=Math.cos(g)*(i?i/2:m),a=Math.cos(g)*m,s=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),t.moveTo(n-h,r-s),t.lineTo(n+h,r+s),t.moveTo(n+d,r-a),t.lineTo(n-d,r+a);break;case"line":a=i?i/2:Math.cos(g)*m,s=Math.sin(g)*m,t.moveTo(n-a,r-s),t.lineTo(n+a,r+s);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(g)*(i?i/2:m),r+Math.sin(g)*m);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function ml(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function gl(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function yl(t){t.restore()}function vl(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if("middle"===i){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else"after"===i!==!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function bl(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function _l(t,e,n,r,i){if(i.strikethrough||i.underline){const o=t.measureText(r),a=e-o.actualBoundingBoxLeft,s=e+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,u),t.lineTo(s,u),t.stroke()}}function wl(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function xl(t,e,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=Va(e)?e:[e],s=o.strokeWidth>0&&""!==o.strokeColor;let l,c;for(t.save(),t.font=i.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ua(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,o),l=0;l<a.length;++l)c=a[l],o.backdrop&&wl(t,o.backdrop),s&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Ua(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(c,n,r,o.maxWidth)),t.fillText(c,n,r,o.maxWidth),_l(t,n,r,c,o),r+=Number(i.lineHeight);t.restore()}function Sl(t,e){const{x:n,y:r,w:i,h:o,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*cs,cs,!0),t.lineTo(n,r+o-a.bottomLeft),t.arc(n+a.bottomLeft,r+o-a.bottomLeft,a.bottomLeft,cs,ps,!0),t.lineTo(n+i-a.bottomRight,r+o),t.arc(n+i-a.bottomRight,r+o-a.bottomRight,a.bottomRight,ps,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-ps,!0),t.lineTo(n+a.topLeft,r)}const kl=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ol=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function El(t,e){const n=(""+t).match(kl);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const Tl=t=>+t||0;function Pl(t,e){const n={},r=Wa(e),i=r?Object.keys(e):e,o=Wa(t)?r?n=>qa(t[n],t[e[n]]):e=>t[e]:()=>t;for(const a of i)n[a]=Tl(o(a));return n}function Cl(t){return Pl(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Al(t){return Pl(t,["topLeft","topRight","bottomLeft","bottomRight"])}function jl(t){const e=Cl(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Il(t,e){t=t||{},e=e||cl.font;let n=qa(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let r=qa(t.style,e.style);r&&!(""+r).match(Ol)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:qa(t.family,e.family),lineHeight:El(qa(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:qa(t.weight,e.weight),string:""};return i.string=function(t){return!t||Ua(t.size)||Ua(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(i),i}function Ml(t,e,n,r){let i,o,a,s=!0;for(i=0,o=t.length;i<o;++i)if(a=t[i],void 0!==a&&(void 0!==e&&"function"===typeof a&&(a=a(e),s=!1),void 0!==n&&Va(a)&&(a=a[n%a.length],s=!1),void 0!==a))return r&&!s&&(r.cacheable=!1),a}function Nl(t,e){return Object.assign(Object.create(t),e)}function Dl(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>t[0];const i=(arguments.length>2?arguments[2]:void 0)||t;"undefined"===typeof n&&(n=ql("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:r,override:r=>Dl([r,...t],e,i,n)};return new Proxy(o,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,r)=>Bl(n,r,(()=>function(t,e,n,r){let i;for(const o of e)if(i=ql(zl(o,t),n),"undefined"!==typeof i)return Fl(t,i)?Hl(n,r,t,i):i}(r,e,t,n))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>Gl(t).includes(e),ownKeys:t=>Gl(t),set(t,e,n){const i=t._storage||(t._storage=r());return t[e]=i[e]=n,delete t._keys,!0}})}function Ll(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Rl(t,r),setContext:e=>Ll(t,e,n,r),override:i=>Ll(t.override(i),e,n,r)};return new Proxy(i,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>Bl(t,e,(()=>function(t,e,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:a}=t;let s=r[e];ss(s)&&a.isScriptable(e)&&(s=function(t,e,n,r){const{_proxy:i,_context:o,_subProxy:a,_stack:s}=n;if(s.has(t))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+t);s.add(t);let l=e(o,a||r);s.delete(t),Fl(t,l)&&(l=Hl(i._scopes,i,t,l));return l}(e,s,t,n));Va(s)&&s.length&&(s=function(t,e,n,r){const{_proxy:i,_context:o,_subProxy:a,_descriptors:s}=n;if("undefined"!==typeof o.index&&r(t))return e[o.index%e.length];if(Wa(e[0])){const n=e,r=i._scopes.filter((t=>t!==n));e=[];for(const l of n){const n=Hl(r,i,t,l);e.push(Ll(n,o,a&&a[t],s))}}return e}(e,s,t,a.isIndexable));Fl(e,s)&&(s=Ll(s,i,o&&o[e],a));return s}(t,e,n))),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,r)=>(t[n]=r,delete e[n],!0)})}function Rl(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:ss(n)?n:()=>n,isIndexable:ss(r)?r:()=>r}}const zl=(t,e)=>t?t+os(e):e,Fl=(t,e)=>Wa(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Bl(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];const r=n();return t[e]=r,r}function Ul(t,e,n){return ss(t)?t(e,n):t}const Vl=(t,e)=>!0===t?e:"string"===typeof t?is(e,t):void 0;function Wl(t,e,n,r,i){for(const o of e){const e=Vl(n,o);if(e){t.add(e);const o=Ul(e._fallback,n,i);if("undefined"!==typeof o&&o!==n&&o!==r)return o}else if(!1===e&&"undefined"!==typeof r&&n!==r)return null}return!1}function Hl(t,e,n,r){const i=e._rootScopes,o=Ul(e._fallback,n,r),a=[...t,...i],s=new Set;s.add(r);let l=$l(s,a,n,o||n,r);return null!==l&&(("undefined"===typeof o||o===n||(l=$l(s,a,o,l,r),null!==l))&&Dl(Array.from(s),[""],i,o,(()=>function(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];if(Va(i)&&Wa(n))return n;return i||{}}(e,n,r))))}function $l(t,e,n,r,i){for(;n;)n=Wl(t,e,n,r,i);return n}function ql(t,e){for(const n of e){if(!n)continue;const e=n[t];if("undefined"!==typeof e)return e}}function Gl(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}const Kl=Number.EPSILON||1e-14,Zl=(t,e)=>e<t.length&&!t[e].skip&&t[e],Yl=t=>"x"===t?"y":"x";function Xl(t,e,n,r){const i=t.skip?e:t,o=e,a=n.skip?e:n,s=Ts(o,i),l=Ts(a,o);let c=s/(s+l),u=l/(s+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,d=r*u;return{previous:{x:o.x-h*(a.x-i.x),y:o.y-h*(a.y-i.y)},next:{x:o.x+d*(a.x-i.x),y:o.y+d*(a.y-i.y)}}}function Ql(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=Yl(e),r=t.length,i=Array(r).fill(0),o=Array(r);let a,s,l,c=Zl(t,0);for(a=0;a<r;++a)if(s=l,l=c,c=Zl(t,a+1),l){if(c){const t=c[e]-l[e];i[a]=0!==t?(c[n]-l[n])/t:0}o[a]=s?c?vs(i[a-1])!==vs(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}!function(t,e,n){const r=t.length;let i,o,a,s,l,c=Zl(t,0);for(let u=0;u<r-1;++u)l=c,c=Zl(t,u+1),l&&c&&(bs(e[u],0,Kl)?n[u]=n[u+1]=0:(i=n[u]/e[u],o=n[u+1]/e[u],s=Math.pow(i,2)+Math.pow(o,2),s<=9||(a=3/Math.sqrt(s),n[u]=i*a*e[u],n[u+1]=o*a*e[u])))}(t,i,o),function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=Yl(n),i=t.length;let o,a,s,l=Zl(t,0);for(let c=0;c<i;++c){if(a=s,s=l,l=Zl(t,c+1),!s)continue;const i=s[n],u=s[r];a&&(o=(i-a[n])/3,s[`cp1${n}`]=i-o,s[`cp1${r}`]=u-o*e[c]),l&&(o=(l[n]-i)/3,s[`cp2${n}`]=i+o,s[`cp2${r}`]=u+o*e[c])}}(t,o,e)}function Jl(t,e,n){return Math.max(Math.min(t,n),e)}function tc(t,e,n,r,i){let o,a,s,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)Ql(t,i);else{let n=r?t[t.length-1]:t[0];for(o=0,a=t.length;o<a;++o)s=t[o],l=Xl(n,s,t[Math.min(o+1,a-(r?0:1))%a],e.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,n=s}e.capBezierPoints&&function(t,e){let n,r,i,o,a,s=ml(t[0],e);for(n=0,r=t.length;n<r;++n)a=o,o=s,s=n<r-1&&ml(t[n+1],e),o&&(i=t[n],a&&(i.cp1x=Jl(i.cp1x,e.left,e.right),i.cp1y=Jl(i.cp1y,e.top,e.bottom)),s&&(i.cp2x=Jl(i.cp2x,e.left,e.right),i.cp2y=Jl(i.cp2y,e.top,e.bottom)))}(t,n)}function ec(){return"undefined"!==typeof window&&"undefined"!==typeof document}function nc(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function rc(t,e,n){let r;return"string"===typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*e.parentNode[n])):r=t,r}const ic=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const oc=["top","right","bottom","left"];function ac(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=oc[i];r[o]=parseFloat(t[e+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const sc=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function lc(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=ic(n),o="border-box"===i.boxSizing,a=ac(i,"padding"),s=ac(i,"border","width"),{x:l,y:c,box:u}=function(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:o}=r;let a,s,l=!1;if(sc(i,o,t.target))a=i,s=o;else{const t=e.getBoundingClientRect();a=r.clientX-t.left,s=r.clientY-t.top,l=!0}return{x:a,y:s,box:l}}(t,n),h=a.left+(u&&s.left),d=a.top+(u&&s.top);let{width:f,height:p}=e;return o&&(f-=a.width+s.width,p-=a.height+s.height),{x:Math.round((l-h)/f*n.width/r),y:Math.round((c-d)/p*n.height/r)}}const cc=t=>Math.round(10*t)/10;function uc(t,e,n,r){const i=ic(t),o=ac(i,"margin"),a=rc(i.maxWidth,t,"clientWidth")||ds,s=rc(i.maxHeight,t,"clientHeight")||ds,l=function(t,e,n){let r,i;if(void 0===e||void 0===n){const o=t&&nc(t);if(o){const t=o.getBoundingClientRect(),a=ic(o),s=ac(a,"border","width"),l=ac(a,"padding");e=t.width-l.width-s.width,n=t.height-l.height-s.height,r=rc(a.maxWidth,o,"clientWidth"),i=rc(a.maxHeight,o,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:r||ds,maxHeight:i||ds}}(t,e,n);let{width:c,height:u}=l;if("content-box"===i.boxSizing){const t=ac(i,"border","width"),e=ac(i,"padding");c-=e.width+t.width,u-=e.height+t.height}c=Math.max(0,c-o.width),u=Math.max(0,r?c/r:u-o.height),c=cc(Math.min(c,a,l.maxWidth)),u=cc(Math.min(u,s,l.maxHeight)),c&&!u&&(u=cc(c/2));return(void 0!==e||void 0!==n)&&r&&l.height&&u>l.height&&(u=l.height,c=cc(Math.floor(u*r))),{width:c,height:u}}function hc(t,e,n){const r=e||1,i=Math.floor(t.height*r),o=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==r||a.height!==i||a.width!==o)&&(t.currentDevicePixelRatio=r,a.height=i,a.width=o,t.ctx.setTransform(r,0,0,r,0,0),!0)}const dc=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};ec()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(UK){}return t}();function fc(t,e){const n=function(t,e){return ic(t).getPropertyValue(e)}(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function pc(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function mc(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:"middle"===r?n<.5?t.y:e.y:"after"===r?n<1?t.y:e.y:n>0?e.y:t.y}}function gc(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},a=pc(t,i,n),s=pc(i,o,n),l=pc(o,e,n),c=pc(a,s,n),u=pc(s,l,n);return pc(c,u,n)}function yc(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function vc(t,e){let n,r;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function bc(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function _c(t){return"angle"===t?{between:As,compare:Ps,normalize:Cs}:{between:Is,compare:(t,e)=>t-e,normalize:t=>t}}function wc(t){let{start:e,end:n,count:r,loop:i,style:o}=t;return{start:e%r,end:n%r,loop:i&&(n-e+1)%r===0,style:o}}function xc(t,e,n){if(!n)return[t];const{property:r,start:i,end:o}=n,a=e.length,{compare:s,between:l,normalize:c}=_c(r),{start:u,end:h,loop:d,style:f}=function(t,e,n){const{property:r,start:i,end:o}=n,{between:a,normalize:s}=_c(r),l=e.length;let c,u,{start:h,end:d,loop:f}=t;if(f){for(h+=l,d+=l,c=0,u=l;c<u&&a(s(e[h%l][r]),i,o);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:f,style:t.style}}(t,e,n),p=[];let m,g,y,v=!1,b=null;const _=()=>v||l(i,y,m)&&0!==s(i,y),w=()=>!v||0===s(o,m)||l(o,y,m);for(let x=u,S=u;x<=h;++x)g=e[x%a],g.skip||(m=c(g[r]),m!==y&&(v=l(m,i,o),null===b&&_()&&(b=0===s(m,i)?x:S),null!==b&&w()&&(p.push(wc({start:b,end:x,loop:d,count:a,style:f})),b=null),S=x,y=m));return null!==b&&p.push(wc({start:b,end:h,loop:d,count:a,style:f})),p}function Sc(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const o=xc(r[i],t.points,e);o.length&&n.push(...o)}return n}function kc(t,e,n,r){return r&&r.setContext&&n?function(t,e,n,r){const i=t._chart.getContext(),o=Oc(t.options),{_datasetIndex:a,options:{spanGaps:s}}=t,l=n.length,c=[];let u=o,h=e[0].start,d=h;function f(t,e,r,i){const o=s?-1:1;if(t!==e){for(t+=l;n[t%l].skip;)t-=o;for(;n[e%l].skip;)e+=o;t%l!==e%l&&(c.push({start:t%l,end:e%l,loop:r,style:i}),u=i,h=e%l)}}for(const p of e){h=s?h:p.start;let t,e=n[h%l];for(d=h+1;d<=p.end;d++){const o=n[d%l];t=Oc(r.setContext(Nl(i,{type:"segment",p0:e,p1:o,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:a}))),Ec(t,u)&&f(h,d-1,p.loop,u),e=o,u=t}h<d-1&&f(h,d-1,p.loop,u)}return c}(t,e,n,r):e}function Oc(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Ec(t,e){if(!e)return!1;const n=[],r=function(t,e){return Zs(e)?(n.includes(e)||n.push(e),n.indexOf(e)):e};return JSON.stringify(t,r)!==JSON.stringify(e,r)}class Tc{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,r){const i=e.listeners[r],o=e.duration;i.forEach((r=>r({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=Fs.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let o,a=i.length-1,s=!1;for(;a>=0;--a)o=i[a],o._active?(o._total>n.duration&&(n.duration=o._total),o.tick(t),s=!0):(i[a]=i[i.length-1],i.pop());s&&(r.draw(),this._notify(r,n,t,"progress")),i.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),e+=i.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Pc=new Tc;const Cc="transparent",Ac={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const r=Ys(t||Cc),i=r.valid&&Ys(e||Cc);return i&&i.valid?i.mix(r,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class jc{constructor(t,e,n,r){const i=e[n];r=Ml([t.to,r,i,t.from]);const o=Ml([t.from,i,r]);this._active=!0,this._fn=t.fn||Ac[t.type||typeof o],this._easing=Ks[t.easing]||Ks.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=Ml([t.to,e,r,t.from]),this._from=Ml([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,r=this._prop,i=this._from,o=this._loop,a=this._to;let s;if(this._active=i!==a&&(o||e<n),!this._active)return this._target[r]=a,void this._notify(!0);e<0?this._target[r]=i:(s=e/n%2,s=o&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[r]=this._fn(i,a,s))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][e]()}}class Ic{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Wa(t))return;const e=Object.keys(cl.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach((r=>{const i=t[r];if(!Wa(i))return;const o={};for(const t of e)o[t]=i[t];(Va(i.properties)&&i.properties||[r]).forEach((t=>{t!==r&&n.has(t)||n.set(t,o)}))}))}_animateOptions(t,e){const n=e.options,r=function(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const e=t[r[i]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),i}_createAnimations(t,e){const n=this._properties,r=[],i=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let s;for(s=o.length-1;s>=0;--s){const l=o[s];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(t,e));continue}const c=e[l];let u=i[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,a);continue}u.cancel()}h&&h.duration?(i[l]=u=new jc(h,t,l,c),r.push(u)):t[l]=c}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(Pc.add(this._chart,n),!0):void 0}}function Mc(t,e){const n=t&&t.options||{},r=n.reverse,i=void 0===n.min?e:0,o=void 0===n.max?e:0;return{start:r?o:i,end:r?i:o}}function Nc(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)n.push(r[i].index);return n}function Dc(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=t.keys,o="single"===r.mode;let a,s,l,c;if(null===e)return;let u=!1;for(a=0,s=i.length;a<s;++a){if(l=+i[a],l===n){if(u=!0,r.all)continue;break}c=t.values[l],Ha(c)&&(o||0===e||vs(e)===vs(c))&&(e+=c)}return u||r.all?e:0}function Lc(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function Rc(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function zc(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const e=t[i.index];if(n&&e>0||!n&&e<0)return i.index}return null}function Fc(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:o,vScale:a,index:s}=r,l=o.axis,c=a.axis,u=function(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}(o,a,r),h=e.length;let d;for(let f=0;f<h;++f){const t=e[f],{[l]:n,[c]:o}=t;d=(t._stacks||(t._stacks={}))[c]=Rc(i,u,n),d[s]=o,d._top=zc(d,a,!0,r.type),d._bottom=zc(d,a,!1,r.type);(d._visualValues||(d._visualValues={}))[s]=o}}function Bc(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function Uc(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[r]||void 0===e[r][n])return;delete e[r][n],void 0!==e[r]._visualValues&&void 0!==e[r]._visualValues[n]&&delete e[r]._visualValues[n]}}}const Vc=t=>"reset"===t||"none"===t,Wc=(t,e)=>e?t:Object.assign({},t);class Hc{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Lc(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Uc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),r=(t,e,n,r)=>"x"===t?e:"r"===t?r:n,i=e.xAxisID=qa(n.xAxisID,Bc(t,"x")),o=e.yAxisID=qa(n.yAxisID,Bc(t,"y")),a=e.rAxisID=qa(n.rAxisID,Bc(t,"r")),s=e.indexAxis,l=e.iAxisID=r(s,i,o,a),c=e.vAxisID=r(s,o,i,a);e.xScale=this.getScaleForId(i),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Rs(this._data,this),t._stacked&&Uc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(Wa(e)){const t=this._cachedMeta;this._data=function(t,e){const{iScale:n,vScale:r}=e,i="x"===n.axis?"x":"y",o="x"===r.axis?"x":"y",a=Object.keys(t),s=new Array(a.length);let l,c,u;for(l=0,c=a.length;l<c;++l)u=a[l],s[l]={[i]:u,[o]:t[u]};return s}(e,t)}else if(n!==e){if(n){Rs(n,this);const t=this._cachedMeta;Uc(t),t._parsed=[]}e&&Object.isExtensible(e)&&(i=this,(r=e)._chartjs?r._chartjs.listeners.push(i):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),Ls.forEach((t=>{const e="_onData"+os(t),n=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];const a=n.apply(this,i);return r._chartjs.listeners.forEach((t=>{"function"===typeof t[e]&&t[e](...i)})),a}})})))),this._syncList=[],this._data=e}var r,i}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=e._stacked;e._stacked=Lc(e.vScale,e),e.stack!==n.stack&&(r=!0,Uc(e),e.stack=n.stack),this._resyncElements(t),(r||i!==e._stacked)&&(Fc(this,e._parsed),e._stacked=Lc(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:o}=n,a=i.axis;let s,l,c,u=0===t&&e===r.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=Va(r[t])?this.parseArrayData(n,r,t,e):Wa(r[t])?this.parseObjectData(n,r,t,e):this.parsePrimitiveData(n,r,t,e);const i=()=>null===l[a]||h&&l[a]<h[a];for(s=0;s<e;++s)n._parsed[s+t]=l=c[s],u&&(i()&&(u=!1),h=l);n._sorted=u}o&&Fc(this,c)}parsePrimitiveData(t,e,n,r){const{iScale:i,vScale:o}=t,a=i.axis,s=o.axis,l=i.getLabels(),c=i===o,u=new Array(r);let h,d,f;for(h=0,d=r;h<d;++h)f=h+n,u[h]={[a]:c||i.parse(l[f],f),[s]:o.parse(e[f],f)};return u}parseArrayData(t,e,n,r){const{xScale:i,yScale:o}=t,a=new Array(r);let s,l,c,u;for(s=0,l=r;s<l;++s)c=s+n,u=e[c],a[s]={x:i.parse(u[0],c),y:o.parse(u[1],c)};return a}parseObjectData(t,e,n,r){const{xScale:i,yScale:o}=t,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,l=new Array(r);let c,u,h,d;for(c=0,u=r;c<u;++c)h=c+n,d=e[h],l[c]={x:i.parse(is(d,a),h),y:o.parse(is(d,s),h)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const r=this.chart,i=this._cachedMeta,o=e[t.axis];return Dc({keys:Nc(r,!0),values:e._stacks[t.axis]._visualValues},o,i.index,{mode:n})}updateRangeFromParsed(t,e,n,r){const i=n[e.axis];let o=null===i?NaN:i;const a=r&&n._stacks[e.axis];r&&a&&(r.values=a,o=Dc(r,i,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&t===n.iScale,o=r.length,a=this._getOtherScale(t),s=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Nc(n,!0),values:null})(e,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(a);let h,d;function f(){d=r[h];const e=d[a.axis];return!Ha(d[t.axis])||c>e||u<e}for(h=0;h<o&&(f()||(this.updateRangeFromParsed(l,t,d,s),!i));++h);if(i)for(h=o-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,t,d,s);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r][t.axis],Ha(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,r=e.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,r,i;return Wa(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:!1===t}}(qa(this.options.clip,function(t,e,n){if(!1===n)return!1;const r=Mc(t,n),i=Mc(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,r=n.data||[],i=e.chartArea,o=[],a=this._drawStart||0,s=this._drawCount||r.length-a,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(t,i,a,s),c=a;c<a+s;++c){const e=r[c];e.hidden||(e.active&&l?o.push(e):e.draw(t,i))}for(c=0;c<o.length;++c)o[c].draw(t,i)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const r=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];i=e.$context||(e.$context=function(t,e,n){return Nl(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),i.parsed=this.getParsed(t),i.raw=r.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=function(t,e){return Nl(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!e,i.mode=n,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===e,i=this._cachedDataOpts,o=t+"-"+e,a=i[o],s=this.enableOptionSharing&&as(n);if(a)return Wc(a,s);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,t),u=r?[`${t}Hover`,"hover",t,""]:[t,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(cl.elements[t]),f=l.resolveNamedOptions(h,d,(()=>this.getContext(n,r,e)),u);return f.$shared&&(f.$shared=s,i[o]=Object.freeze(Wc(f,s))),f}_resolveAnimations(t,e,n){const r=this.chart,i=this._cachedDataOpts,o=`animation-${e}`,a=i[o];if(a)return a;let s;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,e),o=r.getOptionScopes(this.getDataset(),i);s=r.createResolver(o,this.getContext(t,n,e))}const l=new Ic(r,s&&s.animations);return s&&s._cacheable&&(i[o]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Vc(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),r=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(e,i)||i!==r;return this.updateSharedOptions(i,e,n),{sharedOptions:i,includeOptions:o}}updateElement(t,e,n,r){Vc(r)?Object.assign(t,n):this._resolveAnimations(e,r).update(t,n)}updateSharedOptions(t,e,n){t&&!Vc(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,r){t.active=r;const i=this.getStyle(e,r);this._resolveAnimations(e,n,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[a,s,l]of this._syncList)this[a](s,l);this._syncList=[];const r=n.length,i=e.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,t):i<r&&this._removeElements(i,r-i)}_insertElements(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,o=t+e;let a;const s=t=>{for(t.length+=e,a=t.length-1;a>=o;a--)t[a]=t[a-e]};for(s(i),a=t;a<o;++a)i[a]=new this.dataElementType;this._parsing&&s(r._parsed),this.parse(t,e),n&&this.updateElements(i,t,e,"reset")}updateElements(t,e,n,r){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(t,e);n._stacked&&Uc(n,r)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,r]=t;this[e](n,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function $c(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let e=0,i=n.length;e<i;e++)r=r.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=zs(r.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let r,i,o,a,s=e._length;const l=()=>{32767!==o&&-32768!==o&&(as(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(r=0,i=n.length;r<i;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,i=e.ticks.length;r<i;++r)o=e.getPixelForTick(r),l();return s}function qc(t,e,n,r){return Va(t)?function(t,e,n,r){const i=n.parse(t[0],r),o=n.parse(t[1],r),a=Math.min(i,o),s=Math.max(i,o);let l=a,c=s;Math.abs(a)>Math.abs(s)&&(l=s,c=a),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:o,min:a,max:s}}(t,e,n,r):e[n.axis]=n.parse(t,r),e}function Gc(t,e,n,r){const i=t.iScale,o=t.vScale,a=i.getLabels(),s=i===o,l=[];let c,u,h,d;for(c=n,u=n+r;c<u;++c)d=e[c],h={},h[i.axis]=s||i.parse(a[c],c),l.push(qc(d,h,o,c));return l}function Kc(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Zc(t,e,n,r){let i=e.borderSkipped;const o={};if(!i)return void(t.borderSkipped=o);if(!0===i)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:s,reverse:l,top:c,bottom:u}=function(t){let e,n,r,i,o;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",o="start"):(i="start",o="end"),{start:n,end:r,reverse:e,top:i,bottom:o}}(t);"middle"===i&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(o[Yc(u,a,s,l)]=!0,i=c)),o[Yc(i,a,s,l)]=!0,t.borderSkipped=o}function Yc(t,e,n,r){var i,o,a;return r?(a=n,t=Xc(t=(i=t)===(o=e)?a:i===a?o:i,n,e)):t=Xc(t,e,n),t}function Xc(t,e,n){return"start"===t?e:"end"===t?n:t}function Qc(t,e,n){let{inflateAmount:r}=e;t.inflateAmount="auto"===r?1===n?.33:0:r}class Jc extends Hc{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,n,r){return Gc(t,e,n,r)}parseArrayData(t,e,n,r){return Gc(t,e,n,r)}parseObjectData(t,e,n,r){const{iScale:i,vScale:o}=t,{xAxisKey:a="x",yAxisKey:s="y"}=this._parsing,l="x"===i.axis?a:s,c="x"===o.axis?a:s,u=[];let h,d,f,p;for(h=n,d=n+r;h<d;++h)p=e[h],f={},f[i.axis]=i.parse(is(p,l),h),u.push(qc(is(p,c),f,o,h));return u}updateRangeFromParsed(t,e,n,r){super.updateRangeFromParsed(t,e,n,r);const i=n._custom;i&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:r}=e,i=this.getParsed(t),o=i._custom,a=Kc(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,r){const i="reset"===r,{index:o,_cachedMeta:{vScale:a}}=this,s=a.getBasePixel(),l=a.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,r);for(let d=e;d<e+n;d++){const e=this.getParsed(d),n=i||Ua(e[a.axis])?{base:s,head:s}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(e._stacks||{})[a.axis],m={horizontal:l,base:n.base,enableBorderRadius:!p||Kc(e._custom)||o===p._top||o===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(m.options=u||this.resolveDataElementOptions(d,t[d].active?"active":r));const g=m.options||t[d].options;Zc(m,g,p,o),Qc(m,g,c.ratio),this.updateElement(t[d],d,m,r)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),i=n.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(e),s=a&&a[n.axis],l=t=>{const e=t._parsed.find((t=>t[n.axis]===s)),r=e&&e[t.vScale.axis];if(Ua(r)||isNaN(r))return!0};for(const c of r)if((void 0===e||!l(c))&&((!1===i||-1===o.indexOf(c.stack)||void 0===i&&void 0===c.stack)&&o.push(c.stack),c.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const r=this._getStacks(t,n),i=void 0!==e?r.indexOf(e):-1;return-1===i?r.length-1:i}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,r=[];let i,o;for(i=0,o=e.data.length;i<o;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const a=t.barThickness;return{min:a||$c(e),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:r},options:{base:i,minBarLength:o}}=this,a=i||0,s=this.getParsed(t),l=s._custom,c=Kc(l);let u,h,d=s[e.axis],f=0,p=n?this.applyStack(e,s,n):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&vs(d)!==vs(l.barEnd)&&(f=0),f+=d);const m=Ua(i)||c?f:i;let g=e.getPixelForValue(m);if(u=this.chart.getDataVisibility(t)?e.getPixelForValue(f+p):g,h=u-g,Math.abs(h)<o){h=function(t,e,n){return 0!==t?vs(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(h,e,a)*o,d===a&&(g-=h/2);const t=e.getPixelForDecimal(0),i=e.getPixelForDecimal(1),l=Math.min(t,i),f=Math.max(t,i);g=Math.max(Math.min(g,f),l),u=g+h,n&&!c&&(s._stacks[e.axis]._visualValues[r]=e.getValueForPixel(u)-e.getValueForPixel(g))}if(g===e.getPixelForValue(a)){const t=vs(h)*e.getLineWidthForValue(a)/2;g+=t,h-=t}return{size:h,base:g,head:u,center:u+h/2}}_calculateBarIndexPixels(t,e){const n=e.scale,r=this.options,i=r.skipNull,o=qa(r.maxBarThickness,1/0);let a,s;if(e.grouped){const n=i?this._getStackCount(t):e.stackCount,l="flex"===r.barThickness?function(t,e,n,r){const i=e.pixels,o=i[t];let a=t>0?i[t-1]:null,s=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;null===a&&(a=o-(null===s?e.end-e.start:s-o)),null===s&&(s=o+o-a);const c=o-(o-Math.min(a,s))/2*l;return{chunk:Math.abs(s-a)/2*l/r,ratio:n.barPercentage,start:c}}(t,e,r,n):function(t,e,n,r){const i=n.barThickness;let o,a;return Ua(i)?(o=e.min*n.categoryPercentage,a=n.barPercentage):(o=i*r,a=1),{chunk:o/r,ratio:a,start:e.pixels[t]-o/2}}(t,e,r,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0);a=l.start+l.chunk*c+l.chunk/2,s=Math.min(o,l.chunk*l.ratio)}else a=n.getPixelForValue(this.getParsed(t)[n.axis],t),s=Math.min(o,e.min*e.ratio);return{base:a-s/2,head:a+s/2,center:a,size:s}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,r=n.length;let i=0;for(;i<r;++i)null===this.getParsed(i)[e.axis]||n[i].hidden||n[i].draw(this._ctx)}}class tu extends Hc{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=e,o=this.chart._animationsDisabled;let{start:a,count:s}=Ws(e,r,o);this._drawStart=a,this._drawCount=s,Hs(e)&&(a=0,s=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:l},t),this.updateElements(r,a,s,t)}updateElements(t,e,n,r){const i="reset"===r,{iScale:o,vScale:a,_stacked:s,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(e,r),h=o.axis,d=a.axis,{spanGaps:f,segment:p}=this.options,m=ws(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||"none"===r,y=e+n,v=t.length;let b=e>0&&this.getParsed(e-1);for(let _=0;_<v;++_){const n=t[_],f=g?n:{};if(_<e||_>=y){f.skip=!0;continue}const v=this.getParsed(_),w=Ua(v[d]),x=f[h]=o.getPixelForValue(v[h],_),S=f[d]=i||w?a.getBasePixel():a.getPixelForValue(s?this.applyStack(a,v,s):v[d],_);f.skip=isNaN(x)||isNaN(S)||w,f.stop=_>0&&Math.abs(v[h]-b[h])>m,p&&(f.parsed=v,f.raw=l.data[_]),u&&(f.options=c||this.resolveDataElementOptions(_,n.active?"active":r)),g||this.updateElement(n,_,f,r),b=v}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function eu(t,e,n,r){const{controller:i,data:o,_sorted:a}=t,s=i._cachedMeta.iScale;if(s&&e===s.axis&&"r"!==e&&a&&o.length){const t=s._reversePixels?Ds:Ns;if(!r)return t(o,e,n);if(i._sharedOptions){const r=o[0],i="function"===typeof r.getRange&&r.getRange(e);if(i){const r=t(o,e,n-i),a=t(o,e,n+i);return{lo:r.lo,hi:a.hi}}}}return{lo:0,hi:o.length-1}}function nu(t,e,n,r,i){const o=t.getSortedVisibleDatasetMetas(),a=n[e];for(let s=0,l=o.length;s<l;++s){const{index:t,data:n}=o[s],{lo:l,hi:c}=eu(o[s],e,a,i);for(let e=l;e<=c;++e){const i=n[e];i.skip||r(i,t,e)}}}function ru(t,e,n,r,i){const o=[];if(!i&&!t.isPointInArea(e))return o;return nu(t,n,e,(function(n,a,s){(i||ml(n,t.chartArea,0))&&n.inRange(e.x,e.y,r)&&o.push({element:n,datasetIndex:a,index:s})}),!0),o}function iu(t,e,n,r,i,o){let a=[];const s=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,r){const i=e?Math.abs(t.x-r.x):0,o=n?Math.abs(t.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}(n);let l=Number.POSITIVE_INFINITY;return nu(t,n,e,(function(n,c,u){const h=n.inRange(e.x,e.y,i);if(r&&!h)return;const d=n.getCenterPoint(i);if(!(!!o||t.isPointInArea(d))&&!h)return;const f=s(e,d);f<l?(a=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&a.push({element:n,datasetIndex:c,index:u})})),a}function ou(t,e,n,r,i,o){return o||t.isPointInArea(e)?"r"!==n||r?iu(t,e,n,r,i,o):function(t,e,n,r){let i=[];return nu(t,n,e,(function(t,n,o){const{startAngle:a,endAngle:s}=t.getProps(["startAngle","endAngle"],r),{angle:l}=Es(t,{x:e.x,y:e.y});As(l,a,s)&&i.push({element:t,datasetIndex:n,index:o})})),i}(t,e,n,i):[]}function au(t,e,n,r,i){const o=[],a="x"===n?"inXRange":"inYRange";let s=!1;return nu(t,n,e,((t,r,l)=>{t[a]&&t[a](e[n],i)&&(o.push({element:t,datasetIndex:r,index:l}),s=s||t.inRange(e.x,e.y,i))})),r&&!s?[]:o}var su={evaluateInteractionItems:nu,modes:{index(t,e,n,r){const i=lc(e,t),o=n.axis||"x",a=n.includeInvisible||!1,s=n.intersect?ru(t,i,o,r,a):ou(t,i,o,!1,r,a),l=[];return s.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=s[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,n,r){const i=lc(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;let s=n.intersect?ru(t,i,o,r,a):ou(t,i,o,!1,r,a);if(s.length>0){const e=s[0].datasetIndex,n=t.getDatasetMeta(e).data;s=[];for(let t=0;t<n.length;++t)s.push({element:n[t],datasetIndex:e,index:t})}return s},point:(t,e,n,r)=>ru(t,lc(e,t),n.axis||"xy",r,n.includeInvisible||!1),nearest(t,e,n,r){const i=lc(e,t),o=n.axis||"xy",a=n.includeInvisible||!1;return ou(t,i,o,n.intersect,r,a)},x:(t,e,n,r)=>au(t,lc(e,t),"x",n.intersect,r),y:(t,e,n,r)=>au(t,lc(e,t),"y",n.intersect,r)}};const lu=["left","top","right","bottom"];function cu(t,e){return t.filter((t=>t.pos===e))}function uu(t,e){return t.filter((t=>-1===lu.indexOf(t.pos)&&t.box.axis===e))}function hu(t,e){return t.sort(((t,n)=>{const r=e?n:t,i=e?t:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function du(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:r,stackWeight:i}=n;if(!t||!lu.includes(r))continue;const o=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,a,s;for(o=0,a=t.length;o<a;++o){s=t[o];const{fullSize:a}=s.box,l=n[s.stack],c=l&&s.stackWeight/l.weight;s.horizontal?(s.width=c?c*r:a&&e.availableWidth,s.height=i):(s.width=r,s.height=c?c*i:a&&e.availableHeight)}return n}function fu(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function pu(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function mu(t,e,n,r){const{pos:i,box:o}=n,a=t.maxPadding;if(!Wa(i)){n.size&&(t[i]-=n.size);const e=r[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?o.height:o.width),n.size=e.size/e.count,t[i]+=n.size}o.getPadding&&pu(a,o.getPadding());const s=Math.max(0,e.outerWidth-fu(a,t,"left","right")),l=Math.max(0,e.outerHeight-fu(a,t,"top","bottom")),c=s!==t.w,u=l!==t.h;return t.w=s,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function gu(t,e){const n=e.maxPadding;function r(t){const r={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{r[t]=Math.max(e[t],n[t])})),r}return r(t?["left","right"]:["top","bottom"])}function yu(t,e,n,r){const i=[];let o,a,s,l,c,u;for(o=0,a=t.length,c=0;o<a;++o){s=t[o],l=s.box,l.update(s.width||e.w,s.height||e.h,gu(s.horizontal,e));const{same:a,other:h}=mu(e,n,s,r);c|=a&&i.length,u=u||h,l.fullSize||i.push(s)}return c&&yu(i,e,n,r)||u}function vu(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function bu(t,e,n,r){const i=n.padding;let{x:o,y:a}=e;for(const s of t){const t=s.box,l=r[s.stack]||{count:1,placed:0,weight:1},c=s.stackWeight/l.weight||1;if(s.horizontal){const r=e.w*c,o=l.size||t.height;as(l.start)&&(a=l.start),t.fullSize?vu(t,i.left,a,n.outerWidth-i.right-i.left,o):vu(t,e.left+l.placed,a,r,o),l.start=a,l.placed+=r,a=t.bottom}else{const r=e.h*c,a=l.size||t.width;as(l.start)&&(o=l.start),t.fullSize?vu(t,o,i.top,a,n.outerHeight-i.bottom-i.top):vu(t,o,e.top+l.placed,a,r),l.start=o,l.placed+=r,o=t.right}}e.x=o,e.y=a}var _u={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=jl(t.options.layout.padding),o=Math.max(e-i.width,0),a=Math.max(n-i.height,0),s=function(t){const e=function(t){const e=[];let n,r,i,o,a,s;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],({position:o,options:{stack:a,stackWeight:s=1}}=i),e.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&o+a,stackWeight:s});return e}(t),n=hu(e.filter((t=>t.box.fullSize)),!0),r=hu(cu(e,"left"),!0),i=hu(cu(e,"right")),o=hu(cu(e,"top"),!0),a=hu(cu(e,"bottom")),s=uu(e,"x"),l=uu(e,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(l).concat(a).concat(s),chartArea:cu(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:o.concat(a).concat(s)}}(t.boxes),l=s.vertical,c=s.horizontal;Za(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const u=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/u,hBoxMaxHeight:a/2}),d=Object.assign({},i);pu(d,jl(r));const f=Object.assign({maxPadding:d,w:o,h:a,x:i.left,y:i.top},i),p=du(l.concat(c),h);yu(s.fullSize,f,h,p),yu(l,f,h,p),yu(c,f,h,p)&&yu(l,f,h,p),function(t){const e=t.maxPadding;function n(n){const r=Math.max(e[n]-t[n],0);return t[n]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(f),bu(s.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,bu(s.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Za(s.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class wu{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(t){return!0}updateConfig(t){}}class xu extends wu{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Su="$chartjs",ku={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ou=t=>null===t||""===t;const Eu=!!dc&&{passive:!0};function Tu(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Eu)}function Pu(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Cu(t,e,n){const r=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||Pu(n.addedNodes,r),e=e&&!Pu(n.removedNodes,r);e&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function Au(t,e,n){const r=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||Pu(n.removedNodes,r),e=e&&!Pu(n.addedNodes,r);e&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const ju=new Map;let Iu=0;function Mu(){const t=window.devicePixelRatio;t!==Iu&&(Iu=t,ju.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function Nu(t,e,n){const r=t.canvas,i=r&&nc(r);if(!i)return;const o=Bs(((t,e)=>{const r=i.clientWidth;n(t,e),r<i.clientWidth&&n()}),window),a=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,r=e.contentRect.height;0===n&&0===r||o(n,r)}));return a.observe(i),function(t,e){ju.size||window.addEventListener("resize",Mu),ju.set(t,e)}(t,o),a}function Du(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){ju.delete(t),ju.size||window.removeEventListener("resize",Mu)}(t)}function Lu(t,e,n){const r=t.canvas,i=Bs((e=>{null!==t.ctx&&n(function(t,e){const n=ku[t.type]||t.type,{x:r,y:i}=lc(t,e);return{type:n,chart:e,native:t,x:void 0!==r?r:null,y:void 0!==i?i:null}}(e,t))}),t);return function(t,e,n){t&&t.addEventListener(e,n,Eu)}(r,e,i),i}class Ru extends wu{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Su]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ou(i)){const e=fc(t,"width");void 0!==e&&(t.width=e)}if(Ou(r))if(""===t.style.height)t.height=t.width/(e||2);else{const e=fc(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[Su])return!1;const n=e[Su].initial;["height","width"].forEach((t=>{const r=n[t];Ua(r)?e.removeAttribute(t):e.setAttribute(t,r)}));const r=n.style||{};return Object.keys(r).forEach((t=>{e.style[t]=r[t]})),e.width=e.width,delete e[Su],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),i={attach:Cu,detach:Au,resize:Nu}[e]||Lu;r[e]=i(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),r=n[e];if(!r)return;({attach:Du,detach:Du,resize:Du}[e]||Tu)(t,e,r),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,r){return uc(t,e,n,r)}isAttached(t){const e=t&&nc(t);return!(!e||!e.isConnected)}}class zu{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return ws(this.x)&&ws(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const r={};return t.forEach((t=>{r[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),r}}function Fu(t,e){const n=t.options.ticks,r=function(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}(t),i=Math.min(n.maxTicksLimit||r,r),o=n.major.enabled?function(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}(e):[],a=o.length,s=o[0],l=o[a-1],c=[];if(a>i)return function(t,e,n,r){let i,o=0,a=n[0];for(r=Math.ceil(r),i=0;i<t.length;i++)i===a&&(e.push(t[i]),o++,a=n[o*r])}(e,c,o,a/i),c;const u=function(t,e,n){const r=function(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}(t),i=e.length/n;if(!r)return Math.max(i,1);const o=function(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}(r);for(let a=0,s=o.length-1;a<s;a++){const t=o[a];if(t>i)return t}return Math.max(i,1)}(o,e,i);if(a>0){let t,n;const r=a>1?Math.round((l-s)/(a-1)):null;for(Bu(e,c,u,Ua(r)?0:s-r,s),t=0,n=a-1;t<n;t++)Bu(e,c,u,o[t],o[t+1]);return Bu(e,c,u,l,Ua(r)?e.length:l+r),c}return Bu(e,c,u),c}function Bu(t,e,n,r,i){const o=qa(r,0),a=Math.min(qa(i,t.length),t.length);let s,l,c,u=0;for(n=Math.ceil(n),i&&(s=i-r,n=s/Math.floor(s/n)),c=o;c<0;)u++,c=Math.round(o+u*n);for(l=Math.max(o,0);l<a;l++)l===c&&(e.push(t[l]),u++,c=Math.round(o+u*n))}const Uu=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n,Vu=(t,e)=>Math.min(e||t,t);function Wu(t,e){const n=[],r=t.length/e,i=t.length;let o=0;for(;o<i;o+=r)n.push(t[Math.floor(o)]);return n}function Hu(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),o=t._startPixel,a=t._endPixel,s=1e-6;let l,c=t.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(c-o,a-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(i-1))/2,c+=i<e?l:-l,c<o-s||c>a+s)))return c}function $u(t){return t.drawTicks?t.tickLength:0}function qu(t,e){if(!t.display)return 0;const n=Il(t.font,e),r=jl(t.padding);return(Va(t.text)?t.text.length:1)*n.lineHeight+r.height}function Gu(t,e,n){let r=Us(t);return(n&&"right"!==e||!n&&"right"===e)&&(r=(t=>"left"===t?"right":"right"===t?"left":t)(r)),r}class Ku extends zu{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return t=$a(t,Number.POSITIVE_INFINITY),e=$a(e,Number.NEGATIVE_INFINITY),n=$a(n,Number.POSITIVE_INFINITY),r=$a(r,Number.NEGATIVE_INFINITY),{min:$a(t,n),max:$a(e,r),minDefined:Ha(t),maxDefined:Ha(e)}}getMinMax(t){let e,{min:n,max:r,minDefined:i,maxDefined:o}=this.getUserBounds();if(i&&o)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let s=0,l=a.length;s<l;++s)e=a[s].controller.getMinMax(this,t),i||(n=Math.min(n,e.min)),o||(r=Math.max(r,e.max));return n=o&&n>r?r:n,r=i&&n>r?n:r,{min:$a(n,$a(r,n)),max:$a(r,$a(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ka(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:r,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:r,max:i}=t,o=Ga(e,(i-r)/2),a=(t,e)=>n&&0===t?0:t+e;return{min:a(r,-Math.abs(o)),max:a(i,o)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const s=a<this.ticks.length;this._convertTicksToLabels(s?Wu(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=Fu(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ka(this.options.afterUpdate,[this])}beforeSetDimensions(){Ka(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ka(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ka(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ka(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,r,i;for(n=0,r=t.length;n<r;n++)i=t[n],i.label=Ka(e.callback,[i.value,n,t],this)}afterTickToLabelConversion(){Ka(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ka(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=Vu(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,i=e.maxRotation;let o,a,s,l=r;if(!this._isVisible()||!e.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=js(this.chart.width-u,0,this.maxWidth);o=t.offset?this.maxWidth/n:d/(n-1),u+6>o&&(o=d/(n-(t.offset?.5:1)),a=this.maxHeight-$u(t.grid)-e.padding-qu(t.title,this.chart.options.font),s=Math.sqrt(u*u+h*h),l=ks(Math.min(Math.asin(js((c.highest.height+6)/o,-1,1)),Math.asin(js(a/s,-1,1))-Math.asin(js(h/s,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ka(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ka(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:r,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const o=qu(r,e.options.font);if(a?(t.width=this.maxWidth,t.height=$u(i)+o):(t.height=this.maxHeight,t.width=$u(i)+o),n.display&&this.ticks.length){const{first:e,last:r,widest:i,highest:o}=this._getLabelSizes(),s=2*n.padding,l=Ss(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(a){const e=n.mirror?0:u*i.width+c*o.height;t.height=Math.min(this.maxHeight,t.height+e+s)}else{const e=n.mirror?0:c*i.width+u*o.height;t.width=Math.min(this.maxWidth,t.width+e+s)}this._calculatePadding(e,r,u,c)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,r){const{ticks:{align:i,padding:o},position:a}=this.options,s=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;s?l?(u=r*t.width,h=n*e.height):(u=n*t.height,h=r*e.width):"start"===i?h=e.width:"end"===i?u=t.width:"inner"!==i&&(u=t.width/2,h=e.width/2),this.paddingLeft=Math.max((u-a+o)*this.width/(this.width-a),0),this.paddingRight=Math.max((h-c+o)*this.width/(this.width-c),0)}else{let n=e.height/2,r=t.height/2;"start"===i?(n=0,r=t.height):"end"===i&&(n=e.height,r=0),this.paddingTop=n+o,this.paddingBottom=r+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ka(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)Ua(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=Wu(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:r,_longestTextCache:i}=this,o=[],a=[],s=Math.floor(e/Vu(e,n));let l,c,u,h,d,f,p,m,g,y,v,b=0,_=0;for(l=0;l<e;l+=s){if(h=t[l].label,d=this._resolveTickFontOptions(l),r.font=f=d.string,p=i[f]=i[f]||{data:{},gc:[]},m=d.lineHeight,g=y=0,Ua(h)||Va(h)){if(Va(h))for(c=0,u=h.length;c<u;++c)v=h[c],Ua(v)||Va(v)||(g=ul(r,p.data,p.gc,g,v),y+=m)}else g=ul(r,p.data,p.gc,g,h),y=m;o.push(g),a.push(y),b=Math.max(g,b),_=Math.max(y,_)}!function(t,e){Za(t,(t=>{const n=t.gc,r=n.length/2;let i;if(r>e){for(i=0;i<r;++i)delete t.data[n[i]];n.splice(0,r)}}))}(i,e);const w=o.indexOf(b),x=a.indexOf(_),S=t=>({width:o[t]||0,height:a[t]||0});return{first:S(0),last:S(e-1),widest:S(w),highest:S(x),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return js(this._alignToPixels?hl(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return Nl(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=Nl(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=Ss(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),i=this._getLabelSizes(),o=t.autoSkipPadding||0,a=i?i.widest.width+o:0,s=i?i.highest.height+o:0;return this.isHorizontal()?s*n>a*r?a/n:s/r:s*r<a*n?s/n:a/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,r=this.options,{grid:i,position:o,border:a}=r,s=i.offset,l=this.isHorizontal(),c=this.ticks.length+(s?1:0),u=$u(i),h=[],d=a.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,m=function(t){return hl(n,t,f)};let g,y,v,b,_,w,x,S,k,O,E,T;if("top"===o)g=m(this.bottom),w=this.bottom-u,S=g-p,O=m(t.top)+p,T=t.bottom;else if("bottom"===o)g=m(this.top),O=t.top,T=m(t.bottom)-p,w=g+p,S=this.top+u;else if("left"===o)g=m(this.right),_=this.right-u,x=g-p,k=m(t.left)+p,E=t.right;else if("right"===o)g=m(this.left),k=t.left,E=m(t.right)-p,_=g+p,x=this.left+u;else if("x"===e){if("center"===o)g=m((t.top+t.bottom)/2+.5);else if(Wa(o)){const t=Object.keys(o)[0],e=o[t];g=m(this.chart.scales[t].getPixelForValue(e))}O=t.top,T=t.bottom,w=g+p,S=w+u}else if("y"===e){if("center"===o)g=m((t.left+t.right)/2);else if(Wa(o)){const t=Object.keys(o)[0],e=o[t];g=m(this.chart.scales[t].getPixelForValue(e))}_=g-p,x=_-u,k=t.left,E=t.right}const P=qa(r.ticks.maxTicksLimit,c),C=Math.max(1,Math.ceil(c/P));for(y=0;y<c;y+=C){const t=this.getContext(y),e=i.setContext(t),r=a.setContext(t),o=e.lineWidth,c=e.color,u=r.dash||[],d=r.dashOffset,f=e.tickWidth,p=e.tickColor,m=e.tickBorderDash||[],g=e.tickBorderDashOffset;v=Hu(this,y,s),void 0!==v&&(b=hl(n,v,o),l?_=x=k=E=b:w=S=O=T=b,h.push({tx1:_,ty1:w,tx2:x,ty2:S,x1:k,y1:O,x2:E,y2:T,width:o,color:c,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,h}_computeLabelItems(t){const e=this.axis,n=this.options,{position:r,ticks:i}=n,o=this.isHorizontal(),a=this.ticks,{align:s,crossAlign:l,padding:c,mirror:u}=i,h=$u(n.grid),d=h+c,f=u?-c:d,p=-Ss(this.labelRotation),m=[];let g,y,v,b,_,w,x,S,k,O,E,T,P="middle";if("top"===r)w=this.bottom-f,x=this._getXAxisLabelAlignment();else if("bottom"===r)w=this.top+f,x=this._getXAxisLabelAlignment();else if("left"===r){const t=this._getYAxisLabelAlignment(h);x=t.textAlign,_=t.x}else if("right"===r){const t=this._getYAxisLabelAlignment(h);x=t.textAlign,_=t.x}else if("x"===e){if("center"===r)w=(t.top+t.bottom)/2+d;else if(Wa(r)){const t=Object.keys(r)[0],e=r[t];w=this.chart.scales[t].getPixelForValue(e)+d}x=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)_=(t.left+t.right)/2-d;else if(Wa(r)){const t=Object.keys(r)[0],e=r[t];_=this.chart.scales[t].getPixelForValue(e)}x=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===s?P="top":"end"===s&&(P="bottom"));const C=this._getLabelSizes();for(g=0,y=a.length;g<y;++g){v=a[g],b=v.label;const t=i.setContext(this.getContext(g));S=this.getPixelForTick(g)+i.labelOffset,k=this._resolveTickFontOptions(g),O=k.lineHeight,E=Va(b)?b.length:1;const e=E/2,n=t.color,s=t.textStrokeColor,c=t.textStrokeWidth;let h,d=x;if(o?(_=S,"inner"===x&&(d=g===y-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),T="top"===r?"near"===l||0!==p?-E*O+O/2:"center"===l?-C.highest.height/2-e*O+O:-C.highest.height+O/2:"near"===l||0!==p?O/2:"center"===l?C.highest.height/2-e*O:C.highest.height-E*O,u&&(T*=-1),0===p||t.showLabelBackdrop||(_+=O/2*Math.sin(p))):(w=S,T=(1-E)*O/2),t.showLabelBackdrop){const e=jl(t.backdropPadding),n=C.heights[g],r=C.widths[g];let i=T-e.top,o=0-e.left;switch(P){case"middle":i-=n/2;break;case"bottom":i-=n}switch(x){case"center":o-=r/2;break;case"right":o-=r;break;case"inner":g===y-1?o-=r:g>0&&(o-=r/2)}h={left:o,top:i,width:r+e.width,height:n+e.height,color:t.backdropColor}}m.push({label:b,font:k,textOffset:T,options:{rotation:p,color:n,strokeColor:s,strokeWidth:c,textAlign:d,textBaseline:P,translation:[_,w],backdrop:h}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ss(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,o=t+i,a=this._getLabelSizes().widest.width;let s,l;return"left"===e?r?(l=this.right+i,"near"===n?s="left":"center"===n?(s="center",l+=a/2):(s="right",l+=a)):(l=this.right-o,"near"===n?s="right":"center"===n?(s="center",l-=a/2):(s="left",l=this.left)):"right"===e?r?(l=this.left+i,"near"===n?s="right":"center"===n?(s="center",l-=a/2):(s="left",l-=a)):(l=this.left+o,"near"===n?s="left":"center"===n?(s="center",l+=a/2):(s="right",l=this.right)):s="right",{textAlign:s,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:r,width:i,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,i,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex((e=>e.value===t));if(n>=0){return e.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,o;const a=(t,e,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(i=0,o=r.length;i<o;++i){const t=r[i];e.drawOnChartArea&&a({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&a({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=hl(t,this.left,o)-o/2,c=hl(t,this.right,a)+a/2,u=h=s):(u=hl(t,this.top,o)-o/2,h=hl(t,this.bottom,a)+a/2,l=c=s),e.save(),e.lineWidth=i.width,e.strokeStyle=i.color,e.beginPath(),e.moveTo(l,u),e.lineTo(c,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&gl(e,n);const r=this.getLabelItems(t);for(const i of r){const t=i.options,n=i.font;xl(e,i.label,0,i.textOffset,n,t)}n&&yl(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;const i=Il(n.font),o=jl(n.padding),a=n.align;let s=i.lineHeight/2;"bottom"===e||"center"===e||Wa(e)?(s+=o.bottom,Va(n.text)&&(s+=i.lineHeight*(n.text.length-1))):s+=o.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(t,e,n,r){const{top:i,left:o,bottom:a,right:s,chart:l}=t,{chartArea:c,scales:u}=l;let h,d,f,p=0;const m=a-i,g=s-o;if(t.isHorizontal()){if(d=Vs(r,o,s),Wa(n)){const t=Object.keys(n)[0],r=n[t];f=u[t].getPixelForValue(r)+m-e}else f="center"===n?(c.bottom+c.top)/2+m-e:Uu(t,n,e);h=s-o}else{if(Wa(n)){const t=Object.keys(n)[0],r=n[t];d=u[t].getPixelForValue(r)-g+e}else d="center"===n?(c.left+c.right)/2-g+e:Uu(t,n,e);f=Vs(r,a,i),p="left"===n?-ps:ps}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,s,e,a);xl(t,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:h,textAlign:Gu(a,e,r),textBaseline:"middle",translation:[l,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=qa(t.grid&&t.grid.z,-1),r=qa(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Ku.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,o;for(i=0,o=e.length;i<o;++i){const o=e[i];o[n]!==this.id||t&&o.type!==t||r.push(o)}return r}_resolveTickFontOptions(t){return Il(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Zu{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const r=this.items,i=t.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in r||(r[i]=t,function(t,e,n){const r=ts(Object.create(null),[n?cl.get(n):{},cl.get(e),t.defaults]);cl.set(e,r),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((n=>{const r=n.split("."),i=r.pop(),o=[t].concat(r).join("."),a=e[n].split("."),s=a.pop(),l=a.join(".");cl.route(o,i,l,s)}))}(e,t.defaultRoutes);t.descriptors&&cl.describe(e,t.descriptors)}(t,o,n),this.override&&cl.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in cl[r]&&(delete cl[r][n],this.override&&delete il[n])}}class Yu{constructor(){this.controllers=new Zu(Hc,"datasets",!0),this.elements=new Zu(zu,"elements"),this.plugins=new Zu(Object,"plugins"),this.scales=new Zu(Ku,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e)}remove(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e)}addControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.controllers)}addElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.elements)}addPlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.plugins)}addScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.controllers)}removeElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.elements)}removePlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.plugins)}removeScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.scales)}_each(t,e,n){[...e].forEach((e=>{const r=n||this._getRegistryForType(e);n||r.isForType(e)||r===this.plugins&&e.id?this._exec(t,r,e):Za(e,(e=>{const r=n||this._getRegistryForType(e);this._exec(t,r,e)}))}))}_exec(t,e,n){const r=os(t);Ka(n["before"+r],[],n),e[t](n),Ka(n["after"+r],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+n+".");return r}}var Xu=new Yu;class Qu{constructor(){this._init=[]}notify(t,e,n,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(i,t,e,n);return"afterDestroy"===e&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,n,r){r=r||{};for(const i of t){const t=i.plugin;if(!1===Ka(t[n],[e,r,i.options],t)&&r.cancelable)return!1}return!0}invalidate(){Ua(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,r=qa(n.options&&n.options.plugins,{}),i=function(t){const e={},n=[],r=Object.keys(Xu.plugins.items);for(let o=0;o<r.length;o++)n.push(Xu.getPlugin(r[o]));const i=t.plugins||[];for(let o=0;o<i.length;o++){const t=i[o];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==r||e?function(t,e,n,r){let{plugins:i,localIds:o}=e;const a=[],s=t.getContext();for(const l of i){const e=l.id,i=Ju(n[e],r);null!==i&&a.push({plugin:l,options:th(t.config,{plugin:l,local:o[e]},i,s)})}return a}(t,i,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,r=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}}function Ju(t,e){return e||!1!==t?!0===t?{}:t:null}function th(t,e,n,r){let{plugin:i,local:o}=e;const a=t.pluginScopeKeys(i),s=t.getOptionScopes(n,a);return o&&i.defaults&&s.push(i.defaults),t.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function eh(t,e){const n=cl.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function nh(t){if("x"===t||"y"===t||"r"===t)return t}function rh(t){if(nh(t))return t;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(const o of n){const e=o.axis||("top"===(i=o.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||t.length>1&&nh(t[0].toLowerCase());if(e)return e}var i;throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function ih(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function oh(t,e){const n=il[t.type]||{scales:{}},r=e.scales||{},i=eh(t.type,e),o=Object.create(null);return Object.keys(r).forEach((e=>{const a=r[e];if(!Wa(a))return console.error(`Invalid scale configuration for scale: ${e}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const s=rh(e,a,function(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(n.length)return ih(t,"x",n[0])||ih(t,"y",n[0])}return{}}(e,t),cl.scales[a.type]),l=function(t,e){return t===e?"_index_":"_value_"}(s,i),c=n.scales||{};o[e]=es(Object.create(null),[{axis:s},a,c[s],c[l]])})),t.data.datasets.forEach((n=>{const i=n.type||t.type,a=n.indexAxis||eh(i,e),s=(il[i]||{}).scales||{};Object.keys(s).forEach((t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,a),i=n[e+"AxisID"]||e;o[i]=o[i]||Object.create(null),es(o[i],[{axis:e},r[i],s[t]])}))})),Object.keys(o).forEach((t=>{const e=o[t];es(e,[cl.scales[e.type],cl.scale])})),o}function ah(t){const e=t.options||(t.options={});e.plugins=qa(e.plugins,{}),e.scales=oh(t,e)}function sh(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const lh=new Map,ch=new Set;function uh(t,e){let n=lh.get(t);return n||(n=e(),lh.set(t,n),ch.add(n)),n}const hh=(t,e,n)=>{const r=is(e,n);void 0!==r&&t.add(r)};class dh{constructor(t){this._config=function(t){return(t=t||{}).data=sh(t.data),ah(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=sh(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),ah(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return uh(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return uh(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return uh(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id;return uh(`${this.type}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let r=n.get(t);return r&&!e||(r=new Map,n.set(t,r)),r}getOptionScopes(t,e,n){const{options:r,type:i}=this,o=this._cachedScopes(t,n),a=o.get(e);if(a)return a;const s=new Set;e.forEach((e=>{t&&(s.add(t),e.forEach((e=>hh(s,t,e)))),e.forEach((t=>hh(s,r,t))),e.forEach((t=>hh(s,il[i]||{},t))),e.forEach((t=>hh(s,cl,t))),e.forEach((t=>hh(s,ol,t)))}));const l=Array.from(s);return 0===l.length&&l.push(Object.create(null)),ch.has(e)&&o.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,il[e]||{},cl.datasets[e]||{},{type:e},cl,ol]}resolveNamedOptions(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:o,subPrefixes:a}=fh(this._resolverCache,t,r);let s=o;if(function(t,e){const{isScriptable:n,isIndexable:r}=Rl(t);for(const i of e){const e=n(i),o=r(i),a=(o||e)&&t[i];if(e&&(ss(a)||ph(a))||o&&Va(a))return!0}return!1}(o,e)){i.$shared=!1;s=Ll(o,n=ss(n)?n():n,this.createResolver(t,n,a))}for(const l of e)i[l]=s[l];return i}createResolver(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=fh(this._resolverCache,t,n);return Wa(e)?Ll(i,e,void 0,r):i}}function fh(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let o=r.get(i);if(!o){o={resolver:Dl(e,n),subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},r.set(i,o)}return o}const ph=t=>Wa(t)&&Object.getOwnPropertyNames(t).some((e=>ss(t[e])));const mh=["top","bottom","left","right","chartArea"];function gh(t,e){return"top"===t||"bottom"===t||-1===mh.indexOf(t)&&"x"===e}function yh(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function vh(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ka(n&&n.onComplete,[t],e)}function bh(t){const e=t.chart,n=e.options.animation;Ka(n&&n.onProgress,[t],e)}function _h(t){return ec()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const wh={},xh=t=>{const e=_h(t);return Object.values(wh).filter((t=>t.canvas===e)).pop()};function Sh(t,e,n){const r=Object.keys(t);for(const i of r){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}function kh(t,e,n){return t.options.clip?t[n]:e[n]}class Oh{static defaults=cl;static instances=wh;static overrides=il;static registry=Xu;static version="4.4.6";static getChart=xh;static register(){Xu.add(...arguments),Eh()}static unregister(){Xu.remove(...arguments),Eh()}constructor(t,e){const n=this.config=new dh(e),r=_h(t),i=xh(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!ec()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?xu:Ru}(r)),this.platform.updateConfig(n);const a=this.platform.acquireContext(r,o.aspectRatio),s=a&&a.canvas,l=s&&s.height,c=s&&s.width;this.id=Ba(),this.ctx=a,this.canvas=s,this.width=c,this.height=l,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Qu,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}((t=>this.update(t)),o.resizeDelay||0),this._dataChanges=[],wh[this.id]=this,a&&s?(Pc.listen(this,"complete",vh),Pc.listen(this,"progress",bh),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:r,_aspectRatio:i}=this;return Ua(t)?e&&i?i:r?n/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Xu}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():hc(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return dl(this.canvas,this.ctx),this}stop(){return Pc.stop(this),this}resize(t,e){Pc.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,t,e,i),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,hc(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ka(n.onResize,[this,o],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){Za(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,r=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let i=[];e&&(i=i.concat(Object.keys(e).map((t=>{const n=e[t],r=rh(t,n),i="r"===r,o="x"===r;return{options:n,dposition:i?"chartArea":o?"bottom":"left",dtype:i?"radialLinear":o?"category":"linear"}})))),Za(i,(e=>{const i=e.options,o=i.id,a=rh(o,i),s=qa(i.type,e.dtype);void 0!==i.position&&gh(i.position,a)===gh(e.dposition)||(i.position=e.dposition),r[o]=!0;let l=null;if(o in n&&n[o].type===s)l=n[o];else{l=new(Xu.getScale(s))({id:o,type:s,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,t)})),Za(r,((t,e)=>{t||delete n[e]})),Za(n,(t=>{_u.configure(this,t,t.options),_u.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(yh("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=e.length;n<r;n++){const r=e[n];let i=this.getDatasetMeta(n);const o=r.type||this.config.type;if(i.type&&i.type!==o&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=o,i.indexAxis=r.indexAxis||eh(o,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const e=Xu.getController(o),{datasetElementType:r,dataElementType:a}=cl.datasets[o];Object.assign(e,{dataElementType:Xu.getElement(a),datasetElementType:r&&Xu.getElement(r)}),i.controller=new e(this,n),t.push(i.controller)}}return this._updateMetasets(),t}_resetElements(){Za(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:t}=this.getDatasetMeta(l),e=!r&&-1===i.indexOf(t);t.buildOrUpdateElements(e),o=Math.max(+t.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),r||Za(i,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(yh("z","_idx"));const{_active:a,_lastEvent:s}=this;s?this._eventHandler(s,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Za(this.scales,(t=>{_u.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);ls(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of e){Sh(t,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),r=n(0);for(let i=1;i<e;i++)if(!ls(r,n(i)))return;return Array.from(r).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;_u.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],Za(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,ss(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),r={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Pc.has(this)?this.attached&&!Pc.running(this)&&Pc.start(this):(this.draw(),vh({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(t,e)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let r,i;for(r=0,i=e.length;r<i;++r){const i=e[r];t&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,r=!n.disabled,i=function(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:kh(n,e,"left"),right:kh(n,e,"right"),top:kh(r,e,"top"),bottom:kh(r,e,"bottom")}:e}(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(r&&gl(e,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),t.controller.draw(),r&&yl(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return ml(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,r){const i=su.modes[e];return"function"===typeof i?i(this,t,n,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let r=n.filter((t=>t&&t._dataset===e)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Nl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const r=n?"show":"hide",i=this.getDatasetMeta(t),o=i.controller._resolveAnimations(void 0,r);as(e)?(i.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(i,{visible:n}),this.update((e=>e.datasetIndex===t?r:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Pc.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),dl(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete wh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};Za(this.options.events,(t=>n(t,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(n,r)=>{t[n]&&(e.removeEventListener(this,n,r),delete t[n])},i=(t,e)=>{this.canvas&&this.resize(t,e)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){Za(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},Za(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const r=n?"set":"remove";let i,o,a,s;for("dataset"===e&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,s=t.length;a<s;++a){o=t[a];const e=o&&this.getDatasetMeta(o.datasetIndex).controller;e&&e[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((t=>{let{datasetIndex:e,index:n}=t;const r=this.getDatasetMeta(e);if(!r)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:r.data[n],index:n}}));!Ya(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,n){const r=this.options.hover,i=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),o=i(e,t),a=n?t:i(t,e);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:r=[],options:i}=this,o=e,a=this._getActiveElements(t,r,n,o),s=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,n,r){return n&&"mouseout"!==t.type?r?e:t:null}(t,this._lastEvent,n,s);n&&(this._lastEvent=null,Ka(i.onHover,[t,a,this],this),s&&Ka(i.onClick,[t,a,this],this));const c=!Ya(a,r);return(c||e)&&(this._active=a,this._updateHoverStyles(a,r,e)),this._lastEvent=l,c}_getActiveElements(t,e,n,r){if("mouseout"===t.type)return[];if(!n)return e;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,r)}}function Eh(){return Za(Oh.instances,(t=>t._plugins.invalidate()))}function Th(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t.lineCap=qa(n.borderCapStyle,e.borderCapStyle),t.setLineDash(qa(n.borderDash,e.borderDash)),t.lineDashOffset=qa(n.borderDashOffset,e.borderDashOffset),t.lineJoin=qa(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=qa(n.borderWidth,e.borderWidth),t.strokeStyle=qa(n.borderColor,e.borderColor)}function Ph(t,e,n){t.lineTo(n.x,n.y)}function Ch(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t.length,{start:i=0,end:o=r-1}=n,{start:a,end:s}=e,l=Math.max(i,a),c=Math.min(o,s),u=i<a&&o<a||i>s&&o>s;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function Ah(t,e,n,r){const{points:i,options:o}=e,{count:a,start:s,loop:l,ilen:c}=Ch(i,n,r),u=function(t){return t.stepped?vl:t.tension||"monotone"===t.cubicInterpolationMode?bl:Ph}(o);let h,d,f,{move:p=!0,reverse:m}=r||{};for(h=0;h<=c;++h)d=i[(s+(m?c-h:h))%a],d.skip||(p?(t.moveTo(d.x,d.y),p=!1):u(t,f,d,m,o.stepped),f=d);return l&&(d=i[(s+(m?c:0))%a],u(t,f,d,m,o.stepped)),!!l}function jh(t,e,n,r){const i=e.points,{count:o,start:a,ilen:s}=Ch(i,n,r),{move:l=!0,reverse:c}=r||{};let u,h,d,f,p,m,g=0,y=0;const v=t=>(a+(c?s-t:t))%o,b=()=>{f!==p&&(t.lineTo(g,p),t.lineTo(g,f),t.lineTo(g,m))};for(l&&(h=i[v(0)],t.moveTo(h.x,h.y)),u=0;u<=s;++u){if(h=i[v(u)],h.skip)continue;const e=h.x,n=h.y,r=0|e;r===d?(n<f?f=n:n>p&&(p=n),g=(y*g+e)/++y):(b(),t.lineTo(e,n),d=r,y=0,f=p=n),m=n}b()}function Ih(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n?jh:Ah}const Mh="function"===typeof Path2D;function Nh(t,e,n,r){Mh&&!e.options.segment?function(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),Th(t,e.options),t.stroke(i)}(t,e,n,r):function(t,e,n,r){const{segments:i,options:o}=e,a=Ih(e);for(const s of i)Th(t,o,s.style),t.beginPath(),a(t,e,s,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}(t,e,n,r)}class Dh extends zu{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;tc(this._points,n,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const o=!!t._loop,{start:a,end:s}=function(t,e,n,r){let i=0,o=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(o+=i);o>i&&t[o%e].skip;)o--;return o%=e,{start:i,end:o}}(n,i,o,r);return kc(t,!0===r?[{start:a,end:s,loop:o}]:function(t,e,n,r){const i=t.length,o=[];let a,s=e,l=t[e];for(a=e+1;a<=n;++a){const n=t[a%i];n.skip||n.stop?l.skip||(r=!1,o.push({start:e%i,end:(a-1)%i,loop:r}),e=s=n.stop?a:null):(s=a,l.skip&&(e=a)),l=n}return null!==s&&o.push({start:e%i,end:s%i,loop:r}),o}(n,a,s<a?s+i:s,!!t._fullLoop&&0===a&&s===i-1),n,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,r=t[e],i=this.points,o=Sc(this,{property:e,start:r,end:r});if(!o.length)return;const a=[],s=function(t){return t.stepped?mc:t.tension||"monotone"===t.cubicInterpolationMode?gc:pc}(n);let l,c;for(l=0,c=o.length;l<c;++l){const{start:c,end:u}=o[l],h=i[c],d=i[u];if(h===d){a.push(h);continue}const f=s(h,d,Math.abs((r-h[e])/(d[e]-h[e])),n.stepped);f[e]=t[e],a.push(f)}return 1===a.length?a[0]:a}pathSegment(t,e,n){return Ih(this)(t,this,e,n)}path(t,e,n){const r=this.segments,i=Ih(this);let o=this._loop;e=e||0,n=n||this.points.length-e;for(const a of r)o&=i(t,this,a,{start:e,end:e+n-1});return!!o}draw(t,e,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),Nh(t,this,n,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Lh(t,e,n,r){const i=t.options,{[n]:o}=t.getProps([n],r);return Math.abs(e-o)<i.radius+i.hitRadius}class Rh extends zu{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.options,{x:i,y:o}=this.getProps(["x","y"],n);return Math.pow(t-i,2)+Math.pow(e-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return Lh(this,t,"x",e)}inYRange(t,e){return Lh(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!ml(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,fl(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function zh(t,e){const{x:n,y:r,base:i,width:o,height:a}=t.getProps(["x","y","base","width","height"],e);let s,l,c,u,h;return t.horizontal?(h=a/2,s=Math.min(n,i),l=Math.max(n,i),c=r-h,u=r+h):(h=o/2,s=n-h,l=n+h,c=Math.min(r,i),u=Math.max(r,i)),{left:s,top:c,right:l,bottom:u}}function Fh(t,e,n,r){return t?0:js(e,n,r)}function Bh(t){const e=zh(t),n=e.right-e.left,r=e.bottom-e.top,i=function(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,o=Cl(r);return{t:Fh(i.top,o.top,0,n),r:Fh(i.right,o.right,0,e),b:Fh(i.bottom,o.bottom,0,n),l:Fh(i.left,o.left,0,e)}}(t,n/2,r/2),o=function(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,o=Al(i),a=Math.min(e,n),s=t.borderSkipped,l=r||Wa(i);return{topLeft:Fh(!l||s.top||s.left,o.topLeft,0,a),topRight:Fh(!l||s.top||s.right,o.topRight,0,a),bottomLeft:Fh(!l||s.bottom||s.left,o.bottomLeft,0,a),bottomRight:Fh(!l||s.bottom||s.right,o.bottomRight,0,a)}}(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function Uh(t,e,n,r){const i=null===e,o=null===n,a=t&&!(i&&o)&&zh(t,r);return a&&(i||Is(e,a.left,a.right))&&(o||Is(n,a.top,a.bottom))}function Vh(t,e){t.rect(e.x,e.y,e.w,e.h)}function Wh(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+o,h:t.h+a,radius:t.radius}}class Hh extends zu{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:o}=Bh(this),a=(s=o.radius).topLeft||s.topRight||s.bottomLeft||s.bottomRight?Sl:Vh;var s;t.save(),o.w===i.w&&o.h===i.h||(t.beginPath(),a(t,Wh(o,e,i)),t.clip(),a(t,Wh(i,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,Wh(i,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,n){return Uh(this,t,e,n)}inXRange(t,e){return Uh(this,t,null,e)}inYRange(t,e){return Uh(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(e+r)/2:e,y:i?n:(n+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}const $h=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}};class qh extends zu{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Ka(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,r=Il(n.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:s}=$h(n,i);let l,c;e.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(o,i,a,s)+10):(c=this.maxHeight,l=this._fitCols(o,r,a,s)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,r){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+a;let u=t;i.textAlign="left",i.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((t,f)=>{const p=n+e/2+i.measureText(t.text).width;(0===f||l[l.length-1]+p+2*a>o)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),s[f]={left:0,top:d,row:h,width:p,height:r},l[l.length-1]+=p+a})),u}_fitCols(t,e,n,r){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,s=this.legendHitBoxes=[],l=this.columnSizes=[],c=o-t;let u=a,h=0,d=0,f=0,p=0;return this.legendItems.forEach(((t,o)=>{const{itemWidth:m,itemHeight:g}=function(t,e,n,r,i){const o=function(t,e,n,r){let i=t.text;i&&"string"!==typeof i&&(i=i.reduce(((t,e)=>t.length>e.length?t:e)));return e+n.size/2+r.measureText(i).width}(r,t,e,n),a=function(t,e,n){let r=t;"string"!==typeof e.text&&(r=Gh(e,n));return r}(i,r,e.lineHeight);return{itemWidth:o,itemHeight:a}}(n,e,i,t,r);o>0&&d+g+2*a>c&&(u+=h+a,l.push({width:h,height:d}),f+=h+a,p++,h=d=0),s[o]={left:f,top:d,col:p,width:m,height:g},h=Math.max(h,m),d+=g+a})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:r},rtl:i}}=this,o=yc(i,this.left,this.width);if(this.isHorizontal()){let i=0,a=Vs(n,this.left+r,this.right-this.lineWidths[i]);for(const s of e)i!==s.row&&(i=s.row,a=Vs(n,this.left+r,this.right-this.lineWidths[i])),s.top+=this.top+t+r,s.left=o.leftForLtr(o.x(a),s.width),a+=s.width+r}else{let i=0,a=Vs(n,this.top+t+r,this.bottom-this.columnSizes[i].height);for(const s of e)s.col!==i&&(i=s.col,a=Vs(n,this.top+t+r,this.bottom-this.columnSizes[i].height)),s.top=a,s.left+=this.left+r,s.left=o.leftForLtr(o.x(s.left),s.width),a+=s.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;gl(t,this),this._draw(),yl(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:r}=this,{align:i,labels:o}=t,a=cl.color,s=yc(t.rtl,this.left,this.width),l=Il(o.font),{padding:c}=o,u=l.size,h=u/2;let d;this.drawTitle(),r.textAlign=s.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:m}=$h(o,u),g=this.isHorizontal(),y=this._computeTitleHeight();d=g?{x:Vs(i,this.left+c,this.right-n[0]),y:this.top+c+y,line:0}:{x:this.left+c,y:Vs(i,this.top+y+c,this.bottom-e[0].height),line:0},vc(this.ctx,t.textDirection);const v=m+c;this.legendItems.forEach(((b,_)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const w=r.measureText(b.text).width,x=s.textAlign(b.textAlign||(b.textAlign=o.textAlign)),S=f+h+w;let k=d.x,O=d.y;s.setWidth(this.width),g?_>0&&k+S+c>this.right&&(O=d.y+=v,d.line++,k=d.x=Vs(i,this.left+c,this.right-n[d.line])):_>0&&O+v>this.bottom&&(k=d.x=k+e[d.line].width+c,d.line++,O=d.y=Vs(i,this.top+y+c,this.bottom-e[d.line].height));if(function(t,e,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;r.save();const i=qa(n.lineWidth,1);if(r.fillStyle=qa(n.fillStyle,a),r.lineCap=qa(n.lineCap,"butt"),r.lineDashOffset=qa(n.lineDashOffset,0),r.lineJoin=qa(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=qa(n.strokeStyle,a),r.setLineDash(qa(n.lineDash,[])),o.usePointStyle){const a={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=s.xPlus(t,f/2);pl(r,a,l,e+h,o.pointStyleWidth&&f)}else{const o=e+Math.max((u-p)/2,0),a=s.leftForLtr(t,f),l=Al(n.borderRadius);r.beginPath(),Object.values(l).some((t=>0!==t))?Sl(r,{x:a,y:o,w:f,h:p,radius:l}):r.rect(a,o,f,p),r.fill(),0!==i&&r.stroke()}r.restore()}(s.x(k),O,b),k=((t,e,n,r)=>t===(r?"left":"right")?n:"center"===t?(e+n)/2:e)(x,k+f+h,g?k+S:this.right,t.rtl),function(t,e,n){xl(r,n.text,t,e+m/2,l,{strikethrough:n.hidden,textAlign:s.textAlign(n.textAlign)})}(s.x(k),O,b),g)d.x+=S+c;else if("string"!==typeof b.text){const t=l.lineHeight;d.y+=Gh(b,t)+c}else d.y+=v})),bc(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=Il(e.font),r=jl(e.padding);if(!e.display)return;const i=yc(t.rtl,this.left,this.width),o=this.ctx,a=e.position,s=n.size/2,l=r.top+s;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=Vs(t.align,u,this.right-h);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);c=l+Vs(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=Vs(a,u,u+h);o.textAlign=i.textAlign(Us(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,xl(o,e.text,d,c,n)}_computeTitleHeight(){const t=this.options.title,e=Il(t.font),n=jl(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,r,i;if(Is(t,this.left,this.right)&&Is(e,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],Is(t,r.left,r.left+r.width)&&Is(e,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const o=this._hoveredItem,a=(i=n,null!==(r=o)&&null!==i&&r.datasetIndex===i.datasetIndex&&r.index===i.index);o&&!a&&Ka(e.onLeave,[t,o,this],this),this._hoveredItem=n,n&&!a&&Ka(e.onHover,[t,n,this],this)}else n&&Ka(e.onClick,[t,n,this],this);var r,i}}function Gh(t,e){return e*(t.text?t.text.length:0)}var Kh={id:"legend",_element:qh,start(t,e,n){const r=t.legend=new qh({ctx:t.ctx,options:n,chart:t});_u.configure(t,r,n),_u.addBox(t,r)},stop(t){_u.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;_u.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:o,useBorderRadius:a,borderRadius:s}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(n?0:void 0),c=jl(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:a&&(s||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Zh extends zu{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=Va(n.text)?n.text.length:1;this._padding=jl(n.padding);const i=r*Il(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:r,right:i,options:o}=this,a=o.align;let s,l,c,u=0;return this.isHorizontal()?(l=Vs(a,n,i),c=e+t,s=i-n):("left"===o.position?(l=n+t,c=Vs(a,r,e),u=-.5*cs):(l=i-t,c=Vs(a,e,r),u=.5*cs),s=r-e),{titleX:l,titleY:c,maxWidth:s,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=Il(e.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:o,maxWidth:a,rotation:s}=this._drawArgs(r);xl(t,e.text,0,0,n,{color:e.color,maxWidth:a,rotation:s,textAlign:Us(e.align),textBaseline:"middle",translation:[i,o]})}}var Yh={id:"title",_element:Zh,start(t,e,n){!function(t,e){const n=new Zh({ctx:t.ctx,options:e,chart:t});_u.configure(t,n,e),_u.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){const e=t.titleBlock;_u.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;_u.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const Xh={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,o=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();r.add(t.x),i+=t.y,++o}}if(0===o||0===r.size)return!1;return{x:[...r].reduce(((t,e)=>t+e))/r.size,y:i/o}},nearest(t,e){if(!t.length)return!1;let n,r,i,o=e.x,a=e.y,s=Number.POSITIVE_INFINITY;for(n=0,r=t.length;n<r;++n){const r=t[n].element;if(r&&r.hasValue()){const t=Ts(e,r.getCenterPoint());t<s&&(s=t,i=r)}}if(i){const t=i.tooltipPosition();o=t.x,a=t.y}return{x:o,y:a}}};function Qh(t,e){return e&&(Va(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Jh(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function td(t,e){const{element:n,datasetIndex:r,index:i}=e,o=t.getDatasetMeta(r).controller,{label:a,value:s}=o.getLabelAndValue(i);return{chart:t,label:a,parsed:o.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:s,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function ed(t,e){const n=t.chart.ctx,{body:r,footer:i,title:o}=t,{boxWidth:a,boxHeight:s}=e,l=Il(e.bodyFont),c=Il(e.titleFont),u=Il(e.footerFont),h=o.length,d=i.length,f=r.length,p=jl(e.padding);let m=p.height,g=0,y=r.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(m+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){m+=f*(e.displayColors?Math.max(s,l.lineHeight):l.lineHeight)+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}d&&(m+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let v=0;const b=function(t){g=Math.max(g,n.measureText(t).width+v)};return n.save(),n.font=c.string,Za(t.title,b),n.font=l.string,Za(t.beforeBody.concat(t.afterBody),b),v=e.displayColors?a+2+e.boxPadding:0,Za(r,(t=>{Za(t.before,b),Za(t.lines,b),Za(t.after,b)})),v=0,n.font=u.string,Za(t.footer,b),n.restore(),g+=p.width,{width:g,height:m}}function nd(t,e,n,r){const{x:i,width:o}=n,{width:a,chartArea:{left:s,right:l}}=t;let c="center";return"center"===r?c=i<=(s+l)/2?"left":"right":i<=o/2?c="left":i>=a-o/2&&(c="right"),function(t,e,n,r){const{x:i,width:o}=r,a=n.caretSize+n.caretPadding;return"left"===t&&i+o+a>e.width||"right"===t&&i-o-a<0||void 0}(c,t,e,n)&&(c="center"),c}function rd(t,e,n){const r=n.yAlign||e.yAlign||function(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||nd(t,e,n,r),yAlign:r}}function id(t,e,n,r){const{caretSize:i,caretPadding:o,cornerRadius:a}=t,{xAlign:s,yAlign:l}=n,c=i+o,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Al(a);let p=function(t,e){let{x:n,width:r}=t;return"right"===e?n-=r:"center"===e&&(n-=r/2),n}(e,s);const m=function(t,e,n){let{y:r,height:i}=t;return"top"===e?r+=n:r-="bottom"===e?i+n:i/2,r}(e,l,c);return"center"===l?"left"===s?p+=c:"right"===s&&(p-=c):"left"===s?p-=Math.max(u,d)+i:"right"===s&&(p+=Math.max(h,f)+i),{x:js(p,0,r.width-e.width),y:js(m,0,r.height-e.height)}}function od(t,e,n){const r=jl(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-r.right:t.x+r.left}function ad(t){return Qh([],Jh(t))}function sd(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const ld={beforeTitle:Fa,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Fa,beforeBody:Fa,beforeLabel:Fa,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Ua(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Fa,afterBody:Fa,beforeFooter:Fa,footer:Fa,afterFooter:Fa};function cd(t,e,n,r){const i=t[e].call(n,r);return"undefined"===typeof i?ld[e].call(n,r):i}class ud extends zu{static positioners=Xh;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&e.options.animation&&n.animations,i=new Ic(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,n=this._tooltipItems,Nl(t,{tooltip:e,tooltipItems:n,type:"tooltip"})));var t,e,n}getTitle(t,e){const{callbacks:n}=e,r=cd(n,"beforeTitle",this,t),i=cd(n,"title",this,t),o=cd(n,"afterTitle",this,t);let a=[];return a=Qh(a,Jh(r)),a=Qh(a,Jh(i)),a=Qh(a,Jh(o)),a}getBeforeBody(t,e){return ad(cd(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,r=[];return Za(t,(t=>{const e={before:[],lines:[],after:[]},i=sd(n,t);Qh(e.before,Jh(cd(i,"beforeLabel",this,t))),Qh(e.lines,cd(i,"label",this,t)),Qh(e.after,Jh(cd(i,"afterLabel",this,t))),r.push(e)})),r}getAfterBody(t,e){return ad(cd(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,r=cd(n,"beforeFooter",this,t),i=cd(n,"footer",this,t),o=cd(n,"afterFooter",this,t);let a=[];return a=Qh(a,Jh(r)),a=Qh(a,Jh(i)),a=Qh(a,Jh(o)),a}_createItems(t){const e=this._active,n=this.chart.data,r=[],i=[],o=[];let a,s,l=[];for(a=0,s=e.length;a<s;++a)l.push(td(this.chart,e[a]));return t.filter&&(l=l.filter(((e,r,i)=>t.filter(e,r,i,n)))),t.itemSort&&(l=l.sort(((e,r)=>t.itemSort(e,r,n)))),Za(l,(e=>{const n=sd(t.callbacks,e);r.push(cd(n,"labelColor",this,e)),i.push(cd(n,"labelPointStyle",this,e)),o.push(cd(n,"labelTextColor",this,e))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(r.length){const t=Xh[n.position].call(this,r,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const e=this._size=ed(this,n),a=Object.assign({},t,e),s=rd(this.chart,n,a),l=id(n,a,s,this.chart);this.xAlign=s.xAlign,this.yAlign=s.yAlign,i={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,r){const i=this.getCaretPosition(t,n,r);e.lineTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.lineTo(i.x3,i.y3)}getCaretPosition(t,e,n){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:s,topRight:l,bottomLeft:c,bottomRight:u}=Al(a),{x:h,y:d}=t,{width:f,height:p}=e;let m,g,y,v,b,_;return"center"===i?(b=d+p/2,"left"===r?(m=h,g=m-o,v=b+o,_=b-o):(m=h+f,g=m+o,v=b-o,_=b+o),y=m):(g="left"===r?h+Math.max(s,c)+o:"right"===r?h+f-Math.max(l,u)-o:this.caretX,"top"===i?(v=d,b=v-o,m=g-o,y=g+o):(v=d+p,b=v+o,m=g+o,y=g-o),_=v),{x1:m,x2:g,x3:y,y1:v,y2:b,y3:_}}drawTitle(t,e,n){const r=this.title,i=r.length;let o,a,s;if(i){const l=yc(n.rtl,this.x,this.width);for(t.x=od(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",o=Il(n.titleFont),a=n.titleSpacing,e.fillStyle=n.titleColor,e.font=o.string,s=0;s<i;++s)e.fillText(r[s],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,s+1===i&&(t.y+=n.titleMarginBottom-a)}}_drawColorBox(t,e,n,r,i){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:s,boxWidth:l}=i,c=Il(i.bodyFont),u=od(this,"left",i),h=r.x(u),d=s<c.lineHeight?(c.lineHeight-s)/2:0,f=e.y+d;if(i.usePointStyle){const e={radius:Math.min(l,s)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=r.leftForLtr(h,l)+l/2,c=f+s/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,fl(t,e,n,c),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,fl(t,e,n,c)}else{t.lineWidth=Wa(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const e=r.leftForLtr(h,l),n=r.leftForLtr(r.xPlus(h,1),l-2),a=Al(o.borderRadius);Object.values(a).some((t=>0!==t))?(t.beginPath(),t.fillStyle=i.multiKeyBackground,Sl(t,{x:e,y:f,w:l,h:s,radius:a}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Sl(t,{x:n,y:f+1,w:l-2,h:s-2,radius:a}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(e,f,l,s),t.strokeRect(e,f,l,s),t.fillStyle=o.backgroundColor,t.fillRect(n,f+1,l-2,s-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:s,boxWidth:l,boxPadding:c}=n,u=Il(n.bodyFont);let h=u.lineHeight,d=0;const f=yc(n.rtl,this.x,this.width),p=function(n){e.fillText(n,f.x(t.x+d),t.y+h/2),t.y+=h+i},m=f.textAlign(o);let g,y,v,b,_,w,x;for(e.textAlign=o,e.textBaseline="middle",e.font=u.string,t.x=od(this,m,n),e.fillStyle=n.bodyColor,Za(this.beforeBody,p),d=a&&"right"!==m?"center"===o?l/2+c:l+2+c:0,b=0,w=r.length;b<w;++b){for(g=r[b],y=this.labelTextColors[b],e.fillStyle=y,Za(g.before,p),v=g.lines,a&&v.length&&(this._drawColorBox(e,t,b,f,n),h=Math.max(u.lineHeight,s)),_=0,x=v.length;_<x;++_)p(v[_]),h=u.lineHeight;Za(g.after,p)}d=0,h=u.lineHeight,Za(this.afterBody,p),t.y-=i}drawFooter(t,e,n){const r=this.footer,i=r.length;let o,a;if(i){const s=yc(n.rtl,this.x,this.width);for(t.x=od(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=s.textAlign(n.footerAlign),e.textBaseline="middle",o=Il(n.footerFont),e.fillStyle=n.footerColor,e.font=o.string,a=0;a<i;++a)e.fillText(r[a],s.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,e,n,r){const{xAlign:i,yAlign:o}=this,{x:a,y:s}=t,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Al(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(a+u,s),"top"===o&&this.drawCaret(t,e,n,r),e.lineTo(a+l-h,s),e.quadraticCurveTo(a+l,s,a+l,s+h),"center"===o&&"right"===i&&this.drawCaret(t,e,n,r),e.lineTo(a+l,s+c-f),e.quadraticCurveTo(a+l,s+c,a+l-f,s+c),"bottom"===o&&this.drawCaret(t,e,n,r),e.lineTo(a+d,s+c),e.quadraticCurveTo(a,s+c,a,s+c-d),"center"===o&&"left"===i&&this.drawCaret(t,e,n,r),e.lineTo(a,s+u),e.quadraticCurveTo(a,s,a+u,s),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=Xh[t.position].call(this,this._active,this._eventPosition);if(!n)return;const o=this._size=ed(this,t),a=Object.assign({},n,this._size),s=rd(e,t,a),l=id(t,a,s,e);r._to===l.x&&i._to===l.y||(this.xAlign=s.xAlign,this.yAlign=s.yAlign,this.width=o.width,this.height=o.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=jl(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,r,e),vc(t,e.textDirection),i.y+=o.top,this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),bc(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,r=t.map((t=>{let{datasetIndex:e,index:n}=t;const r=this.chart.getDatasetMeta(e);if(!r)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:r.data[n],index:n}})),i=!Ya(n,r),o=this._positionChanged(r,e);(i||o)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(t,i,e,n),a=this._positionChanged(o,t),s=e||!Ya(o,i)||a;return s&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),s}_getActiveElements(t,e,n,r){const i=this.options;if("mouseout"===t.type)return[];if(!r)return e.filter((t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)));const o=this.chart.getElementsAtEventForMode(t,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:n,caretY:r,options:i}=this,o=Xh[i.position].call(this,t,e);return!1!==o&&(n!==o.x||r!==o.y)}}var hd={id:"tooltip",_element:ud,positioners:Xh,afterInit(t,e,n){n&&(t.tooltip=new ud({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ld},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function dd(t,e,n,r){const i=t.indexOf(e);if(-1===i)return((t,e,n,r)=>("string"===typeof e?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,r);return i!==t.lastIndexOf(e)?n:i}function fd(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class pd extends Ku{static id="category";static defaults={ticks:{callback:fd}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:r}of e)t[n]===r&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Ua(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:js(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:dd(n,t,qa(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===t&&e===i.length-1?i:i.slice(t,e+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=e;o++)r.push({value:o});return r}getLabelForValue(t){return fd.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function md(t,e){const n=[],{bounds:r,step:i,min:o,max:a,precision:s,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=t,d=i||1,f=c-1,{min:p,max:m}=e,g=!Ua(o),y=!Ua(a),v=!Ua(l),b=(m-p)/(u+1);let _,w,x,S,k=_s((m-p)/f/d)*d;if(k<1e-14&&!g&&!y)return[{value:p},{value:m}];S=Math.ceil(m/k)-Math.floor(p/k),S>f&&(k=_s(S*k/f/d)*d),Ua(s)||(_=Math.pow(10,s),k=Math.ceil(k*_)/_),"ticks"===r?(w=Math.floor(p/k)*k,x=Math.ceil(m/k)*k):(w=p,x=m),g&&y&&i&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((a-o)/i,k/1e3)?(S=Math.round(Math.min((a-o)/k,c)),k=(a-o)/S,w=o,x=a):v?(w=g?o:w,x=y?a:x,S=l-1,k=(x-w)/S):(S=(x-w)/k,S=bs(S,Math.round(S),k/1e3)?Math.round(S):Math.ceil(S));const O=Math.max(Os(k),Os(w));_=Math.pow(10,Ua(s)?O:s),w=Math.round(w*_)/_,x=Math.round(x*_)/_;let E=0;for(g&&(h&&w!==o?(n.push({value:o}),w<o&&E++,bs(Math.round((w+E*k)*_)/_,o,gd(o,b,t))&&E++):w<o&&E++);E<S;++E){const t=Math.round((w+E*k)*_)/_;if(y&&t>a)break;n.push({value:t})}return y&&h&&x!==a?n.length&&bs(n[n.length-1].value,a,gd(a,b,t))?n[n.length-1].value=a:n.push({value:a}):y&&x!==a||n.push({value:x}),n}function gd(t,e,n){let{horizontal:r,minRotation:i}=n;const o=Ss(i),a=(r?Math.sin(o):Math.cos(o))||.001,s=.75*e*(""+t).length;return Math.min(e/a,s)}class yd extends Ku{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Ua(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const o=t=>r=e?r:t,a=t=>i=n?i:t;if(t){const t=vs(r),e=vs(i);t<0&&e<0?a(0):t>0&&e>0&&o(0)}if(r===i){let e=0===i?1:Math.abs(.05*i);a(i+e),t||o(r-e)}this.min=r,this.max=i}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:r}=t;return r?(e=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=md({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&xs(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const r=(n-e)/Math.max(t.length-1,1)/2;e-=r,n+=r}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return el(t,this.chart.options.locale,this.options.ticks.format)}}class vd extends yd{static id="linear";static defaults={ticks:{callback:rl.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Ha(t)?t:0,this.max=Ha(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=Ss(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,i.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}rl.formatters.logarithmic;rl.formatters.numeric;const bd=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},_d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const e=t[i],o=i+1<t.length,a=o?t[i+1]:0,s=i+2<t.length,l=s?t[i+2]:0,c=e>>2,u=(3&e)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;s||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bd(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const e=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const a=i<t.length?n[t.charAt(i)]:64;++i;const s=i<t.length?n[t.charAt(i)]:64;if(++i,null==e||null==o||null==a||null==s)throw new wd;const l=e<<2|o>>4;if(r.push(l),64!==a){const t=o<<4&240|a>>2;if(r.push(t),64!==s){const t=a<<6&192|s;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wd extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xd=function(t){return function(t){const e=bd(t);return _d.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Sd=function(t){try{return _d.decodeString(t,!0)}catch(UK){console.error("base64Decode failed: ",UK)}return null};const kd=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Od=()=>{try{return kd()||(()=>{if("undefined"===typeof process)return;const t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(UK){return}const e=t&&Sd(t[1]);return e&&JSON.parse(e)})()}catch(UK){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${UK}`)}},Ed=t=>{var e,n;return null===(n=null===(e=Od())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},Td=()=>{var t;return null===(t=Od())||void 0===t?void 0:t.config},Pd=t=>{var e;return null===(e=Od())||void 0===e?void 0:e[`_${t}`]};class Cd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function Ad(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function jd(){return!function(){var t;const e=null===(t=Od())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(UK){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Id(){try{return"object"===typeof indexedDB}catch(UK){return!1}}class Md extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Md.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nd.prototype.create)}}class Nd{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t){const e=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${t}`,r=this.errors[t],i=r?function(t,e){return t.replace(Dd,((t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`}))}(r,e):"Error",o=`${this.serviceName}: ${i} (${n}).`;return new Md(n,o,e)}}const Dd=/\{\$([^}]+)}/g;function Ld(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],o=e[i];if(Rd(n)&&Rd(o)){if(!Ld(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Rd(t){return null!==t&&"object"===typeof t}function zd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fd(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[n,r]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(r)}})),e}function Bd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Ud{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let r;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=Vd),void 0===r.error&&(r.error=Vd),void 0===r.complete&&(r.complete=Vd);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(UK){}})),this.observers.push(r),i}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(UK){"undefined"!==typeof console&&console.error&&console.error(UK)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Vd(){}function Wd(t){return t&&t._delegate?t._delegate:t}class Hd{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const $d="[DEFAULT]";class qd{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new Cd;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(UK){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(UK){if(r)return null;throw UK}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:$d})}catch(UK){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(UK){}}}}clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$d;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$d;return this.instances.has(t)}getOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$d;return this.instancesOptions.get(t)||{}}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(r){}}getOrInitializeService(t){let{instanceIdentifier:e,options:n={}}=t,r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=e,i===$d?void 0:i),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$d;return this.component?this.component.multipleInstances?t:$d:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Gd{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new qd(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const Kd=[];var Zd,Yd;(Yd=Zd||(Zd={}))[Yd.DEBUG=0]="DEBUG",Yd[Yd.VERBOSE=1]="VERBOSE",Yd[Yd.INFO=2]="INFO",Yd[Yd.WARN=3]="WARN",Yd[Yd.ERROR=4]="ERROR",Yd[Yd.SILENT=5]="SILENT";const Xd={debug:Zd.DEBUG,verbose:Zd.VERBOSE,info:Zd.INFO,warn:Zd.WARN,error:Zd.ERROR,silent:Zd.SILENT},Qd=Zd.INFO,Jd={[Zd.DEBUG]:"log",[Zd.VERBOSE]:"log",[Zd.INFO]:"info",[Zd.WARN]:"warn",[Zd.ERROR]:"error"},tf=function(t,e){if(e<t.logLevel)return;const n=(new Date).toISOString(),r=Jd[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r](`[${n}]  ${t.name}:`,...o)};class ef{constructor(t){this.name=t,this._logLevel=Qd,this._logHandler=tf,this._userLogHandler=null,Kd.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Zd))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?Xd[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zd.DEBUG,...e),this._logHandler(this,Zd.DEBUG,...e)}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zd.VERBOSE,...e),this._logHandler(this,Zd.VERBOSE,...e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zd.INFO,...e),this._logHandler(this,Zd.INFO,...e)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zd.WARN,...e),this._logHandler(this,Zd.WARN,...e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zd.ERROR,...e),this._logHandler(this,Zd.ERROR,...e)}}const nf=(t,e)=>e.some((e=>t instanceof e));let rf,of;const af=new WeakMap,sf=new WeakMap,lf=new WeakMap,cf=new WeakMap,uf=new WeakMap;let hf={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return sf.get(t);if("objectStoreNames"===e)return t.objectStoreNames||lf.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pf(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function df(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(of||(of=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(mf(this),n),pf(af.get(this))}:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return pf(t.apply(mf(this),n))}:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=t.call(mf(this),e,...r);return lf.set(o,e.sort?e.sort():[e]),pf(o)}}function ff(t){return"function"===typeof t?df(t):(t instanceof IDBTransaction&&function(t){if(sf.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{e(),r()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)}));sf.set(t,e)}(t),nf(t,rf||(rf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,hf):t)}function pf(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{e(pf(t.result)),r()},o=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)}));return e.then((e=>{e instanceof IDBCursor&&af.set(e,t)})).catch((()=>{})),uf.set(e,t),e}(t);if(cf.has(t))return cf.get(t);const e=ff(t);return e!==t&&(cf.set(t,e),uf.set(e,t)),e}const mf=t=>uf.get(t);const gf=["get","getKey","getAll","getAllKeys","count"],yf=["put","add","delete","clear"],vf=new Map;function bf(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(vf.get(e))return vf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yf.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!gf.includes(n))return;const o=async function(t){const e=this.transaction(t,i?"readwrite":"readonly");let o=e.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&e.done]))[0]};return vf.set(e,o),o}hf=(t=>({...t,get:(e,n,r)=>bf(e,n)||t.get(e,n,r),has:(e,n)=>!!bf(e,n)||t.has(e,n)}))(hf);class _f{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const wf="@firebase/app",xf="0.10.16",Sf=new ef("@firebase/app"),kf="@firebase/app-compat",Of="@firebase/analytics-compat",Ef="@firebase/analytics",Tf="@firebase/app-check-compat",Pf="@firebase/app-check",Cf="@firebase/auth",Af="@firebase/auth-compat",jf="@firebase/database",If="@firebase/data-connect",Mf="@firebase/database-compat",Nf="@firebase/functions",Df="@firebase/functions-compat",Lf="@firebase/installations",Rf="@firebase/installations-compat",zf="@firebase/messaging",Ff="@firebase/messaging-compat",Bf="@firebase/performance",Uf="@firebase/performance-compat",Vf="@firebase/remote-config",Wf="@firebase/remote-config-compat",Hf="@firebase/storage",$f="@firebase/storage-compat",qf="@firebase/firestore",Gf="@firebase/vertexai",Kf="@firebase/firestore-compat",Zf="firebase",Yf="[DEFAULT]",Xf={[wf]:"fire-core",[kf]:"fire-core-compat",[Ef]:"fire-analytics",[Of]:"fire-analytics-compat",[Pf]:"fire-app-check",[Tf]:"fire-app-check-compat",[Cf]:"fire-auth",[Af]:"fire-auth-compat",[jf]:"fire-rtdb",[If]:"fire-data-connect",[Mf]:"fire-rtdb-compat",[Nf]:"fire-fn",[Df]:"fire-fn-compat",[Lf]:"fire-iid",[Rf]:"fire-iid-compat",[zf]:"fire-fcm",[Ff]:"fire-fcm-compat",[Bf]:"fire-perf",[Uf]:"fire-perf-compat",[Vf]:"fire-rc",[Wf]:"fire-rc-compat",[Hf]:"fire-gcs",[$f]:"fire-gcs-compat",[qf]:"fire-fst",[Kf]:"fire-fst-compat",[Gf]:"fire-vertex","fire-js":"fire-js",[Zf]:"fire-js-all"},Qf=new Map,Jf=new Map,tp=new Map;function ep(t,e){try{t.container.addComponent(e)}catch(UK){Sf.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,UK)}}function np(t){const e=t.name;if(tp.has(e))return Sf.debug(`There were multiple attempts to register component ${e}.`),!1;tp.set(e,t);for(const n of Qf.values())ep(n,t);for(const n of Jf.values())ep(n,t);return!0}function rp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ip(t){return void 0!==t.settings}const op=new Nd("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ap{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Hd("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw op.create("app-deleted",{appName:this._name})}}const sp="11.0.2";function lp(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if("object"!==typeof e){e={name:e}}const r=Object.assign({name:Yf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!==typeof i||!i)throw op.create("bad-app-name",{appName:String(i)});if(n||(n=Td()),!n)throw op.create("no-options");const o=Qf.get(i);if(o){if(Ld(n,o.options)&&Ld(r,o.config))return o;throw op.create("duplicate-app",{appName:i})}const a=new Gd(i);for(const l of tp.values())a.addComponent(l);const s=new ap(n,r,a);return Qf.set(i,s),s}function cp(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yf;const e=Qf.get(t);if(!e&&t===Yf&&Td())return lp();if(!e)throw op.create("no-app",{appName:t});return e}function up(t,e,n){var r;let i=null!==(r=Xf[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const t=[`Unable to register library "${i}" with version "${e}":`];return o&&t.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Sf.warn(t.join(" "))}np(new Hd(`${i}-version`,(()=>({library:i,version:e})),"VERSION"))}const hp="firebase-heartbeat-database",dp=1,fp="firebase-heartbeat-store";let pp=null;function mp(){return pp||(pp=function(t,e){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(t,e),s=pf(a);return r&&a.addEventListener("upgradeneeded",(t=>{r(pf(a.result),t.oldVersion,t.newVersion,pf(a.transaction),t)})),n&&a.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),s.then((t=>{o&&t.addEventListener("close",(()=>o())),i&&t.addEventListener("versionchange",(t=>i(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),s}(hp,dp,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(fp)}catch(UK){console.warn(UK)}}}).catch((t=>{throw op.create("idb-open",{originalErrorMessage:t.message})}))),pp}async function gp(t,e){try{const n=(await mp()).transaction(fp,"readwrite"),r=n.objectStore(fp);await r.put(e,yp(t)),await n.done}catch(UK){if(UK instanceof Md)Sf.warn(UK.message);else{const e=op.create("idb-set",{originalErrorMessage:null===UK||void 0===UK?void 0:UK.message});Sf.warn(e.message)}}}function yp(t){return`${t.name}!${t.options.appId}`}class vp{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new _p(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){var t,e;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=bp();if(null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((t=>t.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(UK){Sf.warn(UK)}}async getHeartbeatsHeader(){var t;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=bp(),{heartbeatsToSend:n,unsentEntries:r}=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=t.slice();for(const i of t){const t=n.find((t=>t.agent===i.agent));if(t){if(t.dates.push(i.date),wp(n)>e){t.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),wp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=xd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(UK){return Sf.warn(UK),""}}}function bp(){return(new Date).toISOString().substring(0,10)}class _p{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Id()&&new Promise(((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await mp()).transaction(fp),n=await e.objectStore(fp).get(yp(t));return await e.done,n}catch(UK){if(UK instanceof Md)Sf.warn(UK.message);else{const e=op.create("idb-get",{originalErrorMessage:null===UK||void 0===UK?void 0:UK.message});Sf.warn(e.message)}}}(this.app);return(null===t||void 0===t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return gp(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return gp(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function wp(t){return xd(JSON.stringify({version:2,heartbeats:t})).length}var xp;xp="",np(new Hd("platform-logger",(t=>new _f(t)),"PRIVATE")),np(new Hd("heartbeat",(t=>new vp(t)),"PRIVATE")),up(wf,xf,xp),up(wf,xf,"esm2017"),up("fire-js","");up("firebase","11.0.2","app");function Sp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function kp(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Op=kp,Ep=new Nd("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Tp=new ef("@firebase/auth");function Pp(t){if(Tp.logLevel<=Zd.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];Tp.error(`Auth (${sp}): ${t}`,...n)}}function Cp(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Mp(t,...n)}function Ap(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Mp(t,...n)}function jp(t,e,n){const r=Object.assign(Object.assign({},Op()),{[e]:n});return new Nd("auth","Firebase",r).create(e,{appName:t.name})}function Ip(t){return jp(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mp(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if("string"!==typeof t){const e=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(e,...r)}return Ep.create(t,...n)}function Np(t,e){if(!t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Mp(e,...r)}}function Dp(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pp(e),new Error(e)}function Lp(t,e){t||Dp(e)}function Rp(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function zp(){return"http:"===Fp()||"https:"===Fp()}function Fp(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function Bp(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(zp()||function(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class Up{constructor(t,e){this.shortDelay=t,this.longDelay=e,Lp(e>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ad())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Bp()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vp(t,e){Lp(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Wp{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Dp("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Dp("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Dp("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Hp={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$p=new Up(3e4,6e4);function qp(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Gp(t,e,n,r){return Kp(t,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===e?o=r:i={body:JSON.stringify(r)});const a=zd(Object.assign({key:t.config.apiKey},o)).slice(1),s=await t._getAdditionalHeaders();s["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode);const l=Object.assign({method:e,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Wp.fetch()(Yp(t,t.config.apiHost,n,a),l)}))}async function Kp(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Hp),e);try{const e=new Qp(t),i=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Jp(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const e=i.ok?o.errorMessage:o.error.message,[n,a]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Jp(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Jp(t,"email-already-in-use",o);if("USER_DISABLED"===n)throw Jp(t,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw jp(t,s,a);Cp(t,s)}}catch(UK){if(UK instanceof Md)throw UK;Cp(t,"network-request-failed",{message:String(UK)})}}async function Zp(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Gp(t,e,n,r,i);return"mfaPendingCredential"in o&&Cp(t,"multi-factor-auth-required",{_serverResponse:o}),o}function Yp(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Vp(t.config,i):`${t.config.apiScheme}://${i}`}function Xp(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Qp{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(Ap(this.auth,"network-request-failed"))),$p.get())}))}}function Jp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ap(t,e,r);return i.customData._tokenResponse=n,i}function tm(t){return void 0!==t&&void 0!==t.enterprise}class em{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return Xp(e.enforcementState);return null}isProviderEnabled(t){return"ENFORCE"===this.getProviderEnforcementState(t)||"AUDIT"===this.getProviderEnforcementState(t)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nm(t,e){return Gp(t,"GET","/v2/recaptchaConfig",qp(t,e))}async function rm(t,e){return Gp(t,"POST","/v1/accounts:lookup",e)}function im(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(UK){}}function om(t){return 1e3*Number(t)}function am(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Pp("JWT malformed, contained fewer than 3 sections"),null;try{const t=Sd(n);return t?JSON.parse(t):(Pp("Failed to decode base64 JWT payload"),null)}catch(UK){return Pp("Caught error parsing JWT payload as JSON",null===UK||void 0===UK?void 0:UK.toString()),null}}function sm(t){const e=am(t);return Np(e,"internal-error"),Np("undefined"!==typeof e.exp,"internal-error"),Np("undefined"!==typeof e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}async function lm(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return e;try{return await e}catch(UK){throw UK instanceof Md&&function(t){let{code:e}=t;return"auth/user-disabled"===e||"auth/user-token-expired"===e}(UK)&&t.auth.currentUser===t&&await t.auth.signOut(),UK}}class cm{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(UK){return void("auth/network-request-failed"===(null===UK||void 0===UK?void 0:UK.code)&&this.schedule(!0))}this.schedule()}}class um{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=im(this.lastLoginAt),this.creationTime=im(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await lm(t,rm(n,{idToken:r}));Np(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=(null===(e=o.providerUserInfo)||void 0===e?void 0:e.length)?dm(o.providerUserInfo):[],s=(l=t.providerData,c=a,[...l.filter((t=>!c.some((e=>e.providerId===t.providerId)))),...c]);var l,c;const u=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),d=!!u&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new um(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,f)}function dm(t){return t.map((t=>{var{providerId:e}=t,n=Sp(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class fm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Np(t.idToken,"internal-error"),Np("undefined"!==typeof t.idToken,"internal-error"),Np("undefined"!==typeof t.refreshToken,"internal-error");const e="expiresIn"in t&&"undefined"!==typeof t.expiresIn?Number(t.expiresIn):sm(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Np(0!==t.length,"internal-error");const e=sm(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Np(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(t,e){const n=await Kp(t,{},(async()=>{const n=zd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=Yp(t,r,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Wp.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:r,expirationTime:i}=e,o=new fm;return n&&(Np("string"===typeof n,"internal-error",{appName:t}),o.refreshToken=n),r&&(Np("string"===typeof r,"internal-error",{appName:t}),o.accessToken=r),i&&(Np("number"===typeof i,"internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new fm,this.toJSON())}_performRefresh(){return Dp("not implemented")}}function pm(t,e){Np("string"===typeof t||"undefined"===typeof t,"internal-error",{appName:e})}class mm{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,i=Sp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new um(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await lm(this,this.stsTokenManager.getToken(this.auth,t));return Np(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Wd(t),r=await n.getIdToken(e),i=am(r);Np(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:im(om(i.auth_time)),issuedAtTime:im(om(i.iat)),expirationTime:im(om(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=Wd(t);await hm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(Np(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new mm(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Np(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await hm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ip(this.auth.app))return Promise.reject(Ip(this.auth));const t=await this.getIdToken();return await lm(this,async function(t,e){return Gp(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,i,o,a,s,l,c;const u=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,d=null!==(i=e.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=e.photoURL)&&void 0!==o?o:void 0,p=null!==(a=e.tenantId)&&void 0!==a?a:void 0,m=null!==(s=e._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=e.createdAt)&&void 0!==l?l:void 0,y=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:_,providerData:w,stsTokenManager:x}=e;Np(v&&x,t,"internal-error");const S=fm.fromJSON(this.name,x);Np("string"===typeof v,t,"internal-error"),pm(u,t.name),pm(h,t.name),Np("boolean"===typeof b,t,"internal-error"),Np("boolean"===typeof _,t,"internal-error"),pm(d,t.name),pm(f,t.name),pm(p,t.name),pm(m,t.name),pm(g,t.name),pm(y,t.name);const k=new mm({uid:v,auth:t,email:h,emailVerified:b,displayName:u,isAnonymous:_,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(k.providerData=w.map((t=>Object.assign({},t)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new fm;r.updateFromServerResponse(e);const i=new mm({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return await hm(i),i}static async _fromGetAccountInfoResponse(t,e,n){const r=e.users[0];Np(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?dm(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new fm;a.updateFromIdToken(n);const s=new mm({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new um(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const gm=new Map;function ym(t){Lp(t instanceof Function,"Expected a class definition");let e=gm.get(t);return e?(Lp(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gm.set(t,e),e)}class vm{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}vm.type="NONE";const bm=vm;function _m(t,e,n){return`firebase:${t}:${e}:${n}`}class wm{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=_m(this.userKey,r.apiKey,i),this.fullPersistenceKey=_m("persistence",r.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?mm._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!e.length)return new wm(ym(bm),t,n);const r=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let i=r[0]||ym(bm);const o=_m(n,t.config.apiKey,t.name);let a=null;for(const c of e)try{const e=await c._get(o);if(e){const n=mm._fromJSON(t,e);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter((t=>t._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(e.map((async t=>{if(t!==i)try{await t._remove(o)}catch(l){}}))),new wm(i,t,n)):new wm(i,t,n)}}function xm(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Em(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Sm(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Pm(e))return"Blackberry";if(Cm(e))return"Webos";if(km(e))return"Safari";if((e.includes("chrome/")||Om(e))&&!e.includes("edge/"))return"Chrome";if(Tm(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Sm(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ad();return/firefox\//i.test(t)}function km(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ad()).toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Om(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ad();return/crios\//i.test(t)}function Em(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ad();return/iemobile/i.test(t)}function Tm(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ad();return/android/i.test(t)}function Pm(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ad();return/blackberry/i.test(t)}function Cm(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ad();return/webos/i.test(t)}function Am(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ad();return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jm(){return function(){const t=Ad();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}function Im(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ad();return Am(t)||Tm(t)||Cm(t)||Pm(t)||/windows phone/i.test(t)||Em(t)}function Mm(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(t){case"Browser":e=xm(Ad());break;case"Worker":e=`${xm(Ad())}-${t}`;break;default:e=t}const r=n.length?n.join(","):"FirebaseCore-web";return`${e}/JsCore/${sp}/${r}`}class Nm{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise(((n,r)=>{try{n(t(e))}catch(UK){r(UK)}}));n.onAbort=e,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(UK){e.reverse();for(const r of e)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===UK||void 0===UK?void 0:UK.message})}}}class Dm{constructor(t){var e,n,r,i;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=o.minPasswordLength)&&void 0!==e?e:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=t.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=t.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,s),this.validatePasswordCharacterOptions(t,s),s.isValid&&(s.isValid=null===(e=s.meetsMinPasswordLength)||void 0===e||e),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){let n;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let r=0;r<t.length;r++)n=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}class Lm{constructor(t,e,n,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zm(this),this.idTokenSubscription=new zm(this),this.beforeStateQueue=new Nm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ep,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ym(e)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await wm.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(UK){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUserFromIdToken(t){try{const e=await rm(this,{idToken:t}),n=await mm._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(ip(this.app)){const t=this.app.settings.authIdToken;return t?new Promise((e=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(t).then(e,e)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(t);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(UK){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(UK)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Np(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(UK){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await hm(t)}catch(UK){if("auth/network-request-failed"!==(null===UK||void 0===UK?void 0:UK.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ip(this.app))return Promise.reject(Ip(this));const e=t?Wd(t):null;return e&&Np(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return t&&Np(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return ip(this.app)?Promise.reject(Ip(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ip(this.app)?Promise.reject(Ip(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(ym(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await async function(t){return Gp(t,"GET","/v2/passwordPolicy",qp(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),e=new Dm(t);null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Nd("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise(((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged((()=>{n(),t()}),e)}}))}async revokeAccessToken(t){if(this.currentUser){const e={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(e.tenantId=this.tenantId),await async function(t,e){return Gp(t,"POST","/v2/accounts:revokeToken",qp(t,e))}(this,e)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ym(t)||this._popupRedirectResolver;Np(e,this,"argument-error"),this.redirectPersistenceManager=await wm.create(this,[ym(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};const i="function"===typeof e?e:e.next.bind(e);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Np(a,this,"internal-error"),a.then((()=>{o||i(this.currentUser)})),"function"===typeof e){const i=t.addObserver(e,n,r);return()=>{o=!0,i()}}{const n=t.addObserver(e);return()=>{o=!0,n()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Np(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Mm(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;const e=await(null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken());return(null===e||void 0===e?void 0:e.error)&&function(t){if(Tp.logLevel<=Zd.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];Tp.warn(`Auth (${sp}): ${t}`,...n)}}(`Error while retrieving App Check token: ${e.error}`),null===e||void 0===e?void 0:e.token}}function Rm(t){return Wd(t)}class zm{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(t,e){const n=new Ud(t,e);return n.subscribe.bind(n)}((t=>this.observer=t))}get next(){return Np(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bm(t){return Fm.loadJS(t)}function Um(t){return`__${t}${Math.floor(1e6*Math.random())}`}class Vm{constructor(){this.enterprise=new Wm}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class Wm{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const Hm="NO_RECAPTCHA";class $m{constructor(t){this.type="recaptcha-enterprise",this.auth=Rm(t)}async verify(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e,n,r){const i=window.grecaptcha;tm(i)?i.enterprise.ready((()=>{i.enterprise.execute(e,{action:t}).then((t=>{n(t)})).catch((()=>{n(Hm)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Vm).execute("siteKey",{action:"verify"})}return new Promise(((t,r)=>{(async function(t){if(!e){if(null==t.tenantId&&null!=t._agentRecaptchaConfig)return t._agentRecaptchaConfig.siteKey;if(null!=t.tenantId&&void 0!==t._tenantRecaptchaConfigs[t.tenantId])return t._tenantRecaptchaConfigs[t.tenantId].siteKey}return new Promise((async(e,n)=>{nm(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new em(r);return null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,e(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((t=>{n(t)}))}))})(this.auth).then((i=>{if(!e&&tm(window.grecaptcha))n(i,t,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let e=Fm.recaptchaEnterpriseScript;0!==e.length&&(e+=i),Bm(e).then((()=>{n(i,t,r)})).catch((t=>{r(t)}))}})).catch((t=>{r(t)}))}))}}async function qm(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=new $m(t);let a;if(i)a=Hm;else try{a=await o.verify(n)}catch(l){a=await o.verify(n,!0)}const s=Object.assign({},e);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const t=s.phoneEnrollmentInfo.phoneNumber,e=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:t,recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const t=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Gm(t,e,n,r,i){var o,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(o=t._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await qm(t,e,n,"getOobCode"===n);return r(t,i)}return r(t,e).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await qm(t,e,n,"getOobCode"===n);return r(t,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(a=t._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await qm(t,e,n);return r(t,i).catch((async i=>{var o;if("AUDIT"===(null===(o=t._getRecaptchaConfig())||void 0===o?void 0:o.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await qm(t,e,n,!1,!0);return r(t,i)}return Promise.reject(i)}))}{const i=await qm(t,e,n,!1,!0);return r(t,i)}}return Promise.reject(i+" provider is not supported.")}async function Km(t){const e=Rm(t),n=await nm(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new em(n);if(null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()){new $m(e).verify()}}function Zm(t,e,n){const r=Rm(t);Np(r._canInitEmulator,r,"emulator-config-failed"),Np(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Ym(e),{host:a,port:s}=function(t){const e=Ym(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const t=i[1];return{host:t,port:Xm(r.substr(t.length+1))}}{const[t,e]=r.split(":");return{host:t,port:Xm(e)}}}(e),l=null===s?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}function Ym(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Xm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Qm{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Dp("not implemented")}_getIdTokenResponse(t){return Dp("not implemented")}_linkToIdToken(t,e){return Dp("not implemented")}_getReauthenticationResolver(t){return Dp("not implemented")}}async function Jm(t,e){return Gp(t,"POST","/v1/accounts:signUp",e)}async function tg(t,e){return Zp(t,"POST","/v1/accounts:signInWithPassword",qp(t,e))}class eg extends Qm{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new eg(t,e,"password")}static _fromEmailAndCode(t,e){return new eg(t,e,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t;if((null===e||void 0===e?void 0:e.email)&&(null===e||void 0===e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return Gm(t,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",tg,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(t,e){return Zp(t,"POST","/v1/accounts:signInWithEmailLink",qp(t,e))}(t,{email:this._email,oobCode:this._password});default:Cp(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return Gm(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Jm,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(t,e){return Zp(t,"POST","/v1/accounts:signInWithEmailLink",qp(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:Cp(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function ng(t,e){return Zp(t,"POST","/v1/accounts:signInWithIdp",qp(t,e))}class rg extends Qm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new rg(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Cp("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,i=Sp(e,["providerId","signInMethod"]);if(!n||!r)return null;const o=new rg(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){return ng(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,ng(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,ng(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=zd(e)}return t}}async function ig(t,e){return Gp(t,"POST","/v1/accounts:sendVerificationCode",qp(t,e))}const og={USER_NOT_FOUND:"user-not-found"};class ag extends Qm{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new ag({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new ag({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return Zp(t,"POST","/v1/accounts:signInWithPhoneNumber",qp(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await Zp(t,"POST","/v1/accounts:signInWithPhoneNumber",qp(t,e));if(n.temporaryProof)throw Jp(t,"account-exists-with-different-credential",n);return n}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return Zp(t,"POST","/v1/accounts:signInWithPhoneNumber",qp(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),og)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"===typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}=t;return n||e||r||i?new ag({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class sg{constructor(t){var e,n,r,i,o,a;const s=Fd(Bd(t)),l=null!==(e=s.apiKey)&&void 0!==e?e:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);Np(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(t){const e=function(t){const e=Fd(Bd(t)).link,n=e?Fd(Bd(e)).deep_link_id:null,r=Fd(Bd(t)).deep_link_id;return(r?Fd(Bd(r)).link:null)||r||n||e||t}(t);try{return new sg(e)}catch(n){return null}}}class lg{constructor(){this.providerId=lg.PROVIDER_ID}static credential(t,e){return eg._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=sg.parseLink(e);return Np(n,"argument-error"),eg._fromEmailAndCode(t,n.code,n.tenantId)}}lg.PROVIDER_ID="password",lg.EMAIL_PASSWORD_SIGN_IN_METHOD="password",lg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class cg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ug extends cg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class hg extends ug{constructor(){super("facebook.com")}static credential(t){return rg._fromParams({providerId:hg.PROVIDER_ID,signInMethod:hg.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hg.credentialFromTaggedObject(t)}static credentialFromError(t){return hg.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return hg.credential(e.oauthAccessToken)}catch(n){return null}}}hg.FACEBOOK_SIGN_IN_METHOD="facebook.com",hg.PROVIDER_ID="facebook.com";class dg extends ug{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return rg._fromParams({providerId:dg.PROVIDER_ID,signInMethod:dg.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return dg.credentialFromTaggedObject(t)}static credentialFromError(t){return dg.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return dg.credential(n,r)}catch(i){return null}}}dg.GOOGLE_SIGN_IN_METHOD="google.com",dg.PROVIDER_ID="google.com";class fg extends ug{constructor(){super("github.com")}static credential(t){return rg._fromParams({providerId:fg.PROVIDER_ID,signInMethod:fg.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fg.credentialFromTaggedObject(t)}static credentialFromError(t){return fg.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return fg.credential(e.oauthAccessToken)}catch(n){return null}}}fg.GITHUB_SIGN_IN_METHOD="github.com",fg.PROVIDER_ID="github.com";class pg extends ug{constructor(){super("twitter.com")}static credential(t,e){return rg._fromParams({providerId:pg.PROVIDER_ID,signInMethod:pg.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return pg.credentialFromTaggedObject(t)}static credentialFromError(t){return pg.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return pg.credential(n,r)}catch(i){return null}}}pg.TWITTER_SIGN_IN_METHOD="twitter.com",pg.PROVIDER_ID="twitter.com";class mg{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await mm._fromIdTokenResponse(t,n,r),o=gg(n);return new mg({user:i,providerId:o,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const r=gg(n);return new mg({user:t,providerId:r,_tokenResponse:n,operationType:e})}}function gg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class yg extends Md{constructor(t,e,n,r){var i;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,yg.prototype),this.customData={appName:t.name,tenantId:null!==(i=t.tenantId)&&void 0!==i?i:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new yg(t,e,n,r)}}function vg(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw yg._fromErrorAndOperation(t,n,e,r);throw n}))}async function bg(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await lm(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return mg._forOperation(t,"link",r)}async function _g(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=t;if(ip(r.app))return Promise.reject(Ip(r));const i="reauthenticate";try{const o=await lm(t,vg(r,i,e,t),n);Np(o.idToken,r,"internal-error");const a=am(o.idToken);Np(a,r,"internal-error");const{sub:s}=a;return Np(t.uid===s,r,"user-mismatch"),mg._forOperation(t,i,o)}catch(UK){throw"auth/user-not-found"===(null===UK||void 0===UK?void 0:UK.code)&&Cp(r,"user-mismatch"),UK}}async function wg(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ip(t.app))return Promise.reject(Ip(t));const r="signIn",i=await vg(t,r,e),o=await mg._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function xg(t,e){return wg(Rm(t),e)}async function Sg(t){const e=Rm(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function kg(t,e){return Gp(t,"POST","/v2/accounts/mfaEnrollment:start",qp(t,e))}new WeakMap;const Og="__sak";class Eg{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Og,"1"),this.storage.removeItem(Og),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}class Tg extends Eg{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Im(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),r=this.localCache[e];n!==r&&t(e,r,n)}}onStorageEvent(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},i=this.storage.getItem(n);jm()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,10):r()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Tg.type="LOCAL";const Pg=Tg;class Cg extends Eg{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Cg.type="SESSION";const Ag=Cg;class jg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new jg(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:r,data:i}=e.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async t=>t(e.origin,i))),s=await function(t){return Promise.all(t.map((async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}})))}(a);e.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ig(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}jg.receivers=[];class Mg{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=Ig("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(t){const e=t;if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(e.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Ng(){return window}function Dg(){return"undefined"!==typeof Ng().WorkerGlobalScope&&"function"===typeof Ng().importScripts}const Lg="firebaseLocalStorageDb",Rg="firebaseLocalStorage",zg="fbase_key";class Fg{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function Bg(t,e){return t.transaction([Rg],e?"readwrite":"readonly").objectStore(Rg)}function Ug(){const t=indexedDB.open(Lg,1);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(Rg,{keyPath:zg})}catch(UK){n(UK)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(Rg)?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase(Lg);return new Fg(t).toPromise()}(),e(await Ug()))}))}))}async function Vg(t,e,n){const r=Bg(t,!0).put({[zg]:e,value:n});return new Fg(r).toPromise()}function Wg(t,e){const n=Bg(t,!0).delete(e);return new Fg(n).toPromise()}class Hg{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ug()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(UK){if(e++>3)throw UK;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Dg()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jg._getInstance(Dg()?self:null),this.receiver._subscribe("keyChanged",(async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)}))),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Mg(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&function(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ug();return await Vg(t,Og,"1"),await Wg(t,Og),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>Vg(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>async function(t,e){const n=Bg(t,!1).get(e),r=await new Fg(n).toPromise();return void 0===r?null:r.value}(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>Wg(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=Bg(t,!1).getAll();return new Fg(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;if(0!==t.length)for(const{fbase_key:r,value:i}of t)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Hg.type="LOCAL";const $g=Hg;function qg(t,e){return Gp(t,"POST","/v2/accounts/mfaSignIn:start",qp(t,e))}Um("rcb"),new Up(3e4,6e4);const Gg="recaptcha";async function Kg(t,e,n){var r;if(!t._getRecaptchaConfig())try{await Km(t)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof e?{phoneNumber:e}:e,"session"in i){const e=i.session;if("phoneNumber"in i){Np("enroll"===e.type,t,"internal-error");const r={idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},o=Gm(t,r,"mfaSmsEnrollment",(async(t,e)=>{if(e.phoneEnrollmentInfo.captchaResponse===Hm){Np((null===n||void 0===n?void 0:n.type)===Gg,t,"argument-error");return kg(t,await Zg(t,e,n))}return kg(t,e)}),"PHONE_PROVIDER");return(await o.catch((t=>Promise.reject(t)))).phoneSessionInfo.sessionInfo}{Np("signin"===e.type,t,"internal-error");const o=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Np(o,t,"missing-multi-factor-info");const a={mfaPendingCredential:e.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=Gm(t,a,"mfaSmsSignIn",(async(t,e)=>{if(e.phoneSignInInfo.captchaResponse===Hm){Np((null===n||void 0===n?void 0:n.type)===Gg,t,"argument-error");return qg(t,await Zg(t,e,n))}return qg(t,e)}),"PHONE_PROVIDER");return(await s.catch((t=>Promise.reject(t)))).phoneResponseInfo.sessionInfo}}{const e={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Gm(t,e,"sendVerificationCode",(async(t,e)=>{if(e.captchaResponse===Hm){Np((null===n||void 0===n?void 0:n.type)===Gg,t,"argument-error");return ig(t,await Zg(t,e,n))}return ig(t,e)}),"PHONE_PROVIDER");return(await r.catch((t=>Promise.reject(t)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Zg(t,e,n){Np(n.type===Gg,t,"argument-error");const r=await n.verify();Np("string"===typeof r,t,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const t=i.phoneEnrollmentInfo.phoneNumber,e=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,o=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:t,recaptchaToken:r,captchaResponse:e,clientType:n,recaptchaVersion:o}}),i}if("phoneSignInInfo"in i){const t=i.phoneSignInInfo.captchaResponse,e=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:t,clientType:e,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Yg{constructor(t){this.providerId=Yg.PROVIDER_ID,this.auth=Rm(t)}verifyPhoneNumber(t,e){return Kg(this.auth,t,Wd(e))}static credential(t,e){return ag._fromVerification(t,e)}static credentialFromResult(t){const e=t;return Yg.credentialFromTaggedObject(e)}static credentialFromError(t){return Yg.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?ag._fromTokenResponse(n,r):null}}function Xg(t,e){return e?ym(e):(Np(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}Yg.PROVIDER_ID="phone",Yg.PHONE_SIGN_IN_METHOD="phone";class Qg extends Qm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ng(t,this._buildIdpRequest())}_linkToIdToken(t,e){return ng(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return ng(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Jg(t){return wg(t.auth,new Qg(t),t.bypassAuthState)}function ty(t){const{auth:e,user:n}=t;return Np(n,e,"internal-error"),_g(n,new Qg(t),t.bypassAuthState)}async function ey(t){const{auth:e,user:n}=t;return Np(n,e,"internal-error"),bg(n,new Qg(t),t.bypassAuthState)}class ny{constructor(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(UK){this.reject(UK)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=t;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:e,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(UK){this.reject(UK)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Jg;case"linkViaPopup":case"linkViaRedirect":return ey;case"reauthViaPopup":case"reauthViaRedirect":return ty;default:Cp(this.auth,"internal-error")}}resolve(t){Lp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Lp(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ry=new Up(2e3,1e4);class iy extends ny{constructor(t,e,n,r,i){super(t,e,r,i),this.provider=n,this.authWindow=null,this.pollId=null,iy.currentPopupAction&&iy.currentPopupAction.cancel(),iy.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Np(t,this.auth,"internal-error"),t}async onExecution(){Lp(1===this.filter.length,"Popup operations only handle one event");const t=Ig();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(Ap(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Ap(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,iy.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ap(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(t,ry.get())};t()}}iy.currentPopupAction=null;const oy="pendingRedirect",ay=new Map;class sy extends ny{constructor(t,e){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let t=ay.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=uy(e),r=cy(t);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(e)}catch(UK){t=()=>Promise.reject(UK)}ay.set(this.auth._key(),t)}return this.bypassAuthState||ay.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ly(t,e){ay.set(t._key(),e)}function cy(t){return ym(t._redirectPersistence)}function uy(t){return _m(oy,t.config.apiKey,t.name)}async function hy(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ip(t.app))return Promise.reject(Ip(t));const r=Rm(t),i=Xg(r,e),o=new sy(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}class dy{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return py(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!py(t)){const r=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(Ap(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fy(t))}saveEventToCache(t){this.cachedEventUids.add(fy(t)),this.lastProcessedEventTime=Date.now()}}function fy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function py(t){let{type:e,error:n}=t;return"unknown"===e&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const my=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gy=/^https?/;async function yy(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t){return Gp(t,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(t);for(const r of e)try{if(vy(r))return}catch(n){}Cp(t,"unauthorized-domain")}function vy(t){const e=Rp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return""===i.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!gy.test(n))return!1;if(my.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const by=new Up(3e4,6e4);function _y(){const t=Ng().___jsl;if(null===t||void 0===t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}function wy(t){return new Promise(((e,n)=>{var r,i,o;function a(){_y(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_y(),n(Ap(t,"network-request-failed"))},timeout:by.get()})}if(null===(i=null===(r=Ng().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(o=Ng().gapi)||void 0===o?void 0:o.load)){const e=Um("iframefcb");return Ng()[e]=()=>{gapi.load?a():n(Ap(t,"network-request-failed"))},Bm(`${Fm.gapiScript}?onload=${e}`).catch((t=>n(t)))}a()}})).catch((t=>{throw xy=null,t}))}let xy=null;const Sy=new Up(5e3,15e3),ky="__/auth/iframe",Oy="emulator/auth/iframe",Ey={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ty=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Py(t){const e=t.config;Np(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Vp(e,Oy):`https://${t.config.authDomain}/${ky}`,r={apiKey:e.apiKey,appName:t.name,v:sp},i=Ty.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${zd(r).slice(1)}`}async function Cy(t){const e=await function(t){return xy=xy||wy(t),xy}(t),n=Ng().gapi;return Np(n,t,"internal-error"),e.open({where:document.body,url:Py(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ey,dontclear:!0},(e=>new Promise((async(n,r)=>{await e.restyle({setHideOnLeave:!1});const i=Ap(t,"network-request-failed"),o=Ng().setTimeout((()=>{r(i)}),Sy.get());function a(){Ng().clearTimeout(o),n(e)}e.ping(a).then(a,(()=>{r(i)}))}))))}const Ay={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jy{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(UK){}}}function Iy(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},Ay),{width:r.toString(),height:i.toString(),top:o,left:a}),c=Ad().toLowerCase();n&&(s=Om(c)?"_blank":n),Sm(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((t,e)=>{let[n,r]=e;return`${t}${n}=${r},`}),"");if(function(){var t;return Am(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ad())&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==s)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",s),new jy(null);const h=window.open(e||"",s,u);Np(h,t,"popup-blocked");try{h.focus()}catch(UK){}return new jy(h)}const My="__/auth/handler",Ny="emulator/auth/handler",Dy=encodeURIComponent("fac");async function Ly(t,e,n,r,i,o){Np(t.config.authDomain,t,"auth-domain-config-required"),Np(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:sp,eventId:i};if(e instanceof cg){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(o||{}))a[t]=e}if(e instanceof ug){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(a.scopes=t.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await t._getAppCheckToken(),c=l?`#${Dy}=${encodeURIComponent(l)}`:"";return`${function(t){let{config:e}=t;if(!e.emulator)return`https://${e.authDomain}/${My}`;return Vp(e,Ny)}(t)}?${zd(s).slice(1)}${c}`}const Ry="webStorageSupport";const zy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ag,this._completeRedirectFn=hy,this._overrideRedirectResult=ly}async _openPopup(t,e,n,r){var i;Lp(null===(i=this.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Iy(t,await Ly(t,e,n,Rp(),r),Ig())}async _openRedirect(t,e,n,r){await this._originValidation(t);return function(t){Ng().location.href=t}(await Ly(t,e,n,Rp(),r)),new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(Lp(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch((()=>{delete this.eventManagers[e]})),n}async initAndGetManager(t){const e=await Cy(t),n=new dy(t);return e.register("authEvent",(e=>{Np(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");return{status:n.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ry,{type:Ry},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ry];void 0!==i&&e(!!i),Cp(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=yy(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Im()||km()||Am()}};var Fy="@firebase/auth",By="1.8.1";class Uy{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(t)}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{t((null===e||void 0===e?void 0:e.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Np(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Vy=Pd("authIdTokenMaxAge")||300;let Wy=null;var Hy;Fm={loadJS:t=>new Promise(((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=t=>{const e=Ap("internal-error");e.customData=t,n(e)},r.type="text/javascript",r.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Hy="Browser",np(new Hd("auth",((t,e)=>{let{options:n}=e;const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;Np(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:Hy,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mm(Hy)},c=new Lm(r,i,o,l);return function(t,e){const n=(null===e||void 0===e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ym);(null===e||void 0===e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null===e||void 0===e?void 0:e.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{t.getProvider("auth-internal").initialize()}))),np(new Hd("auth-internal",(t=>(t=>new Uy(t))(Rm(t.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),up(Fy,By,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Hy)),up(Fy,By,"esm2017");var $y,qy,Gy="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ky={};(function(){var t;function e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(t,e,n){n||(n=0);var r=Array(16);if("string"===typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],a=e+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=(n=(i=(o=(e=n+(a<<7&4294967295|a>>>25))+((a=o+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=e+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=e+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=e+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=e+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=e+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(e^n&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=e+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=e+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^e^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=e+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=e+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(e^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(e=n+((a=e+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(e^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}function r(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=0|t[i];r&&o==e||(n[i]=o,r=!1)}this.g=n}!function(t,e){function n(){}n.prototype=e.prototype,t.D=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.C=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}(e,(function(){this.blockSize=-1})),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.u=function(t,e){void 0===e&&(e=t.length);for(var r=e-this.blockSize,i=this.B,o=this.h,a=0;a<e;){if(0==o)for(;a<=r;)n(this,t,a),a+=this.blockSize;if("string"===typeof t){for(;a<e;)if(i[o++]=t.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<e;)if(i[o++]=t[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=e},e.prototype.v=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.o;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.u(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var i={};function o(t){return-128<=t&&128>t?function(t,e){var n=i;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(t){return new r([0|t],0>t?-1:0)})):new r([0|t],0>t?-1:0)}function a(t){if(isNaN(t)||!isFinite(t))return s;if(0>t)return d(a(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=4294967296;return new r(e,0)}var s=o(0),l=o(1),c=o(16777216);function u(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function h(t){return-1==t.h}function d(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new r(n,~t.h).add(l)}function f(t,e){return t.add(d(e))}function p(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function m(t,e){this.g=t,this.h=e}function g(t,e){if(u(e))throw Error("division by zero");if(u(t))return new m(s,s);if(h(t))return e=g(d(t),e),new m(d(e.g),d(e.h));if(h(e))return e=g(t,d(e)),new m(d(e.g),e.h);if(30<t.g.length){if(h(t)||h(e))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=e;0>=r.l(t);)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=o.add(r);0>=c.l(t)&&(i=i.add(n),o=c),r=v(r,1),n=v(n,1)}return e=f(t,i.j(e)),new m(i,e)}for(i=s;0<=t.l(e);){for(n=Math.max(1,Math.floor(t.m()/e.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=a(n)).j(e);h(c)||0<c.l(t);)c=(o=a(n-=r)).j(e);u(o)&&(o=l),i=i.add(o),t=f(t,c)}return new m(i,t)}function y(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.i(i)<<1|t.i(i-1)>>>31;return new r(n,t.h)}function v(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,o=[],a=0;a<i;a++)o[a]=0<e?t.i(a+n)>>>e|t.i(a+n+1)<<32-e:t.i(a+n);return new r(o,t.h)}(t=r.prototype).m=function(){if(h(this))return-d(this).m();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.i(n);t+=(0<=r?r:4294967296+r)*e,e*=4294967296}return t},t.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(u(this))return"0";if(h(this))return"-"+d(this).toString(t);for(var e=a(Math.pow(t,6)),n=this,r="";;){var i=g(n,e).g,o=((0<(n=f(n,i.j(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},t.i=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},t.l=function(t){return h(t=f(this,t))?-1:u(t)?0:1},t.abs=function(){return h(this)?d(this):this},t.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,o=0;o<=e;o++){var a=i+(65535&this.i(o))+(65535&t.i(o)),s=(a>>>16)+(this.i(o)>>>16)+(t.i(o)>>>16);i=s>>>16,a&=65535,s&=65535,n[o]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},t.j=function(t){if(u(this)||u(t))return s;if(h(this))return h(t)?d(this).j(d(t)):d(d(this).j(t));if(h(t))return d(this.j(d(t)));if(0>this.l(c)&&0>t.l(c))return a(this.m()*t.m());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<t.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),m=t.i(o)>>>16,g=65535&t.i(o);n[2*i+2*o]+=f*g,p(n,2*i+2*o),n[2*i+2*o+1]+=l*g,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,p(n,2*i+2*o+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new r(n,0)},t.A=function(t){return g(this,t).h},t.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.i(i)&t.i(i);return new r(n,this.h&t.h)},t.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.i(i)|t.i(i);return new r(n,this.h|t.h)},t.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.i(i)^t.i(i);return new r(n,this.h^t.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,qy=Ky.Md5=e,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return d(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=s,o=0;o<e.length;o+=8){var l=Math.min(8,e.length-o),c=parseInt(e.substring(o,o+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},$y=Ky.Integer=r}).apply("undefined"!==typeof Gy?Gy:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Zy,Yy,Xy,Qy,Jy,tv,ev,nv,rv="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},iv={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};var n=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof rv&&rv];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(t,r){if(r)t:{var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];if(!(a in i))break t;i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(t){return t||function(){return function(t,e){t instanceof String&&(t+="");var n=0,r=!1,i={next:function(){if(!r&&n<t.length){var i=n++;return{value:e(i,t[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(t,e){return e}))}}));var r=r||{},i=this||self;function o(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function a(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function s(t,e,n){return t.call.apply(t.bind,arguments)}function l(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function c(t,e,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function h(t,e){function n(){}n.prototype=e.prototype,t.aa=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Qb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function d(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function f(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(o(e)){const n=t.length||0,r=e.length||0;t.length=n+r;for(let i=0;i<r;i++)t[n+i]=e[i]}else t.push(e)}}function p(t){return/^[\s\xa0]*$/.test(t)}function m(){var t=i.navigator;return t&&(t=t.userAgent)?t:""}function g(t){return g[" "](t),t}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function b(t){const e={};for(const n in t)e[n]=t[n];return e}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let e=0;e<_.length;e++)n=_[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function x(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function S(t){i.setTimeout((()=>{throw t}),0)}function k(){var t=C;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var O=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new E),(t=>t.reset()));class E{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}let T,P=!1,C=new class{constructor(){this.h=this.g=null}add(t,e){const n=O.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const t=i.Promise.resolve(void 0);T=()=>{t.then(j)}};var j=()=>{for(var t;t=k();){try{t.h.call(t.g)}catch(n){S(n)}var e=O;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}P=!1};function I(){this.s=this.s,this.C=this.C}function M(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}I.prototype.s=!1,I.prototype.ma=function(){this.s||(this.s=!0,this.N())},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},M.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};i.addEventListener("test",t,e),i.removeEventListener("test",t,e)}catch(n){}return t}();function D(t,e){if(M.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(y){t:{try{g(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:L[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&D.aa.h.call(this)}}h(D,M);var L={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var R="closure_listenable_"+(1e6*Math.random()|0),z=0;function F(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++z,this.da=this.fa=!1}function B(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function U(t){this.src=t,this.g={},this.h=0}function V(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=Array.prototype.indexOf.call(i,e,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(B(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function W(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.da&&o.listener==e&&o.capture==!!n&&o.ha==r)return i}return-1}U.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=W(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new F(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var H="closure_lm_"+(1e6*Math.random()|0),$={};function q(t,e,n,r,i){if(r&&r.once)return K(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)q(t,e[o],n,r,i);return null}return n=et(n),t&&t[R]?t.K(e,n,a(r)?!!r.capture:!!r,i):G(t,e,n,!1,r,i)}function G(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,l=J(t);if(l||(t[H]=l=new U(t)),(n=l.add(e,n,r,s,o)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}const e=Q;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)N||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(X(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function K(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)K(t,e[o],n,r,i);return null}return n=et(n),t&&t[R]?t.L(e,n,a(r)?!!r.capture:!!r,i):G(t,e,n,!0,r,i)}function Z(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Z(t,e[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=et(n),t&&t[R]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=W(o=t.g[e],n,r,i))&&(B(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=J(t))&&(e=t.g[e.toString()],t=-1,e&&(t=W(e,n,r,i)),(n=-1<t?e[t]:null)&&Y(n))}function Y(t){if("number"!==typeof t&&t&&!t.da){var e=t.src;if(e&&e[R])V(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(X(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=J(e))?(V(n,t),0==n.h&&(n.src=null,e[H]=null)):B(t)}}}function X(t){return t in $?$[t]:$[t]="on"+t}function Q(t,e){if(t.da)t=!0;else{e=new D(e,this);var n=t.listener,r=t.ha||t.src;t.fa&&Y(t),t=n.call(r,e)}return t}function J(t){return(t=t[H])instanceof U?t:null}var tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function et(t){return"function"===typeof t?t:(t[tt]||(t[tt]=function(e){return t.handleEvent(e)}),t[tt])}function nt(){I.call(this),this.i=new U(this),this.M=this,this.F=null}function rt(t,e){var n,r=t.F;if(r)for(n=[];r;r=r.F)n.push(r);if(t=t.M,r=e.type||e,"string"===typeof e)e=new M(e,t);else if(e instanceof M)e.target=e.target||t;else{var i=e;w(e=new M(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=it(a,r,!0,e)&&i}if(i=it(a=e.g=t,r,!0,e)&&i,i=it(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=it(a=e.g=n[o],r,!1,e)&&i}function it(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&V(t.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function ot(t,e,n){if("function"===typeof t)n&&(t=c(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=c(t.handleEvent,t)}return 2147483647<Number(e)?-1:i.setTimeout(t,e||0)}function at(t){t.g=ot((()=>{t.g=null,t.i&&(t.i=!1,at(t))}),t.l);const e=t.h;t.h=null,t.m.apply(null,e)}h(nt,I),nt.prototype[R]=!0,nt.prototype.removeEventListener=function(t,e,n,r){Z(this,t,e,n,r)},nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)B(n[r]);delete e.g[t],e.h--}}this.F=null},nt.prototype.K=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},nt.prototype.L=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};class st extends I{constructor(t,e){super(),this.m=t,this.l=e,this.h=null,this.i=!1,this.g=null}j(t){this.h=arguments,this.g?this.i=!0:at(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lt(t){I.call(this),this.h=t,this.g={}}h(lt,I);var ct=[];function ut(t){v(t.g,(function(t,e){this.g.hasOwnProperty(e)&&Y(t)}),t),t.g={}}lt.prototype.N=function(){lt.aa.N.call(this),ut(this)},lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ht=i.JSON.stringify,dt=i.JSON.parse,ft=class{stringify(t){return i.JSON.stringify(t,void 0)}parse(t){return i.JSON.parse(t,void 0)}};function pt(){}function mt(t){return t.h||(t.h=t.i())}function gt(){}pt.prototype.h=null;var yt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vt(){M.call(this,"d")}function bt(){M.call(this,"c")}h(vt,M),h(bt,M);var _t={},wt=null;function xt(){return wt=wt||new nt}function St(t){M.call(this,_t.La,t)}function kt(t){const e=xt();rt(e,new St(e))}function Ot(t,e){M.call(this,_t.STAT_EVENT,t),this.stat=e}function Et(t){const e=xt();rt(e,new Ot(e,t))}function Tt(t,e){M.call(this,_t.Ma,t),this.size=e}function Pt(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){t()}),e)}function Ct(){this.g=!0}function At(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return ht(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}_t.La="serverreachability",h(St,M),_t.STAT_EVENT="statevent",h(Ot,M),_t.Ma="timingevent",h(Tt,M),Ct.prototype.xa=function(){this.g=!1},Ct.prototype.info=function(){};var jt,It={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Nt(){}function Dt(t,e,n,r){this.j=t,this.i=e,this.l=n,this.R=r||1,this.U=new lt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lt}function Lt(){this.i=null,this.g="",this.h=!1}h(Nt,pt),Nt.prototype.g=function(){return new XMLHttpRequest},Nt.prototype.i=function(){return{}},jt=new Nt;var Rt={},zt={};function Ft(t,e,n){t.L=1,t.v=he(ae(e)),t.m=n,t.P=!0,Bt(t,null)}function Bt(t,e){t.F=Date.now(),Wt(t),t.A=ae(t.v);var n=t.A,r=t.R;Array.isArray(r)||(r=[String(r)]),Oe(n.i,"t",r),t.C=0,n=t.j.J,t.h=new Lt,t.g=fn(t.j,n?e:null,!t.m),0<t.O&&(t.M=new st(c(t.Y,t,t.g),t.O)),e=t.U,n=t.g,r=t.ca;var i="readystatechange";Array.isArray(i)||(i&&(ct[0]=i.toString()),i=ct);for(var o=0;o<i.length;o++){var a=q(n,i[o],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}e=t.H?b(t.H):{},t.m?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),kt(),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.i,t.u,t.A,t.l,t.R,t.m)}function Ut(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.j.Ca)}function Vt(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?zt:(n=Number(e.substring(n,r)),isNaN(n)?Rt:(r+=1)+n>e.length?zt:(e=e.slice(r,r+n),t.C=r+n,e))}function Wt(t){t.S=Date.now()+t.I,Ht(t,t.I)}function Ht(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Pt(c(t.ba,t),e)}function $t(t){t.B&&(i.clearTimeout(t.B),t.B=null)}function qt(t){0==t.j.G||t.J||ln(t.j,t)}function Gt(t){$t(t);var e=t.M;e&&"function"==typeof e.ma&&e.ma(),t.M=null,ut(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ma())}function Kt(t,e){try{var n=t.j;if(0!=n.G&&(n.g==t||Jt(n.h,t)))if(!t.K&&Jt(n.h,t)&&3==n.G){try{var r=n.Da.g.parse(e)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;sn(n),Ye(n)}rn(n),Et(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Pt(c(n.Za,n),6e3));if(1>=Qt(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((t.K||n.g==t)&&sn(n),!p(e))for(i=n.Da.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const e=c[3];null!=e&&(n.la=e,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var o=r.h;o.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(te(o,o.h),o.h=null))}if(r.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.ya=t,ue(r.I,r.D,t))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-t.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=t;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),a.K){ee(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&($t(s),Wt(s)),r.g=a}else nn(r);0<n.i.length&&Qe(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Ze(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}kt()}catch(u){}}Dt.prototype.ca=function(t){t=t.target;const e=this.M;e&&3==$e(t)?e.j():this.Y(t)},Dt.prototype.Y=function(t){try{if(t==this.g)t:{const d=$e(this.g);var e=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||qe(this.g)))){this.J||4!=d||7==e||kt(),$t(this);var n=this.g.Z();this.X=n;e:if(Ut(this)){var r=qe(this.g);t="";var o=r.length,a=4==$e(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Gt(this),qt(this);var s="";break e}this.h.i=new i.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:!(a&&e==o-1)});r.length=0,this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){e:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break e}}u=null}if(!(n=u)){this.o=!1,this.s=3,Et(12),Gt(this),qt(this);break t}At(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kt(this,n)}if(this.P){let t;for(n=!0;!this.J&&this.C<s.length;){if(t=Vt(this,s),t==zt){4==d&&(this.s=4,Et(14),n=!1),At(this.i,this.l,null,"[Incomplete Response]");break}if(t==Rt){this.s=4,Et(15),At(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}At(this.i,this.l,t,null),Kt(this,t)}if(Ut(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=s.length||this.h.h||(this.s=1,Et(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),on(h),h.M=!0,Et(11))}}else At(this.i,this.l,s,"[Invalid Chunked Response]"),Gt(this),qt(this)}else At(this.i,this.l,s,null),Kt(this,s);4==d&&Gt(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,Wt(this)))}else(function(t){const e={};t=(t.g&&2<=$e(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(p(t[r]))continue;var n=x(t[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),Gt(this),qt(this)}}}catch(d){}},Dt.prototype.cancel=function(){this.J=!0,Gt(this)},Dt.prototype.ba=function(){this.B=null;const t=Date.now();0<=t-this.S?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.i,this.A),2!=this.L&&(kt(),Et(17)),Gt(this),this.s=2,qt(this)):Ht(this,this.S-t)};var Zt=class{constructor(t,e){this.g=t,this.map=e}};function Yt(t){this.l=t||10,i.PerformanceNavigationTiming?t=0<(t=i.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Qt(t){return t.h?1:t.g?t.g.size:0}function Jt(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function te(t,e){t.g?t.g.add(e):t.h=e}function ee(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ne(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return d(t.i)}function re(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(o(t)||"string"===typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.na&&"function"==typeof t.na)return t.na();if(!t.V||"function"!=typeof t.V){if("undefined"!==typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!==typeof Set&&t instanceof Set)){if(o(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function(t){if(t.V&&"function"==typeof t.V)return t.V();if("undefined"!==typeof Map&&t instanceof Map||"undefined"!==typeof Set&&t instanceof Set)return Array.from(t.values());if("string"===typeof t)return t.split("");if(o(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],n&&n[a],t)}Yt.prototype.cancel=function(){if(this.i=ne(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var ie=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oe(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof oe){this.h=t.h,se(this,t.j),this.o=t.o,this.g=t.g,le(this,t.s),this.l=t.l;var e=t.i,n=new we;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ce(this,n),this.m=t.m}else t&&(e=String(t).match(ie))?(this.h=!1,se(this,e[1]||"",!0),this.o=de(e[2]||""),this.g=de(e[3]||"",!0),le(this,e[4]),this.l=de(e[5]||"",!0),ce(this,e[6]||"",!0),this.m=de(e[7]||"")):(this.h=!1,this.i=new we(null,this.h))}function ae(t){return new oe(t)}function se(t,e,n){t.j=n?de(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function le(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.s=e}else t.s=null}function ce(t,e,n){e instanceof we?(t.i=e,function(t,e){e&&!t.j&&(xe(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Se(this,e),Oe(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=fe(e,be)),t.i=new we(e,t.h))}function ue(t,e,n){t.i.set(e,n)}function he(t){return ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function de(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fe(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,pe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}oe.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fe(e,ge,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(fe(e,ge,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(fe(n,"/"==n.charAt(0)?ve:ye,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.m)&&t.push("#",fe(n,_e)),t.join("")};var me,ge=/[#\/\?@]/g,ye=/[#\?:]/g,ve=/[#\?]/g,be=/[#\?@]/g,_e=/#/g;function we(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function xe(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Se(t,e){xe(t),e=Ee(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ke(t,e){return xe(t),e=Ee(t,e),t.g.has(e)}function Oe(t,e,n){Se(t,e),0<n.length&&(t.i=null,t.g.set(Ee(t,e),d(n)),t.h+=n.length)}function Ee(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Te(t,e,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function Pe(){this.g=new ft}function Ce(t,e,n){const r=n||"";try{re(t,(function(t,n){let i=t;a(t)&&(i=ht(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(UK){throw e.push(r+"type="+encodeURIComponent("_badmap")),UK}}function Ae(t){this.l=t.Ub||null,this.j=t.eb||!1}function je(t,e){nt.call(this),this.D=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ie(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}function Me(t){t.readyState=4,t.l=null,t.j=null,t.v=null,Ne(t)}function Ne(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function De(t){let e="";return v(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function Le(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=De(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):ue(t,e,n))}function Re(t){nt.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=we.prototype).add=function(t,e){xe(this),this.i=null,t=Ee(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},t.forEach=function(t,e){xe(this),this.g.forEach((function(n,r){n.forEach((function(n){t.call(e,n,r,this)}),this)}),this)},t.na=function(){xe(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let t=0;t<i.length;t++)n.push(e[r])}return n},t.V=function(t){xe(this);let e=[];if("string"===typeof t)ke(this,t)&&(e=e.concat(this.g.get(Ee(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},t.set=function(t,e){return xe(this),this.i=null,ke(this,t=Ee(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),t.push(i)}}return this.i=t.join("&")},h(Ae,pt),Ae.prototype.g=function(){return new je(this.l,this.j)},Ae.prototype.i=(me={},function(){return me}),h(je,nt),(t=je.prototype).open=function(t,e){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=e,this.readyState=1,Ne(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||i).fetch(new Request(this.A,e)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Me(this)),this.readyState=0},t.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ne(this)),this.g&&(this.readyState=3,Ne(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ie(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.v.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Me(this):Ne(this),3==this.readyState&&Ie(this)}},t.Ra=function(t){this.g&&(this.response=this.responseText=t,Me(this))},t.Qa=function(t){this.g&&(this.response=t,Me(this))},t.ga=function(){this.g&&Me(this)},t.setRequestHeader=function(t,e){this.u.append(t,e)},t.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(je.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}}),h(Re,nt);var ze=/^https?$/i,Fe=["POST","PUT"];function Be(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.m=5,Ue(t),We(t)}function Ue(t){t.A||(t.A=!0,rt(t,"complete"),rt(t,"error"))}function Ve(t){if(t.h&&"undefined"!=typeof r&&(!t.v[1]||4!=$e(t)||2!=t.Z()))if(t.u&&4==$e(t))ot(t.Ea,0,t);else if(rt(t,"readystatechange"),4==$e(t)){t.h=!1;try{const r=t.Z();t:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var o;if(o=0===r){var a=String(t.D).match(ie)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!ze.test(a?a.toLowerCase():"")}n=o}if(n)rt(t,"complete"),rt(t,"success");else{t.m=6;try{var s=2<$e(t)?t.g.statusText:""}catch(l){s=""}t.l=s+" ["+t.Z()+"]",Ue(t)}}finally{We(t)}}}function We(t,e){if(t.g){He(t);const n=t.g,r=t.v[0]?()=>{}:null;t.g=null,t.v=null,e||rt(t,"ready");try{n.onreadystatechange=r}catch(UK){}}}function He(t){t.I&&(i.clearTimeout(t.I),t.I=null)}function $e(t){return t.g?t.g.readyState:0}function qe(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ge(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ke(t){this.Aa=0,this.i=[],this.j=new Ct,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ge("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ge("baseRetryDelayMs",5e3,t),this.cb=Ge("retryDelaySeedMs",1e4,t),this.Wa=Ge("forwardChannelMaxRetries",2,t),this.wa=Ge("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new Yt(t&&t.concurrentRequestLimit),this.Da=new Pe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Ze(t){if(Xe(t),3==t.G){var e=t.U++,n=ae(t.I);if(ue(n,"SID",t.K),ue(n,"RID",e),ue(n,"TYPE","terminate"),tn(t,n),(e=new Dt(t,t.j,e)).L=2,e.v=he(ae(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(e.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=e.v,n=!0),n||(e.g=fn(e.j,null),e.g.ea(e.v)),e.F=Date.now(),Wt(e)}hn(t)}function Ye(t){t.g&&(on(t),t.g.cancel(),t.g=null)}function Xe(t){Ye(t),t.u&&(i.clearTimeout(t.u),t.u=null),sn(t),t.h.cancel(),t.s&&("number"===typeof t.s&&i.clearTimeout(t.s),t.s=null)}function Qe(t){if(!Xt(t.h)&&!t.s){t.s=!0;var e=t.Ga;T||A(),P||(T(),P=!0),C.add(e,t),t.B=0}}function Je(t,e){var n;n=e?e.l:t.U++;const r=ae(t.I);ue(r,"SID",t.K),ue(r,"RID",n),ue(r,"AID",t.T),tn(t,r),t.m&&t.o&&Le(r,t.m,t.o),n=new Dt(t,t.j,n,t.B+1),null===t.m&&(n.H=t.o),e&&(t.i=e.D.concat(t.i)),e=en(t,n,1e3),n.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),te(t.h,n),Ft(n,r,e)}function tn(t,e){t.H&&v(t.H,(function(t,n){ue(e,n,t)})),t.l&&re({},(function(t,n){ue(e,n,t)}))}function en(t,e,n){n=Math.min(t.i.length,n);var r=t.l?c(t.l.Na,t.l,t):null;t:{var i=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let a=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=e,0>n)e=Math.max(0,i[s].g-100),a=!1;else try{Ce(l,t,"req"+n+"_")}catch(o){r&&r(l)}}if(a){r=t.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,r}function nn(t){if(!t.g&&!t.u){t.Y=1;var e=t.Fa;T||A(),P||(T(),P=!0),C.add(e,t),t.v=0}}function rn(t){return!(t.g||t.u||3<=t.v)&&(t.Y++,t.u=Pt(c(t.Fa,t),cn(t,t.v)),t.v++,!0)}function on(t){null!=t.A&&(i.clearTimeout(t.A),t.A=null)}function an(t){t.g=new Dt(t,t.j,"rpc",t.Y),null===t.m&&(t.g.H=t.o),t.g.O=0;var e=ae(t.qa);ue(e,"RID","rpc"),ue(e,"SID",t.K),ue(e,"AID",t.T),ue(e,"CI",t.F?"0":"1"),!t.F&&t.ja&&ue(e,"TO",t.ja),ue(e,"TYPE","xmlhttp"),tn(t,e),t.m&&t.o&&Le(e,t.m,t.o),t.L&&(t.g.I=t.L);var n=t.g;t=t.ia,n.L=1,n.v=he(ae(e)),n.m=null,n.P=!0,Bt(n,t)}function sn(t){null!=t.C&&(i.clearTimeout(t.C),t.C=null)}function ln(t,e){var n=null;if(t.g==e){sn(t),on(t),t.g=null;var r=2}else{if(!Jt(t.h,e))return;n=e.D,ee(t.h,e),r=1}if(0!=t.G)if(e.o)if(1==r){n=e.m?e.m.length:0,e=Date.now()-e.F;var i=t.B;rt(r=xt(),new Tt(r,n)),Qe(t)}else nn(t);else if(3==(i=e.s)||0==i&&0<e.X||!(1==r&&function(t,e){return!(Qt(t.h)>=t.h.j-(t.s?1:0))&&(t.s?(t.i=e.D.concat(t.i),!0):!(1==t.G||2==t.G||t.B>=(t.Va?0:t.Wa))&&(t.s=Pt(c(t.Ga,t,e),cn(t,t.B)),t.B++,!0))}(t,e)||2==r&&rn(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:un(t,5);break;case 4:un(t,10);break;case 3:un(t,6);break;default:un(t,2)}}function cn(t,e){let n=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(n*=2),n*e}function un(t,e){if(t.j.info("Error code "+e),2==e){var n=c(t.fb,t),r=t.Xa;const e=!r;r=new oe(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||se(r,"https"),he(r),e?function(t,e){const n=new Ct;if(i.Image){const r=new Image;r.onload=u(Te,n,"TestLoadImage: loaded",!0,e,r),r.onerror=u(Te,n,"TestLoadImage: error",!1,e,r),r.onabort=u(Te,n,"TestLoadImage: abort",!1,e,r),r.ontimeout=u(Te,n,"TestLoadImage: timeout",!1,e,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(r.toString(),n):function(t,e){new Ct;const n=new AbortController,r=setTimeout((()=>{n.abort(),Te(0,0,!1,e)}),1e4);fetch(t,{signal:n.signal}).then((t=>{clearTimeout(r),t.ok?Te(0,0,!0,e):Te(0,0,!1,e)})).catch((()=>{clearTimeout(r),Te(0,0,!1,e)}))}(r.toString(),n)}else Et(2);t.G=0,t.l&&t.l.sa(e),hn(t),Xe(t)}function hn(t){if(t.G=0,t.ka=[],t.l){const e=ne(t.h);0==e.length&&0==t.i.length||(f(t.ka,e),f(t.ka,t.i),t.h.i.length=0,d(t.i),t.i.length=0),t.l.ra()}}function dn(t,e,n){var r=n instanceof oe?ae(n):new oe(n);if(""!=r.g)e&&(r.g=e+"."+r.g),le(r,r.s);else{var o=i.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var a=new oe(null);r&&se(a,r),e&&(a.g=e),o&&le(a,o),n&&(a.l=n),r=a}return n=t.D,e=t.ya,n&&e&&ue(r,n,e),ue(r,"VER",t.la),tn(t,r),r}function fn(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Ca&&!t.pa?new Re(new Ae({eb:n})):new Re(t.pa)).Ha(t.J),e}function pn(){}function mn(){}function gn(t,e){nt.call(this),this.g=new Ke(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.va&&(t?t["X-WebChannel-Client-Profile"]=e.va:t={"X-WebChannel-Client-Profile":e.va}),this.g.S=t,(t=e&&e.Sb)&&!p(t)&&(this.g.m=t),this.v=e&&e.supportsCrossDomainXhr||!1,this.u=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!p(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new bn(this)}function yn(t){vt.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function vn(){bt.call(this),this.status=1}function bn(t){this.g=t}(t=Re.prototype).Ha=function(t){this.J=t},t.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jt.g(),this.v=this.o?mt(this.o):mt(jt),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(a){return void Be(this,a)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const t of r.keys())n.set(t,r.get(t))}r=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),o=i.FormData&&t instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Fe,e,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{He(this),this.u=!0,this.g.send(t),this.u=!1}catch(a){Be(this,a)}},t.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,rt(this,"complete"),rt(this,"abort"),We(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),We(this,!0)),Re.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ve(this):this.bb())},t.bb=function(){Ve(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<$e(this)?this.g.status:-1}catch(me){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(me){return""}},t.Oa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),dt(e)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(t=Ke.prototype).la=8,t.G=1,t.connect=function(t,e,n,r){Et(0),this.W=t,this.H=e||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Qe(this)},t.Ga=function(t){if(this.s)if(this.s=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Dt(this,this.j,t);let o=this.o;if(this.S&&(o?(o=b(o),w(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)t:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=en(this,i,e),ue(n=ae(this.I),"RID",t),ue(n,"CVER",22),this.D&&ue(n,"X-HTTP-Session-Id",this.D),tn(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(De(o)))+"&"+e:this.m&&Le(n,this.m,o)),te(this.h,i),this.Ua&&ue(n,"TYPE","init"),this.P?(ue(n,"$req",e),ue(n,"SID","null"),i.T=!0,Ft(i,n,null)):Ft(i,n,e),this.G=2}}else 3==this.G&&(t?Je(this,t):0==this.i.length||Xt(this.h)||Je(this))},t.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=Pt(c(this.ab,this),t)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),Ye(this),an(this))},t.Za=function(){null!=this.C&&(this.C=null,Ye(this),rn(this),Et(19))},t.fb=function(t){t?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=pn.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},mn.prototype.g=function(t,e){return new gn(t,e)},h(gn,nt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Ze(this.g)},gn.prototype.o=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.u&&((n={}).__data__=ht(t),t=n);e.i.push(new Zt(e.Ya++,t)),3==e.G&&Qe(e)},gn.prototype.N=function(){this.g.l=null,delete this.j,Ze(this.g),delete this.g,gn.aa.N.call(this)},h(yn,vt),h(vn,bt),h(bn,pn),bn.prototype.ua=function(){rt(this.g,"a")},bn.prototype.ta=function(t){rt(this.g,new yn(t))},bn.prototype.sa=function(t){rt(this.g,new vn)},bn.prototype.ra=function(){rt(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,nv=iv.createWebChannelTransport=function(){return new mn},ev=iv.getStatEventTarget=function(){return xt()},tv=iv.Event=_t,Jy=iv.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},It.NO_ERROR=0,It.TIMEOUT=8,It.HTTP_ERROR=6,Qy=iv.ErrorCode=It,Mt.COMPLETE="complete",Xy=iv.EventType=Mt,gt.EventType=yt,yt.OPEN="a",yt.CLOSE="b",yt.ERROR="c",yt.MESSAGE="d",nt.prototype.listen=nt.prototype.K,Yy=iv.WebChannel=gt,iv.FetchXmlHttpFactory=Ae,Re.prototype.listenOnce=Re.prototype.L,Re.prototype.getLastError=Re.prototype.Ka,Re.prototype.getLastErrorCode=Re.prototype.Ba,Re.prototype.getStatus=Re.prototype.Z,Re.prototype.getResponseJson=Re.prototype.Oa,Re.prototype.getResponseText=Re.prototype.oa,Re.prototype.send=Re.prototype.ea,Re.prototype.setWithCredentials=Re.prototype.Ha,Zy=iv.XhrIo=Re}).apply("undefined"!==typeof rv?rv:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ov="@firebase/firestore";class av{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}av.UNAUTHENTICATED=new av(null),av.GOOGLE_CREDENTIALS=new av("google-credentials-uid"),av.FIRST_PARTY=new av("first-party-uid"),av.MOCK_USER=new av("mock-user");let sv="11.0.2";const lv=new ef("@firebase/firestore");function cv(){return lv.logLevel}function uv(t){if(lv.logLevel<=Zd.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map(fv);lv.debug(`Firestore (${sv}): ${t}`,...i)}}function hv(t){if(lv.logLevel<=Zd.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map(fv);lv.error(`Firestore (${sv}): ${t}`,...i)}}function dv(t){if(lv.logLevel<=Zd.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map(fv);lv.warn(`Firestore (${sv}): ${t}`,...i)}}function fv(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(e){return t}}function pv(){const t=`FIRESTORE (${sv}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw hv(t),new Error(t)}function mv(t,e){t||pv()}function gv(t,e){return t}const yv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vv extends Md{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bv{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class _v{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(av.UNAUTHENTICATED)))}shutdown(){}}class xv{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class Sv{constructor(t){this.t=t,this.currentUser=av.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){mv(void 0===this.o);let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new bv;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new bv,t.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const e=i;t.enqueueRetryable((async()=>{await e.promise,await r(this.currentUser)}))},a=t=>{uv("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((t=>a(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?a(t):(uv("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new bv)}}),0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(uv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(mv("string"==typeof e.accessToken),new _v(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return mv(null===t||"string"==typeof t),new av(t)}}class kv{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=av.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Ov{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new kv(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable((()=>e(av.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ev{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tv{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){mv(void 0===this.o);const n=t=>{null!=t.error&&uv("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.R;return this.R=t.token,uv("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const r=t=>{uv("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((t=>r(t))),setTimeout((()=>{if(!this.appCheck){const t=this.A.getImmediate({optional:!0});t?r(t):uv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(mv("string"==typeof t.token),this.R=t.token,new Ev(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Pv(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Cv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Pv(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%62))}return n}}function Av(t,e){return t<e?-1:t>e?1:0}function jv(t,e,n){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}class Iv{static now(){return Iv.fromMillis(Date.now())}static fromDate(t){return Iv.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new Iv(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new vv(yv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new vv(yv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new vv(yv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vv(yv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Av(this.nanoseconds,t.nanoseconds):Av(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mv{static fromTimestamp(t){return new Mv(t)}static min(){return new Mv(new Iv(0,0))}static max(){return new Mv(new Iv(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Nv{constructor(t,e,n){void 0===e?e=0:e>t.length&&pv(),void 0===n?n=t.length-e:n>t.length-e&&pv(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Nv.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Nv?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),i=e.get(r);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Dv extends Nv{construct(t,e,n){return new Dv(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const t=[];for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new vv(yv.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((t=>t.length>0)))}return new Dv(t)}static emptyPath(){return new Dv([])}}const Lv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rv extends Nv{construct(t,e,n){return new Rv(t,e,n)}static isValidIdentifier(t){return Lv.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rv.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Rv(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new vv(yv.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let o=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new vv(yv.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new vv(yv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(o=!o,r++):"."!==e||o?(n+=e,r++):(i(),r++)}if(i(),o)throw new vv(yv.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Rv(e)}static emptyPath(){return new Rv([])}}class zv{constructor(t){this.path=t}static fromPath(t){return new zv(Dv.fromString(t))}static fromName(t){return new zv(Dv.fromString(t).popFirst(5))}static empty(){return new zv(Dv.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Dv.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Dv.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new zv(new Dv(t.slice()))}}class Fv{constructor(t,e,n,r){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=r}}Fv.UNKNOWN_ID=-1;function Bv(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Mv.fromTimestamp(1e9===r?new Iv(n+1,0):new Iv(n,r));return new Vv(i,zv.empty(),e)}function Uv(t){return new Vv(t.readTime,t.key,-1)}class Vv{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new Vv(Mv.min(),zv.empty(),-1)}static max(){return new Vv(Mv.max(),zv.empty(),-1)}}function Wv(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=zv.comparator(t.documentKey,e.documentKey),0!==n?n:Av(t.largestBatchId,e.largestBatchId))}const Hv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $v{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function qv(t){if(t.code!==yv.FAILED_PRECONDITION||t.message!==Hv)throw t;uv("LocalStore","Unexpectedly lost primary lease")}class Gv{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&pv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Gv(((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Gv?e:Gv.resolve(e)}catch(t){return Gv.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Gv.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Gv.reject(e)}static resolve(t){return new Gv(((e,n)=>{e(t)}))}static reject(t){return new Gv(((e,n)=>{n(t)}))}static waitFor(t){return new Gv(((e,n)=>{let r=0,i=0,o=!1;t.forEach((t=>{++r,t.next((()=>{++i,o&&i===r&&e()}),(t=>n(t)))})),o=!0,i===r&&e()}))}static or(t){let e=Gv.resolve(!1);for(const n of t)e=e.next((t=>t?Gv.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,r)=>{n.push(e.call(this,t,r))})),this.waitFor(n)}static mapArray(t,e){return new Gv(((n,r)=>{const i=t.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;e(t[l]).next((t=>{o[l]=t,++a,a===i&&n(o)}),(t=>r(t)))}}))}static doWhile(t,e){return new Gv(((n,r)=>{const i=()=>{!0===t()?e().next((()=>{i()}),r):n()};i()}))}}function Kv(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zv(t){return"IndexedDbTransactionError"===t.name}class Yv{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ie(t),this.se=t=>e.writeSequenceNumber(t))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}function Xv(t){return null==t}function Qv(t){return 0===t&&1/t==-1/0}function Jv(t){return"number"==typeof t&&Number.isInteger(t)&&!Qv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function tb(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=nb(e)),e=eb(t.get(n),e);return nb(e)}function eb(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const e=t.charAt(i);switch(e){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=e}}return n}function nb(t){return t+"\x01\x01"}Yv.oe=-1;const rb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ib=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ob=ib,ab=[...ob,"indexConfiguration","indexState","indexEntries"];function sb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lb(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ub{constructor(t,e){this.comparator=t,this.root=e||db.EMPTY}insert(t,e){return new ub(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,db.BLACK,null,null))}remove(t){return new ub(this.comparator,this.root.remove(t,this.comparator).copy(null,null,db.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new hb(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new hb(this.root,t,this.comparator,!1)}getReverseIterator(){return new hb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new hb(this.root,t,this.comparator,!0)}}class hb{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class db{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:db.RED,this.left=null!=r?r:db.EMPTY,this.right=null!=i?i:db.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new db(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return db.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return db.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,db.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,db.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pv();if(this.right.isRed())throw pv();const t=this.left.check();if(t!==this.right.check())throw pv();return t+(this.isRed()?0:1)}}db.EMPTY=null,db.RED=!0,db.BLACK=!1,db.EMPTY=new class{constructor(){this.size=0}get key(){throw pv()}get value(){throw pv()}get color(){throw pv()}get left(){throw pv()}get right(){throw pv()}copy(t,e,n,r,i){return this}insert(t,e,n){return new db(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fb{constructor(t){this.comparator=t,this.data=new ub(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new pb(this.data.getIterator())}getIteratorFrom(t){return new pb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof fb))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new fb(this.comparator);return e.data=t,e}}class pb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class mb{constructor(t){this.fields=t,t.sort(Rv.comparator)}static empty(){return new mb([])}unionWith(t){let e=new fb(Rv.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new mb(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return jv(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class gb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yb{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new gb("Invalid base64 string: "+t):t}}(t);return new yb(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new yb(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Av(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}yb.EMPTY_BYTE_STRING=new yb("");const vb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bb(t){if(mv(!!t),"string"==typeof t){let e=0;const n=vb.exec(t);if(mv(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_b(t.seconds),nanos:_b(t.nanos)}}function _b(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function wb(t){return"string"==typeof t?yb.fromBase64String(t):yb.fromUint8Array(t)}function xb(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Sb(t){const e=t.mapValue.fields.__previous_value__;return xb(e)?Sb(e):e}function kb(t){const e=bb(t.mapValue.fields.__local_write_time__.timestampValue);return new Iv(e.seconds,e.nanos)}class Ob{constructor(t,e,n,r,i,o,a,s,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class Eb{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Eb("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Eb&&t.projectId===this.projectId&&t.database===this.database}}const Tb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Pb(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xb(t)?4:$b(t)?9007199254740991:Wb(t)?10:11:pv()}function Cb(t,e){if(t===e)return!0;const n=Pb(t);if(n!==Pb(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kb(t).isEqual(kb(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=bb(t.timestampValue),r=bb(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return wb(t.bytesValue).isEqual(wb(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return _b(t.geoPointValue.latitude)===_b(e.geoPointValue.latitude)&&_b(t.geoPointValue.longitude)===_b(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return _b(t.integerValue)===_b(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=_b(t.doubleValue),r=_b(e.doubleValue);return n===r?Qv(n)===Qv(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return jv(t.arrayValue.values||[],e.arrayValue.values||[],Cb);case 10:case 11:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(sb(n)!==sb(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Cb(n[i],r[i])))return!1;return!0}(t,e);default:return pv()}}function Ab(t,e){return void 0!==(t.values||[]).find((t=>Cb(t,e)))}function jb(t,e){if(t===e)return 0;const n=Pb(t),r=Pb(e);if(n!==r)return Av(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Av(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=_b(t.integerValue||t.doubleValue),r=_b(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ib(t.timestampValue,e.timestampValue);case 4:return Ib(kb(t),kb(e));case 5:return Av(t.stringValue,e.stringValue);case 6:return function(t,e){const n=wb(t),r=wb(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let i=0;i<n.length&&i<r.length;i++){const t=Av(n[i],r[i]);if(0!==t)return t}return Av(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=Av(_b(t.latitude),_b(e.latitude));return 0!==n?n:Av(_b(t.longitude),_b(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Mb(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n,r,i,o;const a=t.fields||{},s=e.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=s.value)||void 0===r?void 0:r.arrayValue,u=Av((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==c?void 0:c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Mb(l,c)}(t.mapValue,e.mapValue);case 11:return function(t,e){if(t===Tb.mapValue&&e===Tb.mapValue)return 0;if(t===Tb.mapValue)return 1;if(e===Tb.mapValue)return-1;const n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const t=Av(r[a],o[a]);if(0!==t)return t;const e=jb(n[r[a]],i[o[a]]);if(0!==e)return e}return Av(r.length,o.length)}(t.mapValue,e.mapValue);default:throw pv()}}function Ib(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Av(t,e);const n=bb(t),r=bb(e),i=Av(n.seconds,r.seconds);return 0!==i?i:Av(n.nanos,r.nanos)}function Mb(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const t=jb(n[i],r[i]);if(t)return t}return Av(n.length,r.length)}function Nb(t){return Db(t)}function Db(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=bb(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return wb(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return zv.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return`geo(${t.latitude},${t.longitude})`}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=Db(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+=`${i}:${Db(t.fields[i])}`;return n+"}"}(t.mapValue):pv()}function Lb(t){switch(Pb(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sb(t);return e?16+Lb(e):16;case 5:return 2*t.stringValue.length;case 6:return wb(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(t){return(t.values||[]).reduce(((t,e)=>t+Lb(e)),0)}(t.arrayValue);case 10:case 11:return function(t){let e=0;return lb(t.fields,((t,n)=>{e+=t.length+Lb(n)})),e}(t.mapValue);default:throw pv()}}function Rb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zb(t){return!!t&&"integerValue"in t}function Fb(t){return!!t&&"arrayValue"in t}function Bb(t){return!!t&&"nullValue"in t}function Ub(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vb(t){return!!t&&"mapValue"in t}function Wb(t){var e,n;return"__vector__"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Hb(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return lb(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Hb(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hb(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $b(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class qb{constructor(t){this.value=t}static empty(){return new qb({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!Vb(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Hb(e)}setAll(t){let e=Rv.emptyPath(),n={},r=[];t.forEach(((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=Hb(t):r.push(i.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());Vb(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Cb(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];Vb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){lb(e,((e,n)=>t[e]=n));for(const r of n)delete t[r]}clone(){return new qb(Hb(this.value))}}function Gb(t){const e=[];return lb(t.fields,((t,n)=>{const r=new Rv([t]);if(Vb(n)){const t=Gb(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)})),new mb(e)}class Kb{constructor(t,e,n,r,i,o,a){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Kb(t,0,Mv.min(),Mv.min(),Mv.min(),qb.empty(),0)}static newFoundDocument(t,e,n,r){return new Kb(t,1,e,Mv.min(),n,r,0)}static newNoDocument(t,e){return new Kb(t,2,e,Mv.min(),Mv.min(),qb.empty(),0)}static newUnknownDocument(t,e){return new Kb(t,3,e,Mv.min(),Mv.min(),qb.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Mv.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qb.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qb.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mv.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Kb&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Kb(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zb{constructor(t,e){this.position=t,this.inclusive=e}}function Yb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(r=o.field.isKeyField()?zv.comparator(zv.fromName(a.referenceValue),n.key):jb(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Xb(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cb(t.position[n],e.position[n]))return!1;return!0}class Qb{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=t,this.dir=e}}function Jb(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class t_{}class e_ extends t_{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new c_(t,e,n):"array-contains"===e?new f_(t,n):"in"===e?new p_(t,n):"not-in"===e?new m_(t,n):"array-contains-any"===e?new g_(t,n):new e_(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new u_(t,n):new h_(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(jb(e,this.value)):null!==e&&Pb(this.value)===Pb(e)&&this.matchesComparison(jb(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return pv()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class n_ extends t_{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new n_(t,e)}matches(t){return r_(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function r_(t){return"and"===t.op}function i_(t){return o_(t)&&r_(t)}function o_(t){for(const e of t.filters)if(e instanceof n_)return!1;return!0}function a_(t){if(t instanceof e_)return t.field.canonicalString()+t.op.toString()+Nb(t.value);if(i_(t))return t.filters.map((t=>a_(t))).join(",");{const e=t.filters.map((t=>a_(t))).join(",");return`${t.op}(${e})`}}function s_(t,e){return t instanceof e_?function(t,e){return e instanceof e_&&t.op===e.op&&t.field.isEqual(e.field)&&Cb(t.value,e.value)}(t,e):t instanceof n_?function(t,e){return e instanceof n_&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,n,r)=>t&&s_(n,e.filters[r])),!0)}(t,e):void pv()}function l_(t){return t instanceof e_?function(t){return`${t.field.canonicalString()} ${t.op} ${Nb(t.value)}`}(t):t instanceof n_?function(t){return t.op.toString()+" {"+t.getFilters().map(l_).join(" ,")+"}"}(t):"Filter"}class c_ extends e_{constructor(t,e,n){super(t,e,n),this.key=zv.fromName(n.referenceValue)}matches(t){const e=zv.comparator(t.key,this.key);return this.matchesComparison(e)}}class u_ extends e_{constructor(t,e){super(t,"in",e),this.keys=d_("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class h_ extends e_{constructor(t,e){super(t,"not-in",e),this.keys=d_("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function d_(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>zv.fromName(t.referenceValue)))}class f_ extends e_{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Fb(e)&&Ab(e.arrayValue,this.value)}}class p_ extends e_{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Ab(this.value.arrayValue,e)}}class m_ extends e_{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ab(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Ab(this.value.arrayValue,e)}}class g_ extends e_{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Fb(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>Ab(this.value.arrayValue,t)))}}class y_{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function v_(t){return new y_(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function b_(t){const e=gv(t);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>a_(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),Xv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>Nb(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>Nb(t))).join(",")),e.ue=t}return e.ue}function __(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Jb(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!s_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xb(t.startAt,e.startAt)&&Xb(t.endAt,e.endAt)}function w_(t){return zv.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class x_{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function S_(t,e,n,r,i,o,a,s){return new x_(t,e,n,r,i,o,a,s)}function k_(t){return new x_(t)}function O_(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function E_(t){return null!==t.collectionGroup}function T_(t){const e=gv(t);if(null===e.ce){e.ce=[];const t=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),t.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",r=function(t){let e=new fb(Rv.comparator);return t.filters.forEach((t=>{t.getFlattenedFilters().forEach((t=>{t.isInequality()&&(e=e.add(t.field))}))})),e}(e);r.forEach((r=>{t.has(r.canonicalString())||r.isKeyField()||e.ce.push(new Qb(r,n))})),t.has(Rv.keyField().canonicalString())||e.ce.push(new Qb(Rv.keyField(),n))}return e.ce}function P_(t){const e=gv(t);return e.le||(e.le=C_(e,T_(t))),e.le}function C_(t,e){if("F"===t.limitType)return v_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((t=>{const e="desc"===t.dir?"asc":"desc";return new Qb(t.field,e)}));const n=t.endAt?new Zb(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Zb(t.startAt.position,t.startAt.inclusive):null;return v_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function A_(t,e){const n=t.filters.concat([e]);return new x_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function j_(t,e,n){return new x_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function I_(t,e){return __(P_(t),P_(e))&&t.limitType===e.limitType}function M_(t){return`${b_(P_(t))}|lt:${t.limitType}`}function N_(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>l_(t))).join(", ")}]`),Xv(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>Nb(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>Nb(t))).join(",")),`Target(${e})`}(P_(t))}; limitType=${t.limitType})`}function D_(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):zv.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of T_(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const r=Yb(t,e,n);return t.inclusive?r<=0:r<0}(t.startAt,T_(t),e))&&!(t.endAt&&!function(t,e,n){const r=Yb(t,e,n);return t.inclusive?r>=0:r>0}(t.endAt,T_(t),e))}(t,e)}function L_(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function R_(t){return(e,n)=>{let r=!1;for(const i of T_(t)){const t=z_(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function z_(t,e,n){const r=t.field.isKeyField()?zv.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?jb(r,i):pv()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pv()}}class F_{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){lb(this.inner,((e,n)=>{for(const[r,i]of n)t(r,i)}))}isEmpty(){return cb(this.inner)}size(){return this.innerSize}}const B_=new ub(zv.comparator);function U_(){return B_}const V_=new ub(zv.comparator);function W_(){let t=V_;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n)t=t.insert(i.key,i);return t}function H_(t){let e=V_;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function $_(){return G_()}function q_(){return G_()}function G_(){return new F_((t=>t.toString()),((t,e)=>t.isEqual(e)))}const K_=new ub(zv.comparator),Z_=new fb(zv.comparator);function Y_(){let t=Z_;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n)t=t.add(i);return t}const X_=new fb(Av);function Q_(){return X_}function J_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qv(e)?"-0":e}}function tw(t){return{integerValue:""+t}}function ew(t,e){return Jv(e)?tw(e):J_(t,e)}class nw{constructor(){this._=void 0}}function rw(t,e,n){return t instanceof aw?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&xb(e)&&(e=Sb(e)),e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof sw?lw(t,e):t instanceof cw?uw(t,e):function(t,e){const n=ow(t,e),r=dw(n)+dw(t.Pe);return zb(n)&&zb(t.Pe)?tw(r):J_(t.serializer,r)}(t,e)}function iw(t,e,n){return t instanceof sw?lw(t,e):t instanceof cw?uw(t,e):n}function ow(t,e){return t instanceof hw?function(t){return zb(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}class aw extends nw{}class sw extends nw{constructor(t){super(),this.elements=t}}function lw(t,e){const n=fw(e);for(const r of t.elements)n.some((t=>Cb(t,r)))||n.push(r);return{arrayValue:{values:n}}}class cw extends nw{constructor(t){super(),this.elements=t}}function uw(t,e){let n=fw(e);for(const r of t.elements)n=n.filter((t=>!Cb(t,r)));return{arrayValue:{values:n}}}class hw extends nw{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function dw(t){return _b(t.integerValue||t.doubleValue)}function fw(t){return Fb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class pw{constructor(t,e){this.version=t,this.transformResults=e}}class mw{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new mw}static exists(t){return new mw(void 0,t)}static updateTime(t){return new mw(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function gw(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class yw{}function vw(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Pw(t.key,mw.none()):new Sw(t.key,t.data,mw.none());{const n=t.data,r=qb.empty();let i=new fb(Rv.comparator);for(let t of e.fields)if(!i.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?r.delete(t):r.set(t,e),i=i.add(t)}return new kw(t.key,r,new mb(i.toArray()),mw.none())}}function bw(t,e,n){t instanceof Sw?function(t,e,n){const r=t.value.clone(),i=Ew(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof kw?function(t,e,n){if(!gw(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=Ew(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Ow(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function _w(t,e,n,r){return t instanceof Sw?function(t,e,n,r){if(!gw(t.precondition,e))return n;const i=t.value.clone(),o=Tw(t.fieldTransforms,r,e);return i.setAll(o),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}(t,e,n,r):t instanceof kw?function(t,e,n,r){if(!gw(t.precondition,e))return n;const i=Tw(t.fieldTransforms,r,e),o=e.data;return o.setAll(Ow(t)),o.setAll(i),e.convertToFoundDocument(e.version,o).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,r):function(t,e,n){return gw(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function ww(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=ow(r.transform,t||null);null!=i&&(null===n&&(n=qb.empty()),n.set(r.field,i))}return n||null}function xw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&jv(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof sw&&e instanceof sw||t instanceof cw&&e instanceof cw?jv(t.elements,e.elements,Cb):t instanceof hw&&e instanceof hw?Cb(t.Pe,e.Pe):t instanceof aw&&e instanceof aw}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sw extends yw{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class kw extends yw{constructor(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ow(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Ew(t,e,n){const r=new Map;mv(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,iw(a,s,n[i]))}return r}function Tw(t,e,n){const r=new Map;for(const i of t){const t=i.transform,o=n.data.field(i.field);r.set(i.field,rw(t,o,e))}return r}class Pw extends yw{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cw extends yw{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Aw{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const e=this.mutations[r];e.key.isEqual(t.key)&&bw(e,t,n[r])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=_w(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=_w(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=q_();return this.mutations.forEach((r=>{const i=t.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=e.has(r.key)?null:a;const s=vw(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(Mv.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Y_())}isEqual(t){return this.batchId===t.batchId&&jv(this.mutations,t.mutations,((t,e)=>xw(t,e)))&&jv(this.baseMutations,t.baseMutations,((t,e)=>xw(t,e)))}}class jw{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){mv(t.mutations.length===n.length);let r=K_;const i=t.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new jw(t,e,n,r)}}class Iw{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Mw{constructor(t,e){this.count=t,this.unchangedNames=e}}var Nw,Dw;function Lw(t){switch(t){default:return pv();case yv.CANCELLED:case yv.UNKNOWN:case yv.DEADLINE_EXCEEDED:case yv.RESOURCE_EXHAUSTED:case yv.INTERNAL:case yv.UNAVAILABLE:case yv.UNAUTHENTICATED:return!1;case yv.INVALID_ARGUMENT:case yv.NOT_FOUND:case yv.ALREADY_EXISTS:case yv.PERMISSION_DENIED:case yv.FAILED_PRECONDITION:case yv.ABORTED:case yv.OUT_OF_RANGE:case yv.UNIMPLEMENTED:case yv.DATA_LOSS:return!0}}function Rw(t){if(void 0===t)return hv("GRPC error has no .code"),yv.UNKNOWN;switch(t){case Nw.OK:return yv.OK;case Nw.CANCELLED:return yv.CANCELLED;case Nw.UNKNOWN:return yv.UNKNOWN;case Nw.DEADLINE_EXCEEDED:return yv.DEADLINE_EXCEEDED;case Nw.RESOURCE_EXHAUSTED:return yv.RESOURCE_EXHAUSTED;case Nw.INTERNAL:return yv.INTERNAL;case Nw.UNAVAILABLE:return yv.UNAVAILABLE;case Nw.UNAUTHENTICATED:return yv.UNAUTHENTICATED;case Nw.INVALID_ARGUMENT:return yv.INVALID_ARGUMENT;case Nw.NOT_FOUND:return yv.NOT_FOUND;case Nw.ALREADY_EXISTS:return yv.ALREADY_EXISTS;case Nw.PERMISSION_DENIED:return yv.PERMISSION_DENIED;case Nw.FAILED_PRECONDITION:return yv.FAILED_PRECONDITION;case Nw.ABORTED:return yv.ABORTED;case Nw.OUT_OF_RANGE:return yv.OUT_OF_RANGE;case Nw.UNIMPLEMENTED:return yv.UNIMPLEMENTED;case Nw.DATA_LOSS:return yv.DATA_LOSS;default:return pv()}}(Dw=Nw||(Nw={}))[Dw.OK=0]="OK",Dw[Dw.CANCELLED=1]="CANCELLED",Dw[Dw.UNKNOWN=2]="UNKNOWN",Dw[Dw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dw[Dw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dw[Dw.NOT_FOUND=5]="NOT_FOUND",Dw[Dw.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dw[Dw.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dw[Dw.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dw[Dw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dw[Dw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dw[Dw.ABORTED=10]="ABORTED",Dw[Dw.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dw[Dw.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dw[Dw.INTERNAL=13]="INTERNAL",Dw[Dw.UNAVAILABLE=14]="UNAVAILABLE",Dw[Dw.DATA_LOSS=15]="DATA_LOSS";let zw=null;function Fw(){return new TextEncoder}const Bw=new $y([4294967295,4294967295],0);function Uw(t){const e=Fw().encode(t),n=new qy;return n.update(e),new Uint8Array(n.digest())}function Vw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new $y([n,r],0),new $y([i,o],0)]}class Ww{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new Hw(`Invalid padding: ${e}`);if(n<0)throw new Hw(`Invalid hash count: ${n}`);if(t.length>0&&0===this.hashCount)throw new Hw(`Invalid hash count: ${n}`);if(0===t.length&&0!==e)throw new Hw(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ie=$y.fromNumber(this.Te)}Ee(t,e,n){let r=t.add(e.multiply($y.fromNumber(n)));return 1===r.compare(Bw)&&(r=new $y([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ie).toNumber()}de(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Te)return!1;const e=Uw(t),[n,r]=Vw(e);for(let i=0;i<this.hashCount;i++){const t=this.Ee(n,r,i);if(!this.de(t))return!1}return!0}static create(t,e,n){const r=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),o=new Ww(i,r,e);return n.forEach((t=>o.insert(t))),o}insert(t){if(0===this.Te)return;const e=Uw(t),[n,r]=Vw(e);for(let i=0;i<this.hashCount;i++){const t=this.Ee(n,r,i);this.Ae(t)}}Ae(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class Hw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $w{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const r=new Map;return r.set(t,qw.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new $w(Mv.min(),r,new ub(Av),U_(),Y_())}}class qw{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new qw(n,e,Y_(),Y_(),Y_())}}class Gw{constructor(t,e,n,r){this.Re=t,this.removedTargetIds=e,this.key=n,this.Ve=r}}class Kw{constructor(t,e){this.targetId=t,this.me=e}}class Zw{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yb.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class Yw{constructor(){this.fe=0,this.ge=Jw(),this.pe=yb.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Y_(),e=Y_(),n=Y_();return this.ge.forEach(((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:pv()}})),new qw(this.pe,this.ye,t,e,n)}Ce(){this.we=!1,this.ge=Jw()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,mv(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Xw{constructor(t){this.Le=t,this.Be=new Map,this.ke=U_(),this.qe=Qw(),this.Qe=Qw(),this.Ke=new ub(Av)}$e(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.Ue(e,t.Ve):this.We(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.We(e,t.key,t.Ve)}Ge(t){this.forEachTarget(t,(e=>{const n=this.ze(e);switch(t.state){case 0:this.je(e)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(e);break;case 3:this.je(e)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),n.De(t.resumeToken));break;default:pv()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach(((t,n)=>{this.je(n)&&e(n)}))}Je(t){const e=t.targetId,n=t.me.count,r=this.Ye(e);if(r){const i=r.target;if(w_(i))if(0===n){const t=new zv(i.path);this.We(e,t,Kb.newNoDocument(t,Mv.min()))}else mv(1===n);else{const r=this.Ze(e);if(r!==n){const n=this.Xe(t),i=n?this.et(n,t,r):1;if(0!==i){this.He(e);const t=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,t)}null==zw||zw.tt(function(t,e,n,r,i){var o,a,s,l,c,u;const h={localCacheCount:t,existenceFilterCount:e.count,databaseId:n.database,projectId:n.projectId},d=e.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(o=null==d?void 0:d.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:t=>{var e;return null!==(e=null==r?void 0:r.mightContain(t))&&void 0!==e&&e}}),h}(r,t.me,this.Le.nt(),n,i))}}}}Xe(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=e;let o,a;try{o=wb(n).toUint8Array()}catch(t){if(t instanceof gb)return dv("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{a=new Ww(o,r,i)}catch(t){return dv(t instanceof Hw?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return 0===a.Te?null:a}et(t,e,n){return e.me.count===n-this.rt(t,e.targetId)?0:2}rt(t,e){const n=this.Le.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.mightContain(o)||(this.We(e,n,null),r++)})),r}it(t){const e=new Map;this.Be.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&w_(i.target)){const e=new zv(i.target.path);this.st(e).has(r)||this.ot(r,e)||this.We(r,e,Kb.newNoDocument(e,t))}n.be&&(e.set(r,n.ve()),n.Ce())}}));let n=Y_();this.Qe.forEach(((t,e)=>{let r=!0;e.forEachWhile((t=>{const e=this.Ye(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(r=!1,!1)})),r&&(n=n.add(t))})),this.ke.forEach(((e,n)=>n.setReadTime(t)));const r=new $w(t,e,this.Ke,this.ke,n);return this.ke=U_(),this.qe=Qw(),this.Qe=Qw(),this.Ke=new ub(Av),r}Ue(t,e){if(!this.je(t))return;const n=this.ot(t,e.key)?2:0;this.ze(t).Fe(e.key,n),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t)),this.Qe=this.Qe.insert(e.key,this._t(e.key).add(t))}We(t,e,n){if(!this.je(t))return;const r=this.ze(t);this.ot(t,e)?r.Fe(e,1):r.Me(e),this.Qe=this.Qe.insert(e,this._t(e).delete(t)),this.Qe=this.Qe.insert(e,this._t(e).add(t)),n&&(this.ke=this.ke.insert(e,n))}removeTarget(t){this.Be.delete(t)}Ze(t){const e=this.ze(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.ze(t).xe()}ze(t){let e=this.Be.get(t);return e||(e=new Yw,this.Be.set(t,e)),e}_t(t){let e=this.Qe.get(t);return e||(e=new fb(Av),this.Qe=this.Qe.insert(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new fb(Av),this.qe=this.qe.insert(t,e)),e}je(t){const e=null!==this.Ye(t);return e||uv("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ut(t)}He(t){this.Be.set(t,new Yw),this.Le.getRemoteKeysForTarget(t).forEach((e=>{this.We(t,e,null)}))}ot(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function Qw(){return new ub(zv.comparator)}function Jw(){return new ub(zv.comparator)}const tx={asc:"ASCENDING",desc:"DESCENDING"},ex={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nx={and:"AND",or:"OR"};class rx{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function ix(t,e){return t.useProto3Json||Xv(e)?e:{value:e}}function ox(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ax(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sx(t,e){return ox(t,e.toTimestamp())}function lx(t){return mv(!!t),Mv.fromTimestamp(function(t){const e=bb(t);return new Iv(e.seconds,e.nanos)}(t))}function cx(t,e){return ux(t,e).canonicalString()}function ux(t,e){const n=function(t){return new Dv(["projects",t.projectId,"databases",t.database])}(t).child("documents");return void 0===e?n:n.child(e)}function hx(t){const e=Dv.fromString(t);return mv(jx(e)),e}function dx(t,e){return cx(t.databaseId,e.path)}function fx(t,e){const n=hx(e);if(n.get(1)!==t.databaseId.projectId)throw new vv(yv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new vv(yv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new zv(yx(n))}function px(t,e){return cx(t.databaseId,e)}function mx(t){const e=hx(t);return 4===e.length?Dv.emptyPath():yx(e)}function gx(t){return new Dv(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yx(t){return mv(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function vx(t,e,n){return{name:dx(t,e),fields:n.value.mapValue.fields}}function bx(t,e){let n;if(e instanceof Sw)n={update:vx(t,e.key,e.value)};else if(e instanceof Pw)n={delete:dx(t,e.key)};else if(e instanceof kw)n={update:vx(t,e.key,e.data),updateMask:Ax(e.fieldMask)};else{if(!(e instanceof Cw))return pv();n={verify:dx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof aw)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof sw)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof cw)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof hw)return{fieldPath:e.field.canonicalString(),increment:n.Pe};throw pv()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:sx(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:pv()}(t,e.precondition)),n}function _x(t,e){return{documents:[px(t,e.path)]}}function wx(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=px(t,i);const o=function(t){if(0!==t.length)return Cx(n_.create(t,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:Tx(t.field),direction:kx(t.dir)}}(t)))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=ix(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(t){return{before:t.inclusive,values:t.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),{ct:n,parent:i}}function xx(t){let e=mx(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){mv(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let o=[];n.where&&(o=function(t){const e=Sx(t);return e instanceof n_&&i_(e)?e.getFilters():[e]}(n.where));let a=[];n.orderBy&&(a=function(t){return t.map((t=>function(t){return new Qb(Px(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)))}(n.orderBy));let s=null;n.limit&&(s=function(t){let e;return e="object"==typeof t?t.value:t,Xv(e)?null:e}(n.limit));let l=null;n.startAt&&(l=function(t){const e=!!t.before,n=t.values||[];return new Zb(n,e)}(n.startAt));let c=null;return n.endAt&&(c=function(t){const e=!t.before,n=t.values||[];return new Zb(n,e)}(n.endAt)),S_(e,i,a,o,s,"F",l,c)}function Sx(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Px(t.unaryFilter.field);return e_.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Px(t.unaryFilter.field);return e_.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Px(t.unaryFilter.field);return e_.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Px(t.unaryFilter.field);return e_.create(i,"!=",{nullValue:"NULL_VALUE"});default:return pv()}}(t):void 0!==t.fieldFilter?function(t){return e_.create(Px(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pv()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return n_.create(t.compositeFilter.filters.map((t=>Sx(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return pv()}}(t.compositeFilter.op))}(t):pv()}function kx(t){return tx[t]}function Ox(t){return ex[t]}function Ex(t){return nx[t]}function Tx(t){return{fieldPath:t.canonicalString()}}function Px(t){return Rv.fromServerFormat(t.fieldPath)}function Cx(t){return t instanceof e_?function(t){if("=="===t.op){if(Ub(t.value))return{unaryFilter:{field:Tx(t.field),op:"IS_NAN"}};if(Bb(t.value))return{unaryFilter:{field:Tx(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ub(t.value))return{unaryFilter:{field:Tx(t.field),op:"IS_NOT_NAN"}};if(Bb(t.value))return{unaryFilter:{field:Tx(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tx(t.field),op:Ox(t.op),value:t.value}}}(t):t instanceof n_?function(t){const e=t.getFilters().map((t=>Cx(t)));return 1===e.length?e[0]:{compositeFilter:{op:Ex(t.op),filters:e}}}(t):pv()}function Ax(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function jx(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ix{constructor(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mv.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Mv.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:yb.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(t){return new Ix(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ix(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ix(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ix(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Mx{constructor(t){this.ht=t}}function Nx(t){const e=xx({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?j_(e,e.limit,"L"):e}class Dx{constructor(){}Et(t,e){this.dt(t,e),e.At()}dt(t,e){if("nullValue"in t)this.Rt(e,5);else if("booleanValue"in t)this.Rt(e,10),e.Vt(t.booleanValue?1:0);else if("integerValue"in t)this.Rt(e,15),e.Vt(_b(t.integerValue));else if("doubleValue"in t){const n=_b(t.doubleValue);isNaN(n)?this.Rt(e,13):(this.Rt(e,15),Qv(n)?e.Vt(0):e.Vt(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Rt(e,20),"string"==typeof n&&(n=bb(n)),e.ft(`${n.seconds||""}`),e.Vt(n.nanos||0)}else if("stringValue"in t)this.gt(t.stringValue,e),this.yt(e);else if("bytesValue"in t)this.Rt(e,30),e.wt(wb(t.bytesValue)),this.yt(e);else if("referenceValue"in t)this.St(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.Rt(e,45),e.Vt(n.latitude||0),e.Vt(n.longitude||0)}else"mapValue"in t?$b(t)?this.Rt(e,Number.MAX_SAFE_INTEGER):Wb(t)?this.bt(t.mapValue,e):(this.Dt(t.mapValue,e),this.yt(e)):"arrayValue"in t?(this.vt(t.arrayValue,e),this.yt(e)):pv()}gt(t,e){this.Rt(e,25),this.Ct(t,e)}Ct(t,e){e.ft(t)}Dt(t,e){const n=t.fields||{};this.Rt(e,55);for(const r of Object.keys(n))this.gt(r,e),this.dt(n[r],e)}bt(t,e){var n,r;const i=t.fields||{};this.Rt(e,53);const o="value",a=(null===(r=null===(n=i[o].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Rt(e,15),e.Vt(_b(a)),this.gt(o,e),this.dt(i[o],e)}vt(t,e){const n=t.values||[];this.Rt(e,50);for(const r of n)this.dt(r,e)}St(t,e){this.Rt(e,37),zv.fromName(t).path.forEach((t=>{this.Rt(e,60),this.Ct(t,e)}))}Rt(t,e){t.Vt(e)}yt(t){t.Vt(2)}}Dx.Ft=new Dx;class Lx{constructor(){this.ln=new Rx}addToCollectionParentIndex(t,e){return this.ln.add(e),Gv.resolve()}getCollectionParents(t,e){return Gv.resolve(this.ln.getEntries(e))}addFieldIndex(t,e){return Gv.resolve()}deleteFieldIndex(t,e){return Gv.resolve()}deleteAllFieldIndexes(t){return Gv.resolve()}createTargetIndexes(t,e){return Gv.resolve()}getDocumentsMatchingTarget(t,e){return Gv.resolve(null)}getIndexType(t,e){return Gv.resolve(0)}getFieldIndexes(t,e){return Gv.resolve([])}getNextCollectionGroupToUpdate(t){return Gv.resolve(null)}getMinOffset(t,e){return Gv.resolve(Vv.min())}getMinOffsetFromCollectionGroup(t,e){return Gv.resolve(Vv.min())}updateCollectionGroup(t,e,n){return Gv.resolve()}updateIndexEntries(t,e){return Gv.resolve()}}class Rx{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new fb(Dv.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new fb(Dv.comparator)).toArray()}}new Uint8Array(0);const zx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Fx{static withCacheSize(t){return new Fx(t,Fx.DEFAULT_COLLECTION_PERCENTILE,Fx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}}Fx.DEFAULT_COLLECTION_PERCENTILE=10,Fx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fx.DEFAULT=new Fx(41943040,Fx.DEFAULT_COLLECTION_PERCENTILE,Fx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fx.DISABLED=new Fx(-1,0,0);class Bx{constructor(t){this.kn=t}next(){return this.kn+=2,this.kn}static qn(){return new Bx(0)}static Qn(){return new Bx(-1)}}function Ux(t,e){let[n,r]=t,[i,o]=e;const a=Av(n,i);return 0===a?Av(r,o):a}class Vx{constructor(t){this.Gn=t,this.buffer=new fb(Ux),this.zn=0}jn(){return++this.zn}Hn(t){const e=[t,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();Ux(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Wx{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(t){uv("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zv(t)?uv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await qv(t)}await this.Yn(3e5)}))}}class Hx{constructor(t,e){this.Zn=t,this.params=e}calculateTargetCount(t,e){return this.Zn.Xn(t).next((t=>Math.floor(e/100*t)))}nthSequenceNumber(t,e){if(0===e)return Gv.resolve(Yv.oe);const n=new Vx(e);return this.Zn.forEachTarget(t,(t=>n.Hn(t.sequenceNumber))).next((()=>this.Zn.er(t,(t=>n.Hn(t))))).next((()=>n.maxValue))}removeTargets(t,e,n){return this.Zn.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.Zn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(uv("LruGarbageCollector","Garbage collection skipped; disabled"),Gv.resolve(zx)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(uv("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zx):this.tr(t,e)))}getCacheSize(t){return this.Zn.getCacheSize(t)}tr(t,e){let n,r,i,o,a,s,l;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((e=>(e>this.params.maximumSequenceNumbersToCollect?(uv("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),r=this.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),this.nthSequenceNumber(t,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(t,n,e)))).next((e=>(i=e,s=Date.now(),this.removeOrphanedDocuments(t,n)))).next((t=>(l=Date.now(),cv()<=Zd.DEBUG&&uv("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${r} in `+(a-o)+"ms\n"+`\tRemoved ${i} targets in `+(s-a)+"ms\n"+`\tRemoved ${t} documents in `+(l-s)+"ms\n"+`Total Duration: ${l-c}ms`),Gv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t}))))}}function $x(t,e){return new Hx(t,e)}class qx{constructor(){this.changes=new F_((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Kb.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?Gv.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Gx{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Kx{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(n=r,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==n&&_w(n.mutation,t,mb.empty(),Iv.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,Y_()).next((()=>e))))}getLocalViewOfDocuments(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y_();const r=$_();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,n).next((t=>{let e=W_();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=$_();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,Y_())))}populateOverlays(t,e,n){const r=[];return n.forEach((t=>{e.has(t)||r.push(t)})),this.documentOverlayCache.getOverlays(t,r).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,r){let i=U_();const o=G_(),a=G_();return e.forEach(((t,e)=>{const a=n.get(e.key);r.has(e.key)&&(void 0===a||a.mutation instanceof kw)?i=i.insert(e.key,e):void 0!==a?(o.set(e.key,a.mutation.getFieldMask()),_w(a.mutation,e,a.mutation.getFieldMask(),Iv.now())):o.set(e.key,mb.empty())})),this.recalculateAndSaveOverlays(t,i).next((t=>(t.forEach(((t,e)=>o.set(t,e))),e.forEach(((t,e)=>{var n;return a.set(t,new Gx(e,null!==(n=o.get(t))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(t,e){const n=G_();let r=new ub(((t,e)=>t-e)),i=Y_();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const i of t)i.keys().forEach((t=>{const o=e.get(t);if(null===o)return;let a=n.get(t)||mb.empty();a=i.applyToLocalView(o,a),n.set(t,a);const s=(r.get(i.batchId)||Y_()).add(t);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=q_();l.forEach((t=>{if(!i.has(t)){const r=vw(e.get(t),n.get(t));null!==r&&c.set(t,r),i=i.add(t)}})),o.push(this.documentOverlayCache.saveOverlays(t,s,c))}return Gv.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n,r){return function(t){return zv.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):E_(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,r):this.getDocumentsMatchingCollectionQuery(t,e,n,r)}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-i.size):Gv.resolve($_());let a=-1,s=i;return o.next((e=>Gv.forEach(e,((e,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(e)?Gv.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{s=s.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,i))).next((()=>this.computeViews(t,s,e,Y_()))).next((t=>({batchId:a,changes:H_(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new zv(e)).next((t=>{let e=W_();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n,r){const i=e.collectionGroup;let o=W_();return this.indexManager.getCollectionParents(t,i).next((a=>Gv.forEach(a,(a=>{const s=function(t,e){return new x_(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return this.getDocumentsMatchingCollectionQuery(t,s,n,r).next((t=>{t.forEach(((t,e)=>{o=o.insert(t,e)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(t,e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,i,r)))).next((t=>{i.forEach(((e,n)=>{const r=n.getKey();null===t.get(r)&&(t=t.insert(r,Kb.newInvalidDocument(r)))}));let n=W_();return t.forEach(((t,r)=>{const o=i.get(t);void 0!==o&&_w(o.mutation,r,mb.empty(),Iv.now()),D_(e,r)&&(n=n.insert(t,r))})),n}))}}class Zx{constructor(t){this.serializer=t,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(t,e){return Gv.resolve(this.Tr.get(e))}saveBundleMetadata(t,e){return this.Tr.set(e.id,function(t){return{id:t.id,version:t.version,createTime:lx(t.createTime)}}(e)),Gv.resolve()}getNamedQuery(t,e){return Gv.resolve(this.Ir.get(e))}saveNamedQuery(t,e){return this.Ir.set(e.name,function(t){return{name:t.name,query:Nx(t.bundledQuery),readTime:lx(t.readTime)}}(e)),Gv.resolve()}}class Yx{constructor(){this.overlays=new ub(zv.comparator),this.Er=new Map}getOverlay(t,e){return Gv.resolve(this.overlays.get(e))}getOverlays(t,e){const n=$_();return Gv.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,r)=>{this.Tt(t,e,r)})),Gv.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.Er.get(n);return void 0!==r&&(r.forEach((t=>this.overlays=this.overlays.remove(t))),this.Er.delete(n)),Gv.resolve()}getOverlaysForCollection(t,e,n){const r=$_(),i=e.length+1,o=new zv(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const t=a.getNext().value,o=t.getKey();if(!e.isPrefixOf(o.path))break;o.path.length===i&&t.largestBatchId>n&&r.set(t.getKey(),t)}return Gv.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let i=new ub(((t,e)=>t-e));const o=this.overlays.getIterator();for(;o.hasNext();){const t=o.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=i.get(t.largestBatchId);null===e&&(e=$_(),i=i.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const a=$_(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((t,e)=>a.set(t,e))),!(a.size()>=r)););return Gv.resolve(a)}Tt(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const t=this.Er.get(r.largestBatchId).delete(n.key);this.Er.set(r.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new Iw(e,n));let i=this.Er.get(e);void 0===i&&(i=Y_(),this.Er.set(e,i)),this.Er.set(e,i.add(n.key))}}class Xx{constructor(){this.sessionToken=yb.EMPTY_BYTE_STRING}getSessionToken(t){return Gv.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,Gv.resolve()}}class Qx{constructor(){this.dr=new fb(Jx.Ar),this.Rr=new fb(Jx.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(t,e){const n=new Jx(t,e);this.dr=this.dr.add(n),this.Rr=this.Rr.add(n)}mr(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.gr(new Jx(t,e))}pr(t,e){t.forEach((t=>this.removeReference(t,e)))}yr(t){const e=new zv(new Dv([])),n=new Jx(e,t),r=new Jx(e,t+1),i=[];return this.Rr.forEachInRange([n,r],(t=>{this.gr(t),i.push(t.key)})),i}wr(){this.dr.forEach((t=>this.gr(t)))}gr(t){this.dr=this.dr.delete(t),this.Rr=this.Rr.delete(t)}Sr(t){const e=new zv(new Dv([])),n=new Jx(e,t),r=new Jx(e,t+1);let i=Y_();return this.Rr.forEachInRange([n,r],(t=>{i=i.add(t.key)})),i}containsKey(t){const e=new Jx(t,0),n=this.dr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class Jx{constructor(t,e){this.key=t,this.br=e}static Ar(t,e){return zv.comparator(t.key,e.key)||Av(t.br,e.br)}static Vr(t,e){return Av(t.br,e.br)||zv.comparator(t.key,e.key)}}class tS{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Dr=1,this.vr=new fb(Jx.Ar)}checkEmpty(t){return Gv.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Aw(i,e,n,r);this.mutationQueue.push(o);for(const a of r)this.vr=this.vr.add(new Jx(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Gv.resolve(o)}lookupMutationBatch(t,e){return Gv.resolve(this.Cr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.Fr(n),i=r<0?0:r;return Gv.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Gv.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(t){return Gv.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Jx(e,0),r=new Jx(e,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([n,r],(t=>{const e=this.Cr(t.br);i.push(e)})),Gv.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new fb(Av);return e.forEach((t=>{const e=new Jx(t,0),r=new Jx(t,Number.POSITIVE_INFINITY);this.vr.forEachInRange([e,r],(t=>{n=n.add(t.br)}))})),Gv.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;zv.isDocumentKey(i)||(i=i.child(""));const o=new Jx(new zv(i),0);let a=new fb(Av);return this.vr.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.br)),!0)}),o),Gv.resolve(this.Mr(a))}Mr(t){const e=[];return t.forEach((t=>{const n=this.Cr(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){mv(0===this.Or(e.batchId,"removed")),this.mutationQueue.shift();let n=this.vr;return Gv.forEach(e.mutations,(r=>{const i=new Jx(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.vr=n}))}Ln(t){}containsKey(t,e){const n=new Jx(e,0),r=this.vr.firstAfterOrEqual(n);return Gv.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,Gv.resolve()}Or(t,e){return this.Fr(t)}Fr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Cr(t){const e=this.Fr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class eS{constructor(t){this.Nr=t,this.docs=new ub(zv.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),i=r?r.size:0,o=this.Nr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Gv.resolve(n?n.document.mutableCopy():Kb.newInvalidDocument(e))}getEntries(t,e){let n=U_();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():Kb.newInvalidDocument(t))})),Gv.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let i=U_();const o=e.path,a=new zv(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:t,value:{document:a}}=s.getNext();if(!o.isPrefixOf(t.path))break;t.path.length>o.length+1||Wv(Uv(a),n)<=0||(r.has(a.key)||D_(e,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Gv.resolve(i)}getAllFromCollectionGroup(t,e,n,r){pv()}Lr(t,e){return Gv.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new nS(this)}getSize(t){return Gv.resolve(this.size)}}class nS extends qx{constructor(t){super(),this.hr=t}applyChanges(t){const e=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?e.push(this.hr.addEntry(t,r)):this.hr.removeEntry(n)})),Gv.waitFor(e)}getFromCache(t,e){return this.hr.getEntry(t,e)}getAllFromCache(t,e){return this.hr.getEntries(t,e)}}class rS{constructor(t){this.persistence=t,this.Br=new F_((t=>b_(t)),__),this.lastRemoteSnapshotVersion=Mv.min(),this.highestTargetId=0,this.kr=0,this.qr=new Qx,this.targetCount=0,this.Qr=Bx.qn()}forEachTarget(t,e){return this.Br.forEach(((t,n)=>e(n))),Gv.resolve()}getLastRemoteSnapshotVersion(t){return Gv.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Gv.resolve(this.kr)}allocateTargetId(t){return this.highestTargetId=this.Qr.next(),Gv.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.kr&&(this.kr=e),Gv.resolve()}Un(t){this.Br.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Qr=new Bx(e),this.highestTargetId=e),t.sequenceNumber>this.kr&&(this.kr=t.sequenceNumber)}addTargetData(t,e){return this.Un(e),this.targetCount+=1,Gv.resolve()}updateTargetData(t,e){return this.Un(e),Gv.resolve()}removeTargetData(t,e){return this.Br.delete(e.target),this.qr.yr(e.targetId),this.targetCount-=1,Gv.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Br.forEach(((o,a)=>{a.sequenceNumber<=e&&null===n.get(a.targetId)&&(this.Br.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)})),Gv.waitFor(i).next((()=>r))}getTargetCount(t){return Gv.resolve(this.targetCount)}getTargetData(t,e){const n=this.Br.get(e)||null;return Gv.resolve(n)}addMatchingKeys(t,e,n){return this.qr.mr(e,n),Gv.resolve()}removeMatchingKeys(t,e,n){this.qr.pr(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((e=>{i.push(r.markPotentiallyOrphaned(t,e))})),Gv.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.qr.yr(e),Gv.resolve()}getMatchingKeysForTargetId(t,e){const n=this.qr.Sr(e);return Gv.resolve(n)}containsKey(t,e){return Gv.resolve(this.qr.containsKey(e))}}class iS{constructor(t,e){this.Kr={},this.overlays={},this.$r=new Yv(0),this.Ur=!1,this.Ur=!0,this.Wr=new Xx,this.referenceDelegate=t(this),this.Gr=new rS(this),this.indexManager=new Lx,this.remoteDocumentCache=function(t){return new eS(t)}((t=>this.referenceDelegate.zr(t))),this.serializer=new Mx(e),this.jr=new Zx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Yx,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Kr[t.toKey()];return n||(n=new tS(e,this.referenceDelegate),this.Kr[t.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(t,e,n){uv("MemoryPersistence","Starting transaction:",t);const r=new oS(this.$r.next());return this.referenceDelegate.Hr(),n(r).next((t=>this.referenceDelegate.Jr(r).next((()=>t)))).toPromise().then((t=>(r.raiseOnCommittedEvent(),t)))}Yr(t,e){return Gv.or(Object.values(this.Kr).map((n=>()=>n.containsKey(t,e))))}}class oS extends $v{constructor(t){super(),this.currentSequenceNumber=t}}class aS{constructor(t){this.persistence=t,this.Zr=new Qx,this.Xr=null}static ei(t){return new aS(t)}get ti(){if(this.Xr)return this.Xr;throw pv()}addReference(t,e,n){return this.Zr.addReference(n,e),this.ti.delete(n.toString()),Gv.resolve()}removeReference(t,e,n){return this.Zr.removeReference(n,e),this.ti.add(n.toString()),Gv.resolve()}markPotentiallyOrphaned(t,e){return this.ti.add(e.toString()),Gv.resolve()}removeTarget(t,e){this.Zr.yr(e.targetId).forEach((t=>this.ti.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.ti.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}Hr(){this.Xr=new Set}Jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gv.forEach(this.ti,(n=>{const r=zv.fromPath(n);return this.ni(t,r).next((t=>{t||e.removeEntry(r,Mv.min())}))})).next((()=>(this.Xr=null,e.apply(t))))}updateLimboDocument(t,e){return this.ni(t,e).next((t=>{t?this.ti.delete(e.toString()):this.ti.add(e.toString())}))}zr(t){return 0}ni(t,e){return Gv.or([()=>Gv.resolve(this.Zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Yr(t,e)])}}class sS{constructor(t,e){this.persistence=t,this.ri=new F_((t=>tb(t.path)),((t,e)=>t.isEqual(e))),this.garbageCollector=$x(this,e)}static ei(t,e){return new sS(t,e)}Hr(){}Jr(t){return Gv.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}Xn(t){const e=this.nr(t);return this.persistence.getTargetCache().getTargetCount(t).next((t=>e.next((e=>t+e))))}nr(t){let e=0;return this.er(t,(t=>{e++})).next((()=>e))}er(t,e){return Gv.forEach(this.ri,((n,r)=>this.ir(t,n,r).next((t=>t?Gv.resolve():e(r)))))}removeTargets(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)}removeOrphanedDocuments(t,e){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Lr(t,(r=>this.ir(t,r,e).next((t=>{t||(n++,i.removeEntry(r,Mv.min()))})))).next((()=>i.apply(t))).next((()=>n))}markPotentiallyOrphaned(t,e){return this.ri.set(e,t.currentSequenceNumber),Gv.resolve()}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,e,n){return this.ri.set(n,t.currentSequenceNumber),Gv.resolve()}removeReference(t,e,n){return this.ri.set(n,t.currentSequenceNumber),Gv.resolve()}updateLimboDocument(t,e){return this.ri.set(e,t.currentSequenceNumber),Gv.resolve()}zr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Lb(t.data.value)),e}ir(t,e,n){return Gv.or([()=>this.persistence.Yr(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const t=this.ri.get(e);return Gv.resolve(void 0!==t&&t>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class lS{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.Wi=n,this.Gi=r}static zi(t,e){let n=Y_(),r=Y_();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new lS(t,e.fromCache,n,r)}}class cS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class uS{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=jd()?8:Kv(Ad())>0?6:4}initialize(t,e){this.Zi=t,this.indexManager=e,this.ji=!0}getDocumentsMatchingQuery(t,e,n,r){const i={result:null};return this.Xi(t,e).next((t=>{i.result=t})).next((()=>{if(!i.result)return this.es(t,e,r,n).next((t=>{i.result=t}))})).next((()=>{if(i.result)return;const n=new cS;return this.ts(t,e,n).next((r=>{if(i.result=r,this.Hi)return this.ns(t,e,n,r.size)}))})).next((()=>i.result))}ns(t,e,n,r){return n.documentReadCount<this.Ji?(cv()<=Zd.DEBUG&&uv("QueryEngine","SDK will not create cache indexes for query:",N_(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Gv.resolve()):(cv()<=Zd.DEBUG&&uv("QueryEngine","Query:",N_(e),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Yi*r?(cv()<=Zd.DEBUG&&uv("QueryEngine","The SDK decides to create cache indexes for query:",N_(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,P_(e))):Gv.resolve())}Xi(t,e){if(O_(e))return Gv.resolve(null);let n=P_(e);return this.indexManager.getIndexType(t,n).next((r=>0===r?null:(null!==e.limit&&1===r&&(e=j_(e,null,"F"),n=P_(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((r=>{const i=Y_(...r);return this.Zi.getDocuments(t,i).next((r=>this.indexManager.getMinOffset(t,n).next((n=>{const o=this.rs(e,r);return this.ss(e,o,i,n.readTime)?this.Xi(t,j_(e,null,"F")):this.os(t,o,e,n)}))))})))))}es(t,e,n,r){return O_(e)||r.isEqual(Mv.min())?Gv.resolve(null):this.Zi.getDocuments(t,n).next((i=>{const o=this.rs(e,i);return this.ss(e,o,n,r)?Gv.resolve(null):(cv()<=Zd.DEBUG&&uv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),N_(e)),this.os(t,o,e,Bv(r,-1)).next((t=>t)))}))}rs(t,e){let n=new fb(R_(t));return e.forEach(((e,r)=>{D_(t,r)&&(n=n.add(r))})),n}ss(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const i="F"===t.limitType?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ts(t,e,n){return cv()<=Zd.DEBUG&&uv("QueryEngine","Using full collection scan to execute query:",N_(e)),this.Zi.getDocumentsMatchingQuery(t,e,Vv.min(),n)}os(t,e,n,r){return this.Zi.getDocumentsMatchingQuery(t,n,r).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}class hS{constructor(t,e,n,r){this.persistence=t,this._s=e,this.serializer=r,this.us=new ub(Av),this.cs=new F_((t=>b_(t)),__),this.ls=new Map,this.hs=t.getRemoteDocumentCache(),this.Gr=t.getTargetCache(),this.jr=t.getBundleCache(),this.Ps(n)}Ps(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Kx(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.us)))}}function dS(t,e,n,r){return new hS(t,e,n,r)}async function fS(t,e){const n=gv(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let r;return n.mutationQueue.getAllMutationBatches(t).next((i=>(r=i,n.Ps(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const i=[],o=[];let a=Y_();for(const t of r){i.push(t.batchId);for(const e of t.mutations)a=a.add(e.key)}for(const t of e){o.push(t.batchId);for(const e of t.mutations)a=a.add(e.key)}return n.localDocuments.getDocuments(t,a).next((t=>({Ts:t,removedBatchIds:i,addedBatchIds:o})))}))}))}function pS(t){const e=gv(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Gr.getLastRemoteSnapshotVersion(t)))}function mS(t,e,n){let r=Y_(),i=Y_();return n.forEach((t=>r=r.add(t))),e.getEntries(t,r).next((t=>{let r=U_();return n.forEach(((n,o)=>{const a=t.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Mv.min())?(e.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o),r=r.insert(n,o)):uv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{Is:r,Es:i}}))}function gS(t,e){const n=gv(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function yS(t,e){const n=gv(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let r;return n.Gr.getTargetData(t,e).next((i=>i?(r=i,Gv.resolve(r)):n.Gr.allocateTargetId(t).next((i=>(r=new Ix(e,i,"TargetPurposeListen",t.currentSequenceNumber),n.Gr.addTargetData(t,r).next((()=>r)))))))})).then((t=>{const r=n.us.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.us=n.us.insert(t.targetId,t),n.cs.set(e,t.targetId)),t}))}async function vS(t,e,n){const r=gv(t),i=r.us.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(t=>r.persistence.referenceDelegate.removeTarget(t,i)))}catch(t){if(!Zv(t))throw t;uv("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function bS(t,e,n){const r=gv(t);let i=Mv.min(),o=Y_();return r.persistence.runTransaction("Execute query","readwrite",(t=>function(t,e,n){const r=gv(t),i=r.cs.get(n);return void 0!==i?Gv.resolve(r.us.get(i)):r.Gr.getTargetData(e,n)}(r,t,P_(e)).next((e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(t,e.targetId).next((t=>{o=t}))})).next((()=>r._s.getDocumentsMatchingQuery(t,e,n?i:Mv.min(),n?o:Y_()))).next((t=>(_S(r,L_(e),t),{documents:t,ds:o})))))}function _S(t,e,n){let r=t.ls.get(e)||Mv.min();n.forEach(((t,e)=>{e.readTime.compareTo(r)>0&&(r=e.readTime)})),t.ls.set(e,r)}class wS{constructor(){this.activeTargetIds=Q_()}ps(t){this.activeTargetIds=this.activeTargetIds.add(t)}ys(t){this.activeTargetIds=this.activeTargetIds.delete(t)}gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class xS{constructor(){this._o=new wS,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this._o.ps(t),this.ao[t]||"not-current"}updateQueryState(t,e,n){this.ao[t]=e}removeLocalQueryTarget(t){this._o.ys(t)}isLocalQueryTarget(t){return this._o.activeTargetIds.has(t)}clearQueryState(t){delete this.ao[t]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(t){return this._o.activeTargetIds.has(t)}start(){return this._o=new wS,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class SS{uo(t){}shutdown(){}}class kS{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(t){this.To.push(t)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){uv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.To)t(0)}Po(){uv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.To)t(1)}static p(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let OS=null;function ES(){return null===OS?OS=268435456+Math.round(2147483648*Math.random()):OS++,"0x"+OS.toString(16)}const TS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PS{constructor(t){this.Eo=t.Eo,this.Ao=t.Ao}Ro(t){this.Vo=t}mo(t){this.fo=t}po(t){this.yo=t}onMessage(t){this.wo=t}close(){this.Ao()}send(t){this.Eo(t)}So(){this.Vo()}bo(){this.fo()}Do(t){this.yo(t)}vo(t){this.wo(t)}}const CS="WebChannelConnection";class AS extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Fo=e+"://"+t.host,this.Mo=`projects/${n}/databases/${r}`,this.xo="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Oo(t,e,n,r,i){const o=ES(),a=this.No(t,e.toUriEncodedString());uv("RestConnection",`Sending RPC '${t}' ${o}:`,a,n);const s={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(s,r,i),this.Bo(t,a,s,n).then((e=>(uv("RestConnection",`Received RPC '${t}' ${o}: `,e),e)),(e=>{throw dv("RestConnection",`RPC '${t}' ${o} failed with error: `,e,"url: ",a,"request:",n),e}))}ko(t,e,n,r,i,o){return this.Oo(t,e,n,r,i)}Lo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+sv,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}No(t,e){const n=TS[t];return`${this.Fo}/v1/${e}:${n}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Bo(t,e,n,r){const i=ES();return new Promise(((o,a)=>{const s=new Zy;s.setWithCredentials(!0),s.listenOnce(Xy.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Qy.NO_ERROR:const e=s.getResponseJson();uv(CS,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(e)),o(e);break;case Qy.TIMEOUT:uv(CS,`RPC '${t}' ${i} timed out`),a(new vv(yv.DEADLINE_EXCEEDED,"Request time out"));break;case Qy.HTTP_ERROR:const n=s.getStatus();if(uv(CS,`RPC '${t}' ${i} failed with status:`,n,"response text:",s.getResponseText()),n>0){let t=s.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(yv).indexOf(e)>=0?e:yv.UNKNOWN}(e.status);a(new vv(t,e.message))}else a(new vv(yv.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new vv(yv.UNAVAILABLE,"Connection failed."));break;default:pv()}}finally{uv(CS,`RPC '${t}' ${i} completed.`)}}));const l=JSON.stringify(r);uv(CS,`RPC '${t}' ${i} sending request:`,r),s.send(e,"POST",l,n,15)}))}qo(t,e,n){const r=ES(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=nv(),a=ev(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Lo(s.initMessageHeaders,e,n),s.encodeInitMessageHeaders=!0;const c=i.join("");uv(CS,`Creating RPC '${t}' stream ${r}: ${c}`,s);const u=o.createWebChannel(c,s);let h=!1,d=!1;const f=new PS({Eo:e=>{d?uv(CS,`Not sending because RPC '${t}' stream ${r} is closed:`,e):(h||(uv(CS,`Opening RPC '${t}' stream ${r} transport.`),u.open(),h=!0),uv(CS,`RPC '${t}' stream ${r} sending:`,e),u.send(e))},Ao:()=>u.close()}),p=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return p(u,Yy.EventType.OPEN,(()=>{d||(uv(CS,`RPC '${t}' stream ${r} transport opened.`),f.So())})),p(u,Yy.EventType.CLOSE,(()=>{d||(d=!0,uv(CS,`RPC '${t}' stream ${r} transport closed`),f.Do())})),p(u,Yy.EventType.ERROR,(e=>{d||(d=!0,dv(CS,`RPC '${t}' stream ${r} transport errored:`,e),f.Do(new vv(yv.UNAVAILABLE,"The operation could not be completed")))})),p(u,Yy.EventType.MESSAGE,(e=>{var n;if(!d){const i=e.data[0];mv(!!i);const o=i,a=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){uv(CS,`RPC '${t}' stream ${r} received error:`,a);const e=a.status;let n=function(t){const e=Nw[t];if(void 0!==e)return Rw(e)}(e),i=a.message;void 0===n&&(n=yv.INTERNAL,i="Unknown error status: "+e+" with message "+a.message),d=!0,f.Do(new vv(n,i)),u.close()}else uv(CS,`RPC '${t}' stream ${r} received:`,i),f.vo(i)}})),p(a,tv.STAT_EVENT,(e=>{e.stat===Jy.PROXY?uv(CS,`RPC '${t}' stream ${r} detected buffering proxy`):e.stat===Jy.NOPROXY&&uv(CS,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.bo()}),0),f}}function jS(){return"undefined"!=typeof document?document:null}function IS(t){return new rx(t,!0)}class MS{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.li=t,this.timerId=e,this.Qo=n,this.Ko=r,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(t){this.cancel();const e=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),r=Math.max(0,e-n);r>0&&uv("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Uo} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,(()=>(this.Go=Date.now(),t()))),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}class NS{constructor(t,e,n,r,i,o,a,s){this.li=t,this.Yo=n,this.Zo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new MS(t,e)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,(()=>this.u_())))}c_(t){this.l_(),this.stream.send(t)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(t,e){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,4!==t?this.r_.reset():e&&e.code===yv.RESOURCE_EXHAUSTED?(hv(e.toString()),hv("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):e&&e.code===yv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.P_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.po(e)}P_(){}auth(){this.state=1;const t=this.T_(this.Xo),e=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((t=>{let[n,r]=t;this.Xo===e&&this.I_(n,r)}),(e=>{t((()=>{const t=new vv(yv.UNKNOWN,"Fetching auth token failed: "+e.message);return this.E_(t)}))}))}I_(t,e){const n=this.T_(this.Xo);this.stream=this.d_(t,e),this.stream.Ro((()=>{n((()=>this.listener.Ro()))})),this.stream.mo((()=>{n((()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,(()=>(this.s_()&&(this.state=3),Promise.resolve()))),this.listener.mo())))})),this.stream.po((t=>{n((()=>this.E_(t)))})),this.stream.onMessage((t=>{n((()=>1==++this.n_?this.A_(t):this.onNext(t)))}))}o_(){this.state=5,this.r_.jo((async()=>{this.state=0,this.start()}))}E_(t){return uv("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}T_(t){return e=>{this.li.enqueueAndForget((()=>this.Xo===t?e():(uv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DS extends NS{constructor(t,e,n,r,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,o),this.serializer=i}d_(t,e){return this.connection.qo("Listen",t,e)}A_(t){return this.onNext(t)}onNext(t){this.r_.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:pv()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.useProto3Json?(mv(void 0===e||"string"==typeof e),yb.fromBase64String(e||"")):(mv(void 0===e||e instanceof Buffer||e instanceof Uint8Array),yb.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){const e=void 0===t.code?yv.UNKNOWN:Rw(t.code);return new vv(e,t.message||"")}(a);n=new Zw(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=fx(t,r.document.name),o=lx(r.document.updateTime),a=r.document.createTime?lx(r.document.createTime):Mv.min(),s=new qb({mapValue:{fields:r.document.fields}}),l=Kb.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Gw(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=fx(t,r.document),o=r.readTime?lx(r.readTime):Mv.min(),a=Kb.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Gw([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=fx(t,r.document),o=r.removedTargetIds||[];n=new Gw([],o,i,null)}else{if(!("filter"in e))return pv();{e.filter;const t=e.filter;t.targetId;const{count:r=0,unchangedNames:i}=t,o=new Mw(r,i),a=t.targetId;n=new Kw(a,o)}}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return Mv.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Mv.min():e.readTime?lx(e.readTime):Mv.min()}(t);return this.listener.R_(e,n)}V_(t){const e={};e.database=gx(this.serializer),e.addTarget=function(t,e){let n;const r=e.target;if(n=w_(r)?{documents:_x(t,r)}:{query:wx(t,r).ct},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=ax(t,e.resumeToken);const r=ix(t,e.expectedCount);null!==r&&(n.expectedCount=r)}else if(e.snapshotVersion.compareTo(Mv.min())>0){n.readTime=ox(t,e.snapshotVersion.toTimestamp());const r=ix(t,e.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,t);const n=function(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pv()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.c_(e)}m_(t){const e={};e.database=gx(this.serializer),e.removeTarget=t,this.c_(e)}}class LS extends NS{constructor(t,e,n,r,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,o),this.serializer=i}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(t,e){return this.connection.qo("Write",t,e)}A_(t){return mv(!!t.streamToken),this.lastStreamToken=t.streamToken,mv(!t.writeResults||0===t.writeResults.length),this.listener.p_()}onNext(t){mv(!!t.streamToken),this.lastStreamToken=t.streamToken,this.r_.reset();const e=function(t,e){return t&&t.length>0?(mv(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?lx(t.updateTime):lx(e);return n.isEqual(Mv.min())&&(n=lx(e)),new pw(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=lx(t.commitTime);return this.listener.y_(n,e)}w_(){const t={};t.database=gx(this.serializer),this.c_(t)}g_(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>bx(this.serializer,t)))};this.c_(e)}}class RS extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=r,this.S_=!1}b_(){if(this.S_)throw new vv(yv.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(t,e,n,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.Oo(t,ux(e,n),r,o,a)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===yv.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new vv(yv.UNKNOWN,t.toString())}))}ko(t,e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((o=>{let[a,s]=o;return this.connection.ko(t,ux(e,n),r,a,s,i)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===yv.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new vv(yv.UNKNOWN,t.toString())}))}terminate(){this.S_=!0,this.connection.terminate()}}class zS{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve()))))}O_(t){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.M_("Offline")))}set(t){this.N_(),this.D_=0,"Online"===t&&(this.C_=!1),this.M_(t)}M_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}x_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(hv(e),this.C_=!1):uv("OnlineStateTracker",e)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}class FS{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo((t=>{n.enqueueAndForget((async()=>{KS(this)&&(uv("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=gv(t);e.k_.add(4),await US(e),e.K_.set("Unknown"),e.k_.delete(4),await BS(e)}(this))}))})),this.K_=new zS(n,r)}}async function BS(t){if(KS(t))for(const e of t.q_)await e(!0)}async function US(t){for(const e of t.q_)await e(!1)}function VS(t,e){const n=gv(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),GS(n)?qS(n):fk(n).s_()&&HS(n,e))}function WS(t,e){const n=gv(t),r=fk(n);n.B_.delete(e),r.s_()&&$S(n,e),0===n.B_.size&&(r.s_()?r.a_():KS(n)&&n.K_.set("Unknown"))}function HS(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Mv.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fk(t).V_(e)}function $S(t,e){t.U_.xe(e),fk(t).m_(e)}function qS(t){t.U_=new Xw({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),fk(t).start(),t.K_.F_()}function GS(t){return KS(t)&&!fk(t).i_()&&t.B_.size>0}function KS(t){return 0===gv(t).k_.size}function ZS(t){t.U_=void 0}async function YS(t){t.K_.set("Online")}async function XS(t){t.B_.forEach(((e,n)=>{HS(t,e)}))}async function QS(t,e){ZS(t),GS(t)?(t.K_.O_(e),qS(t)):t.K_.set("Unknown")}async function JS(t,e,n){if(t.K_.set("Online"),e instanceof Zw&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.B_.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.B_.delete(r),t.U_.removeTarget(r))}(t,e)}catch(n){uv("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await tk(t,n)}else if(e instanceof Gw?t.U_.$e(e):e instanceof Kw?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(Mv.min()))try{const e=await pS(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.U_.it(e);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.B_.get(r);i&&t.B_.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach(((e,n)=>{const r=t.B_.get(e);if(!r)return;t.B_.set(e,r.withResumeToken(yb.EMPTY_BYTE_STRING,r.snapshotVersion)),$S(t,e);const i=new Ix(r.target,e,n,r.sequenceNumber);HS(t,i)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){uv("RemoteStore","Failed to raise snapshot:",e),await tk(t,e)}}async function tk(t,e,n){if(!Zv(e))throw e;t.k_.add(1),await US(t),t.K_.set("Offline"),n||(n=()=>pS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{uv("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await BS(t)}))}function ek(t,e){return e().catch((n=>tk(t,n,e)))}async function nk(t){const e=gv(t),n=pk(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;rk(e);)try{const t=await gS(e.localStore,r);if(null===t){0===e.L_.length&&n.a_();break}r=t.batchId,ik(e,t)}catch(t){await tk(e,t)}ok(e)&&ak(e)}function rk(t){return KS(t)&&t.L_.length<10}function ik(t,e){t.L_.push(e);const n=pk(t);n.s_()&&n.f_&&n.g_(e.mutations)}function ok(t){return KS(t)&&!pk(t).i_()&&t.L_.length>0}function ak(t){pk(t).start()}async function sk(t){pk(t).w_()}async function lk(t){const e=pk(t);for(const n of t.L_)e.g_(n.mutations)}async function ck(t,e,n){const r=t.L_.shift(),i=jw.from(r,e,n);await ek(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await nk(t)}async function uk(t,e){e&&pk(t).f_&&await async function(t,e){if(function(t){return Lw(t)&&t!==yv.ABORTED}(e.code)){const n=t.L_.shift();pk(t).__(),await ek(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await nk(t)}}(t,e),ok(t)&&ak(t)}async function hk(t,e){const n=gv(t);n.asyncQueue.verifyOperationInProgress(),uv("RemoteStore","RemoteStore received new credentials");const r=KS(n);n.k_.add(3),await US(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await BS(n)}async function dk(t,e){const n=gv(t);e?(n.k_.delete(2),await BS(n)):e||(n.k_.add(2),await US(n),n.K_.set("Unknown"))}function fk(t){return t.W_||(t.W_=function(t,e,n){const r=gv(t);return r.b_(),new DS(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{Ro:YS.bind(null,t),mo:XS.bind(null,t),po:QS.bind(null,t),R_:JS.bind(null,t)}),t.q_.push((async e=>{e?(t.W_.__(),GS(t)?qS(t):t.K_.set("Unknown")):(await t.W_.stop(),ZS(t))}))),t.W_}function pk(t){return t.G_||(t.G_=function(t,e,n){const r=gv(t);return r.b_(),new LS(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:sk.bind(null,t),po:uk.bind(null,t),p_:lk.bind(null,t),y_:ck.bind(null,t)}),t.q_.push((async e=>{e?(t.G_.__(),await nk(t)):(await t.G_.stop(),t.L_.length>0&&(uv("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))}))),t.G_}class mk{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new bv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,r,i){const o=Date.now()+n,a=new mk(t,e,o,r,i);return a.start(n),a}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vv(yv.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gk(t,e){if(hv("AsyncQueue",`${e}: ${t}`),Zv(t))return new vv(yv.UNAVAILABLE,`${e}: ${t}`);throw t}class yk{static emptySet(t){return new yk(t.comparator)}constructor(t){this.comparator=t?(e,n)=>t(e,n)||zv.comparator(e.key,n.key):(t,e)=>zv.comparator(t.key,e.key),this.keyedMap=W_(),this.sortedSet=new ub(this.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof yk))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new yk;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class vk{constructor(){this.z_=new ub(zv.comparator)}track(t){const e=t.doc.key,n=this.z_.get(e);n?0!==t.type&&3===n.type?this.z_=this.z_.insert(e,t):3===t.type&&1!==n.type?this.z_=this.z_.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.z_=this.z_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.z_=this.z_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.z_=this.z_.remove(e):1===t.type&&2===n.type?this.z_=this.z_.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.z_=this.z_.insert(e,{type:2,doc:t.doc}):pv():this.z_=this.z_.insert(e,t)}j_(){const t=[];return this.z_.inorderTraversal(((e,n)=>{t.push(n)})),t}}class bk{constructor(t,e,n,r,i,o,a,s,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,r,i){const o=[];return e.forEach((t=>{o.push({type:0,doc:t})})),new bk(t,e,yk.emptySet(e),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&I_(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}class _k{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some((t=>t.Z_()))}}class wk{constructor(){this.queries=xk(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(t,e){const n=gv(t),r=n.queries;n.queries=xk(),r.forEach(((t,n)=>{for(const r of n.J_)r.onError(e)}))}(this,new vv(yv.ABORTED,"Firestore shutting down"))}}function xk(){return new F_((t=>M_(t)),I_)}async function Sk(t,e){const n=gv(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new _k,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(i,!0);break;case 1:o.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(t){const n=gk(t,`Initialization of query '${N_(e.query)}' failed`);return void e.onError(n)}n.queries.set(i,o),o.J_.push(e),e.ea(n.onlineState),o.H_&&e.ta(o.H_)&&Tk(n)}async function kk(t,e){const n=gv(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const t=o.J_.indexOf(e);t>=0&&(o.J_.splice(t,1),0===o.J_.length?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ok(t,e){const n=gv(t);let r=!1;for(const i of e){const t=i.query,e=n.queries.get(t);if(e){for(const t of e.J_)t.ta(i)&&(r=!0);e.H_=i}}r&&Tk(n)}function Ek(t,e,n){const r=gv(t),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(n);r.queries.delete(e)}function Tk(t){t.X_.forEach((t=>{t.next()}))}var Pk,Ck;(Ck=Pk||(Pk={})).na="default",Ck.Cache="cache";class Ak{constructor(t,e,n){this.query=t,this.ra=e,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new bk(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ia?this.oa(t)&&(this.ra.next(t),e=!0):this._a(t,this.onlineState)&&(this.aa(t),e=!0),this.sa=t,e}onError(t){this.ra.error(t)}ea(t){this.onlineState=t;let e=!1;return this.sa&&!this.ia&&this._a(this.sa,t)&&(this.aa(this.sa),e=!0),e}_a(t,e){if(!t.fromCache)return!0;if(!this.Z_())return!0;const n="Offline"!==e;return(!this.options.ua||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}oa(t){if(t.docChanges.length>0)return!0;const e=this.sa&&this.sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}aa(t){t=bk.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ia=!0,this.ra.next(t)}Z_(){return this.options.source!==Pk.Cache}}class jk{constructor(t){this.key=t}}class Ik{constructor(t){this.key=t}}class Mk{constructor(t,e){this.query=t,this.da=e,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Y_(),this.mutatedKeys=Y_(),this.Va=R_(t),this.ma=new yk(this.Va)}get fa(){return this.da}ga(t,e){const n=e?e.pa:new vk,r=e?e.ma:this.ma;let i=e?e.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((t,e)=>{const c=r.get(t),u=D_(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ya(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.Va(u,s)>0||l&&this.Va(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=d?i.add(t):i.delete(t)):(o=o.delete(t),i=i.delete(t)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const t="F"===this.query.limitType?o.last():o.first();o=o.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{ma:o,pa:n,ss:a,mutatedKeys:i}}ya(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,r){const i=this.ma;this.ma=t.ma,this.mutatedKeys=t.mutatedKeys;const o=t.pa.j_();o.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pv()}};return n(t)-n(e)}(t.type,e.type)||this.Va(t.doc,e.doc))),this.wa(n),r=null!=r&&r;const a=e&&!r?this.Sa():[],s=0===this.Ra.size&&this.current&&!r?1:0,l=s!==this.Aa;return this.Aa=s,0!==o.length||l?{snapshot:new bk(this.query,t.ma,i,o,t.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ma:this.ma,pa:new vk,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(t){return!this.da.has(t)&&!!this.ma.has(t)&&!this.ma.get(t).hasLocalMutations}wa(t){t&&(t.addedDocuments.forEach((t=>this.da=this.da.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.da=this.da.delete(t))),this.current=t.current)}Sa(){if(!this.current)return[];const t=this.Ra;this.Ra=Y_(),this.ma.forEach((t=>{this.Da(t.key)&&(this.Ra=this.Ra.add(t.key))}));const e=[];return t.forEach((t=>{this.Ra.has(t)||e.push(new Ik(t))})),this.Ra.forEach((n=>{t.has(n)||e.push(new jk(n))})),e}va(t){this.da=t.ds,this.Ra=Y_();const e=this.ga(t.documents);return this.applyChanges(e,!0)}Ca(){return bk.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,0===this.Aa,this.hasCachedResults)}}class Nk{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class Dk{constructor(t){this.key=t,this.Fa=!1}}class Lk{constructor(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new F_((t=>M_(t)),I_),this.Oa=new Map,this.Na=new Set,this.La=new ub(zv.comparator),this.Ba=new Map,this.ka=new Qx,this.qa={},this.Qa=new Map,this.Ka=Bx.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}async function Rk(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=iO(t);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await Fk(r,e,n,!0),i}async function zk(t,e){const n=iO(t);await Fk(n,e,!0,!1)}async function Fk(t,e,n,r){const i=await yS(t.localStore,P_(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await Bk(t,e,o,"current"===a,i.resumeToken)),t.isPrimaryClient&&n&&VS(t.remoteStore,i),s}async function Bk(t,e,n,r,i){t.Ua=(e,n,r)=>async function(t,e,n,r){let i=e.view.ga(n);i.ss&&(i=await bS(t.localStore,e.query,!1).then((t=>{let{documents:n}=t;return e.view.ga(n,i)})));const o=r&&r.targetChanges.get(e.targetId),a=r&&null!=r.targetMismatches.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o,a);return Qk(t,e.targetId,s.ba),s.snapshot}(t,e,n,r);const o=await bS(t.localStore,e,!0),a=new Mk(e,o.ds),s=a.ga(o.documents),l=qw.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=a.applyChanges(s,t.isPrimaryClient,l);Qk(t,n,c.ba);const u=new Nk(e,n,a);return t.xa.set(e,u),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function Uk(t,e,n){const r=gv(t),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter((t=>!I_(t,e)))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await vS(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&WS(r.remoteStore,i.targetId),Yk(r,i.targetId)})).catch(qv)):(Yk(r,i.targetId),await vS(r.localStore,i.targetId,!0))}async function Vk(t,e){const n=gv(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),WS(n.remoteStore,r.targetId))}async function Wk(t,e){const n=gv(t);try{const t=await function(t,e){const n=gv(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const a=[];e.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Gr.removeMatchingKeys(t,o.removedDocuments,s).next((()=>n.Gr.addMatchingKeys(t,o.addedDocuments,s))));let c=l.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(s)?c=c.withResumeToken(yb.EMPTY_BYTE_STRING,Mv.min()).withLastLimboFreeSnapshotVersion(Mv.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&a.push(n.Gr.updateTargetData(t,c))}));let s=U_(),l=Y_();if(e.documentUpdates.forEach((r=>{e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(mS(t,o,e.documentUpdates).next((t=>{s=t.Is,l=t.Es}))),!r.isEqual(Mv.min())){const e=n.Gr.getLastRemoteSnapshotVersion(t).next((e=>n.Gr.setTargetsMetadata(t,t.currentSequenceNumber,r)));a.push(e)}return Gv.waitFor(a).next((()=>o.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,s,l))).next((()=>s))})).then((t=>(n.us=i,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const r=n.Ba.get(e);r&&(mv(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Fa=!0:t.modifiedDocuments.size>0?mv(r.Fa):t.removedDocuments.size>0&&(mv(r.Fa),r.Fa=!1))})),await eO(n,t,e)}catch(t){await qv(t)}}function Hk(t,e,n){const r=gv(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.xa.forEach(((n,r)=>{const i=r.view.ea(e);i.snapshot&&t.push(i.snapshot)})),function(t,e){const n=gv(t);n.onlineState=e;let r=!1;n.queries.forEach(((t,n)=>{for(const i of n.J_)i.ea(e)&&(r=!0)})),r&&Tk(n)}(r.eventManager,e),t.length&&r.Ma.R_(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $k(t,e,n){const r=gv(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),o=i&&i.key;if(o){let t=new ub(zv.comparator);t=t.insert(o,Kb.newNoDocument(o,Mv.min()));const n=Y_().add(o),i=new $w(Mv.min(),new Map,new ub(Av),t,n);await Wk(r,i),r.La=r.La.remove(o),r.Ba.delete(e),tO(r)}else await vS(r.localStore,e,!1).then((()=>Yk(r,e,n))).catch(qv)}async function qk(t,e){const n=gv(t),r=e.batch.batchId;try{const t=await function(t,e){const n=gv(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const r=e.batch.keys(),i=n.hs.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,o=i.keys();let a=Gv.resolve();return o.forEach((t=>{a=a.next((()=>r.getEntry(e,t))).next((e=>{const o=n.docVersions.get(t);mv(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),r.addEntry(e)))}))})),a.next((()=>t.mutationQueue.removeMutationBatch(e,i)))}(n,t,e,i).next((()=>i.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=Y_();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(n.localStore,e);Zk(n,r,null),Kk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await eO(n,t)}catch(t){await qv(t)}}async function Gk(t,e,n){const r=gv(t);try{const t=await function(t,e){const n=gv(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let r;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(mv(null!==e),r=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,r))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(r.localStore,e);Zk(r,e,n),Kk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await eO(r,t)}catch(n){await qv(n)}}function Kk(t,e){(t.Qa.get(e)||[]).forEach((t=>{t.resolve()})),t.Qa.delete(e)}function Zk(t,e,n){const r=gv(t);let i=r.qa[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function Yk(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach((e=>{t.ka.containsKey(e)||Xk(t,e)}))}function Xk(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);null!==n&&(WS(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),tO(t))}function Qk(t,e,n){for(const r of n)r instanceof jk?(t.ka.addReference(r.key,e),Jk(t,r)):r instanceof Ik?(uv("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||Xk(t,r.key)):pv()}function Jk(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(uv("SyncEngine","New document in limbo: "+n),t.Na.add(r),tO(t))}function tO(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new zv(Dv.fromString(e)),r=t.Ka.next();t.Ba.set(r,new Dk(n)),t.La=t.La.insert(n,r),VS(t.remoteStore,new Ix(P_(k_(n.path)),r,"TargetPurposeLimboResolution",Yv.oe))}}async function eO(t,e,n){const r=gv(t),i=[],o=[],a=[];r.xa.isEmpty()||(r.xa.forEach(((t,s)=>{a.push(r.Ua(s,e,n).then((t=>{var e;if((t||n)&&r.isPrimaryClient){const i=t?!t.fromCache:null===(e=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===e?void 0:e.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(t){i.push(t);const e=lS.zi(s.targetId,t);o.push(e)}})))})),await Promise.all(a),r.Ma.R_(i),await async function(t,e){const n=gv(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>Gv.forEach(e,(e=>Gv.forEach(e.Wi,(r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r))).next((()=>Gv.forEach(e.Gi,(r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))))))}catch(t){if(!Zv(t))throw t;uv("LocalStore","Failed to update sequence numbers: "+t)}for(const r of e){const t=r.targetId;if(!r.fromCache){const e=n.us.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.us=n.us.insert(t,i)}}}(r.localStore,o))}async function nO(t,e){const n=gv(t);if(!n.currentUser.isEqual(e)){uv("SyncEngine","User change. New user:",e.toKey());const t=await fS(n.localStore,e);n.currentUser=e,function(t,e){t.Qa.forEach((t=>{t.forEach((t=>{t.reject(new vv(yv.CANCELLED,e))}))})),t.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await eO(n,t.Ts)}}function rO(t,e){const n=gv(t),r=n.Ba.get(e);if(r&&r.Fa)return Y_().add(r.key);{let t=Y_();const r=n.Oa.get(e);if(!r)return t;for(const e of r){const r=n.xa.get(e);t=t.unionWith(r.view.fa)}return t}}function iO(t){const e=gv(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Wk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$k.bind(null,e),e.Ma.R_=Ok.bind(null,e.eventManager),e.Ma.Wa=Ek.bind(null,e.eventManager),e}function oO(t){const e=gv(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gk.bind(null,e),e}class aO{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=IS(t.databaseInfo.databaseId),this.sharedClientState=this.za(t),this.persistence=this.ja(t),await this.persistence.start(),this.localStore=this.Ha(t),this.gcScheduler=this.Ja(t,this.localStore),this.indexBackfillerScheduler=this.Ya(t,this.localStore)}Ja(t,e){return null}Ya(t,e){return null}Ha(t){return dS(this.persistence,new uS,t.initialUser,this.serializer)}ja(t){return new iS(aS.ei,this.serializer)}za(t){return new xS}async terminate(){var t,e;null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(e=this.indexBackfillerScheduler)||void 0===e||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}aO.provider={build:()=>new aO};class sO extends aO{constructor(t){super(),this.cacheSizeBytes=t}Ja(t,e){mv(this.persistence.referenceDelegate instanceof sS);const n=this.persistence.referenceDelegate.garbageCollector;return new Wx(n,t.asyncQueue,e)}ja(t){const e=void 0!==this.cacheSizeBytes?Fx.withCacheSize(this.cacheSizeBytes):Fx.DEFAULT;return new iS((t=>sS.ei(t,e)),this.serializer)}}class lO{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>Hk(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=nO.bind(null,this.syncEngine),await dk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new wk}createDatastore(t){const e=IS(t.databaseInfo.databaseId),n=function(t){return new AS(t)}(t.databaseInfo);return function(t,e,n,r){return new RS(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(t,e,n,r,i){return new FS(t,e,n,r,i)}(this.localStore,this.datastore,t.asyncQueue,(t=>Hk(this.syncEngine,t,0)),kS.p()?new kS:new SS)}createSyncEngine(t,e){return function(t,e,n,r,i,o,a){const s=new Lk(t,e,n,r,i,o);return a&&(s.$a=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(t){const e=gv(t);uv("RemoteStore","RemoteStore shutting down."),e.k_.add(5),await US(e),e.Q_.shutdown(),e.K_.set("Unknown")}(this.remoteStore),null===(t=this.datastore)||void 0===t||t.terminate(),null===(e=this.eventManager)||void 0===e||e.terminate()}}lO.provider={build:()=>new lO};class cO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Xa(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Xa(this.observer.error,t):hv("Uncaught Error in snapshot listener:",t.toString()))}eu(){this.muted=!0}Xa(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}class uO{constructor(t,e,n,r,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=av.UNAUTHENTICATED,this.clientId=Cv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async t=>{uv("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(uv("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new bv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=gk(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function hO(t,e){t.asyncQueue.verifyOperationInProgress(),uv("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async t=>{r.isEqual(t)||(await fS(e.localStore,t),r=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function dO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fO(t);uv("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((t=>hk(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>hk(e.remoteStore,n))),t._onlineComponents=e}async function fO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){uv("FirestoreClient","Using user provided OfflineComponentProvider");try{await hO(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(t){return"FirebaseError"===t.name?t.code===yv.FAILED_PRECONDITION||t.code===yv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;dv("Error using user provided cache. Falling back to memory cache: "+n),await hO(t,new aO)}}else uv("FirestoreClient","Using default OfflineComponentProvider"),await hO(t,new sO(void 0));return t._offlineComponents}async function pO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(uv("FirestoreClient","Using user provided OnlineComponentProvider"),await dO(t,t._uninitializedComponentsProvider._online)):(uv("FirestoreClient","Using default OnlineComponentProvider"),await dO(t,new lO))),t._onlineComponents}function mO(t){return pO(t).then((t=>t.syncEngine))}async function gO(t){const e=await pO(t),n=e.eventManager;return n.onListen=Rk.bind(null,e.syncEngine),n.onUnlisten=Uk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Vk.bind(null,e.syncEngine),n}function yO(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new bv;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const o=new cO({next:s=>{o.eu(),e.enqueueAndForget((()=>kk(t,a)));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new vv(yv.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new vv(yv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:t=>i.reject(t)}),a=new Ak(k_(n.path),o,{includeMetadataChanges:!0,ua:!0});return Sk(t,a)}(await gO(t),t.asyncQueue,e,n,r))),r.promise}function vO(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new bv;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const o=new cO({next:n=>{o.eu(),e.enqueueAndForget((()=>kk(t,a))),n.fromCache&&"server"===r.source?i.reject(new vv(yv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:t=>i.reject(t)}),a=new Ak(n,o,{includeMetadataChanges:!0,ua:!0});return Sk(t,a)}(await gO(t),t.asyncQueue,e,n,r))),r.promise}function bO(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const _O=new Map;function wO(t,e,n){if(!n)throw new vv(yv.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xO(t){if(!zv.isDocumentKey(t))throw new vv(yv.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function SO(t){if(zv.isDocumentKey(t))throw new vv(yv.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kO(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":pv()}function OO(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new vv(yv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kO(t);throw new vv(yv.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class EO{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new vv(yv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new vv(yv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,r){if(!0===e&&!0===r)throw new vv(yv.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bO(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new vv(yv.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (must not be NaN)`);if(t.timeoutSeconds<5)throw new vv(yv.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (minimum allowed value is 5)`);if(t.timeoutSeconds>30)throw new vv(yv.INVALID_ARGUMENT,`invalid long polling timeout: ${t.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class TO{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EO({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vv(yv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new vv(yv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EO(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new wv;switch(t.type){case"firstParty":return new Ov(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new vv(yv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=_O.get(t);e&&(uv("ComponentProvider","Removing Datastore"),_O.delete(t),e.terminate())}(this),Promise.resolve()}}function PO(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(t=OO(t,TO))._getSettings(),a=`${e}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==a&&dv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=av.MOCK_USER;else{e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xd(JSON.stringify({alg:"none",type:"JWT"})),xd(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new vv(yv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new av(o)}t._authCredentials=new xv(new _v(e,n))}}class CO{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new CO(this.firestore,t,this._query)}}class AO{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jO(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new AO(this.firestore,t,this._key)}}class jO extends CO{constructor(t,e,n){super(t,e,k_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new AO(this.firestore,null,new zv(t))}withConverter(t){return new jO(this.firestore,t,this._path)}}function IO(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(t=Wd(t),wO("collection","path",e),t instanceof TO){const n=Dv.fromString(e,...r);return SO(n),new jO(t,null,n)}{if(!(t instanceof AO||t instanceof jO))throw new vv(yv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Dv.fromString(e,...r));return SO(n),new jO(t.firestore,null,n)}}function MO(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(t=Wd(t),1===arguments.length&&(e=Cv.newId()),wO("doc","path",e),t instanceof TO){const n=Dv.fromString(e,...r);return xO(n),new AO(t,null,new zv(n))}{if(!(t instanceof AO||t instanceof jO))throw new vv(yv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Dv.fromString(e,...r));return xO(n),new AO(t.firestore,t instanceof jO?t.converter:null,new zv(n))}}class NO{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new MS(this,"async_queue_retry"),this.fu=()=>{const t=jS();t&&uv("AsyncQueue","Visibility state changed to "+t.visibilityState),this.r_.Jo()},this.gu=t;const e=jS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.yu(t)}enterRestrictedMode(t){if(!this.Eu){this.Eu=!0,this.Vu=t||!1;const e=jS();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.fu)}}enqueue(t){if(this.pu(),this.Eu)return new Promise((()=>{}));const e=new bv;return this.yu((()=>this.Eu&&this.Vu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Iu.push(t),this.wu())))}async wu(){if(0!==this.Iu.length){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(UK){if(!Zv(UK))throw UK;uv("AsyncQueue","Operation failed with retryable error: "+UK)}this.Iu.length>0&&this.r_.jo((()=>this.wu()))}}yu(t){const e=this.gu.then((()=>(this.Ru=!0,t().catch((t=>{this.Au=t,this.Ru=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw hv("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Ru=!1,t))))));return this.gu=e,e}enqueueAfterDelay(t,e,n){this.pu(),this.mu.indexOf(t)>-1&&(e=0);const r=mk.createAndSchedule(this,t,e,n,(t=>this.Su(t)));return this.du.push(r),r}pu(){this.Au&&pv()}verifyOperationInProgress(){}async bu(){let t;do{t=this.gu,await t}while(t!==this.gu)}Du(t){for(const e of this.du)if(e.timerId===t)return!0;return!1}vu(t){return this.bu().then((()=>{this.du.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.du)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.bu()}))}Cu(t){this.mu.push(t)}Su(t){const e=this.du.indexOf(t);this.du.splice(e,1)}}class DO extends TO{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new NO,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new NO(t),this._firestoreClient=void 0,await t}}}function LO(t){if(t._terminated)throw new vv(yv.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||RO(t),t._firestoreClient}function RO(t){var e,n,r;const i=t._freezeSettings(),o=function(t,e,n,r){return new Ob(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,bO(r.experimentalLongPollingOptions),r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new uO(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(t){const e=null==t?void 0:t._online.build();return{_offline:null==t?void 0:t._offline.build(e),_online:e}}(t._componentsProvider))}class zO{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zO(yb.fromBase64String(t))}catch(t){throw new vv(yv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new zO(yb.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class FO{constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(let r=0;r<e.length;++r)if(0===e[r].length)throw new vv(yv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rv(e)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class BO{constructor(t){this._methodName=t}}class UO{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new vv(yv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new vv(yv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Av(this._lat,t._lat)||Av(this._long,t._long)}}class VO{constructor(t){this._values=(t||[]).map((t=>t))}toArray(){return this._values.map((t=>t))}isEqual(t){return function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}(this._values,t._values)}}const WO=/^__.*__$/;class HO{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new kw(t,this.data,this.fieldMask,e,this.fieldTransforms):new Sw(t,this.data,e,this.fieldTransforms)}}function $O(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pv()}}class qO{constructor(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Fu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(t){return new qO(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xu({path:n,Nu:!1});return r.Lu(t),r}Bu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xu({path:n,Nu:!1});return r.Fu(),r}ku(t){return this.xu({path:void 0,Nu:!0})}qu(t){return iE(t,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}Fu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Lu(this.path.get(t))}Lu(t){if(0===t.length)throw this.qu("Document fields must not be empty");if($O(this.Mu)&&WO.test(t))throw this.qu('Document fields cannot begin and end with "__"')}}class GO{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||IS(t)}$u(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new qO({Mu:t,methodName:e,Ku:n,path:Rv.emptyPath(),Nu:!1,Qu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function KO(t){const e=t._freezeSettings(),n=IS(t._databaseId);return new GO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZO(t,e,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=t.$u(o.merge||o.mergeFields?2:0,e,n,i);tE("Data must be an object, but it was:",a,r);const s=QO(r,a);let l,c;if(o.merge)l=new mb(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const t=[];for(const r of o.mergeFields){const i=eE(e,r,n);if(!a.contains(i))throw new vv(yv.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);oE(t,i)||t.push(i)}l=new mb(t),c=a.fieldTransforms.filter((t=>l.covers(t.field)))}else l=null,c=a.fieldTransforms;return new HO(new qb(s),l,c)}function YO(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return XO(n,t.$u(r?4:3,e))}function XO(t,e){if(JO(t=Wd(t)))return tE("Unsupported field value:",e,t),QO(t,e);if(t instanceof BO)return function(t,e){if(!$O(e.Mu))throw e.qu(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.qu(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&4!==e.Mu)throw e.qu("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=XO(i,e.ku(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Wd(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ew(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=Iv.fromDate(t);return{timestampValue:ox(e.serializer,n)}}if(t instanceof Iv){const n=new Iv(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ox(e.serializer,n)}}if(t instanceof UO)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof zO)return{bytesValue:ax(e.serializer,t._byteString)};if(t instanceof AO){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.qu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:cx(t.firestore._databaseId||e.databaseId,t._key.path)}}if(t instanceof VO)return function(t,e){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:t.toArray().map((t=>{if("number"!=typeof t)throw e.qu("VectorValues must only contain numeric values.");return J_(e.serializer,t)}))}}}}}}(t,e);throw e.qu(`Unsupported field value: ${kO(t)}`)}(t,e)}function QO(t,e){const n={};return cb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lb(t,((t,r)=>{const i=XO(r,e.Ou(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function JO(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Iv||t instanceof UO||t instanceof zO||t instanceof AO||t instanceof BO||t instanceof VO)}function tE(t,e,n){if(!JO(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=kO(n);throw"an object"===r?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function eE(t,e,n){if((e=Wd(e))instanceof FO)return e._internalPath;if("string"==typeof e)return rE(t,e);throw iE("Field path arguments must be of type string or ",t,!1,void 0,n)}const nE=new RegExp("[~\\*/\\[\\]]");function rE(t,e,n){if(e.search(nE)>=0)throw iE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new FO(...e.split("."))._internalPath}catch(r){throw iE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function iE(t,e,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new vv(yv.INVALID_ARGUMENT,s+t+l)}function oE(t,e){return t.some((t=>t.isEqual(e)))}class aE{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new AO(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new sE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(lE("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class sE extends aE{data(){return super.data()}}function lE(t,e){return"string"==typeof e?rE(t,e):e instanceof FO?e._internalPath:e._delegate._internalPath}function cE(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new vv(yv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uE{}class hE extends uE{}class dE extends hE{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new dE(t,e,n)}_apply(t){const e=this._parse(t);return yE(t._query,e),new CO(t.firestore,t.converter,A_(t._query,e))}_parse(t){const e=KO(t.firestore),n=function(t,e,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new vv(yv.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){gE(a,o);const e=[];for(const n of a)e.push(mE(r,t,n));s={arrayValue:{values:e}}}else s=mE(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||gE(a,o),s=YO(n,e,a,"in"===o||"not-in"===o);return e_.create(i,o,s)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value);return n}}class fE extends uE{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new fE(t,e)}_parse(t){const e=this._queryConstraints.map((e=>e._parse(t))).filter((t=>t.getFilters().length>0));return 1===e.length?e[0]:n_.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const r=e.getFlattenedFilters();for(const i of r)yE(n,i),n=A_(n,i)}(t._query,e),new CO(t.firestore,t.converter,A_(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class pE extends hE{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new pE(t,e)}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new vv(yv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new vv(yv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qb(e,n)}(t._query,this._field,this._direction);return new CO(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new x_(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function mE(t,e,n){if("string"==typeof(n=Wd(n))){if(""===n)throw new vv(yv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!E_(e)&&-1!==n.indexOf("/"))throw new vv(yv.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Dv.fromString(n));if(!zv.isDocumentKey(r))throw new vv(yv.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Rb(t,new zv(r))}if(n instanceof AO)return Rb(t,n._key);throw new vv(yv.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kO(n)}.`)}function gE(t,e){if(!Array.isArray(t)||0===t.length)throw new vv(yv.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yE(t,e){const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new vv(yv.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new vv(yv.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class vE{convertValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Pb(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _b(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(wb(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw pv()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return lb(t,((t,r)=>{n[t]=this.convertValue(r,e)})),n}convertVectorValue(t){var e,n,r;const i=null===(r=null===(n=null===(e=t.fields)||void 0===e?void 0:e.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((t=>_b(t.doubleValue)));return new VO(i)}convertGeoPoint(t){return new UO(_b(t.latitude),_b(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=Sb(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(kb(t));default:return null}}convertTimestamp(t){const e=bb(t);return new Iv(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Dv.fromString(t);mv(jx(n));const r=new Eb(n.get(1),n.get(3)),i=new zv(n.popFirst(5));return r.isEqual(e)||hv(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}function bE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class _E{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class wE extends aE{constructor(t,e,n,r,i,o){super(t,e,n,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const e=new xE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(lE("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class xE extends wE{data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(t)}}class SE{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new _E(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new xE(this._firestore,this._userDataWriter,n.key,n,new _E(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const t=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new vv(yv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>{const r=new xE(t._firestore,t._userDataWriter,n.doc.key,n.doc,new _E(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:e++}}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const r=new xE(t._firestore,t._userDataWriter,e.doc.key,e.doc,new _E(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,o=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),o=n.indexOf(e.doc.key)),{type:kE(e.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function kE(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pv()}}function OE(t){t=OO(t,AO);const e=OO(t.firestore,DO);return yO(LO(e),t._key).then((n=>PE(e,t,n)))}class EE extends vE{constructor(t){super(),this.firestore=t}convertBytes(t){return new zO(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new AO(this.firestore,null,e)}}function TE(t,e){return function(t,e){const n=new bv;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const r=oO(t);try{const t=await function(t,e){const n=gv(t),r=Iv.now(),i=e.reduce(((t,e)=>t.add(e.key)),Y_());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let s=U_(),l=Y_();return n.hs.getEntries(t,i).next((t=>{s=t,s.forEach(((t,e)=>{e.isValidDocument()||(l=l.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,s))).next((i=>{o=i;const a=[];for(const t of e){const e=ww(t,o.get(t.key).overlayedDocument);null!=e&&a.push(new kw(t.key,e,Gb(e.value.mapValue),mw.exists(!0)))}return n.mutationQueue.addMutationBatch(t,r,a,e)})).next((e=>{a=e;const r=e.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(t,e.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:H_(o)})))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.qa[t.currentUser.toKey()];r||(r=new ub(Av)),r=r.insert(e,n),t.qa[t.currentUser.toKey()]=r}(r,t.batchId,n),await eO(r,t.changes),await nk(r.remoteStore)}catch(t){const e=gk(t,"Failed to persist write");n.reject(e)}}(await mO(t),e,n))),n.promise}(LO(t),e)}function PE(t,e,n){const r=n.docs.get(e._key),i=new EE(t);return new wE(t,i,e._key,r,new _E(n.hasPendingWrites,n.fromCache),e.converter)}new WeakMap;!function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(t){sv=t}(sp),np(new Hd("firestore",((t,n)=>{let{instanceIdentifier:r,options:i}=n;const o=t.getProvider("app").getImmediate(),a=new DO(new Sv(t.getProvider("auth-internal")),new Tv(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new vv(yv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eb(t.options.projectId,e)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),up(ov,"4.7.5",t),up(ov,"4.7.5","esm2017")}();const CE=lp({apiKey:"AIzaSyBWv8rLcaC3-LCy_SPyBmG_h2U2vJryWhA",authDomain:"noderesume.firebaseapp.com",projectId:"noderesume",storageBucket:"noderesume.firebasestorage.app",messagingSenderId:"500260169914",appId:"1:500260169914:web:abe4d574a037aa66b3ba83"}),AE=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cp();const e=rp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function(t,e){const n=rp(t,"auth");if(n.isInitialized()){const t=n.getImmediate();if(Ld(n.getOptions(),null!==e&&void 0!==e?e:{}))return t;Cp(t,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:zy,persistence:[$g,Pg,Ag]}),r=Pd("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const t=new URL(r,location.origin);if(location.origin===t.origin){const e=(i=t.toString(),async t=>{const e=t&&await t.getIdTokenResult(),n=e&&((new Date).getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>Vy)return;const r=null===e||void 0===e?void 0:e.token;Wy!==r&&(Wy=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(t,e,n){Wd(t).beforeAuthStateChanged(e,n)}(n,e,(()=>e(n.currentUser))),function(t,e,n,r){Wd(t).onIdTokenChanged(e,n,r)}(n,(t=>e(t)))}}var i;const o=Ed("auth");return o&&Zm(n,`http://${o}`),n}(CE),jE=function(t,e){const n="string"==typeof t?t:e||"(default)",r=rp("object"==typeof t?t:cp(),"firestore").getImmediate({identifier:n});if(!r._initialized){const t=(t=>{const e=Ed(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");t&&PO(r,...t)}return r}(CE);var IE;IE=Pg,Wd(AE).setPersistence(IE);const ME=t=>function(t,e,n){return ip(t.app)?Promise.reject(Ip(t)):xg(Wd(t),lg.credential(e,n)).catch((async e=>{throw"auth/password-does-not-meet-requirements"===e.code&&Sg(t),e}))}(AE,"mooksnook@gmail.com",t),NE=(t,e,n)=>function(t,e,n){t=OO(t,AO);const r=OO(t.firestore,DO),i=bE(t.converter,e,n);return TE(r,[ZO(KO(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,mw.none())])}(MO(jE,t,e),{...n,lastUpdated:(new Date).toISOString()}),DE=(t,e)=>OE(MO(jE,t,e)),LE=t=>{let{onClose:e,onAuthenticated:n}=t;const[r,i]=(0,o.useState)(""),[a,s]=(0,o.useState)(""),[l,c]=(0,o.useState)(!1);(0,o.useEffect)((()=>{(async()=>{await(async()=>{try{const t=AE.currentUser;return!!t&&(await t.getIdToken(!0),!0)}catch(a){return console.error("Auth error:",a),!1}})()&&(n(),e())})()}),[n,e]);return(0,yt.jsx)("div",{className:"password-prompt-overlay",children:(0,yt.jsxs)("div",{className:"password-prompt-content",children:[(0,yt.jsx)("button",{className:"close-button",onClick:e,children:"\xd7"}),(0,yt.jsx)("h2",{children:"Enter Password"}),(0,yt.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),c(!0),s("");try{await ME(r),n(),e()}catch(i){console.error("Auth error:",i),s("Invalid password")}finally{c(!1)}},children:[(0,yt.jsx)("input",{type:"password",value:r,onChange:t=>i(t.target.value),placeholder:"Enter password",disabled:l}),(0,yt.jsx)("button",{type:"submit",disabled:l,children:l?"Checking...":"Submit"})]}),l&&(0,yt.jsx)("div",{className:"loading-message",children:"Checking credentials..."}),a&&(0,yt.jsx)("div",{className:"error-message",children:a})]})})},RE="label";function zE(t,e){"function"===typeof t?t(e):t&&(t.current=e)}function FE(t,e){t.labels=e}function BE(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:RE;const r=[];t.datasets=e.map((e=>{const i=t.datasets.find((t=>t[n]===e[n]));return i&&e.data&&!r.includes(i)?(r.push(i),Object.assign(i,e),i):{...e}}))}function UE(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RE;const n={labels:[],datasets:[]};return FE(n,t.labels),BE(n,t.datasets,e),n}function VE(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:a,type:s,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:d,...f}=t,p=(0,o.useRef)(null),m=(0,o.useRef)(),g=()=>{p.current&&(m.current=new Oh(p.current,{type:s,data:UE(l,a),options:c&&{...c},plugins:u}),zE(e,m.current))},y=()=>{zE(e,null),m.current&&(m.current.destroy(),m.current=null)};return(0,o.useEffect)((()=>{!i&&m.current&&c&&function(t,e){const n=t.options;n&&e&&Object.assign(n,e)}(m.current,c)}),[i,c]),(0,o.useEffect)((()=>{!i&&m.current&&FE(m.current.config.data,l.labels)}),[i,l.labels]),(0,o.useEffect)((()=>{!i&&m.current&&l.datasets&&BE(m.current.config.data,l.datasets,a)}),[i,l.datasets]),(0,o.useEffect)((()=>{m.current&&(i?(y(),setTimeout(g)):m.current.update(d))}),[i,c,l.labels,l.datasets,d]),(0,o.useEffect)((()=>{m.current&&(y(),setTimeout(g))}),[s]),(0,o.useEffect)((()=>(g(),()=>y())),[]),o.createElement("canvas",Object.assign({ref:p,role:"img",height:n,width:r},f),h)}const WE=(0,o.forwardRef)(VE);function HE(t,e){return Oh.register(e),(0,o.forwardRef)(((e,n)=>o.createElement(WE,Object.assign({},e,{ref:n,type:t}))))}const $E=HE("line",tu),qE=HE("bar",Jc);Oh.register(pd,vd,Rh,Dh,Hh,Yh,hd,Kh);const GE=()=>{const t=[],e=new Date,n=e.getMonth()>=6?e.getFullYear()+1:e.getFullYear();for(let r=n-2;r<=n;r++)t.unshift({value:r,label:`FY${r-1}/${r}`});return t},KE=t=>{let{assignments:e,companiesData:n}=t;const[r,i]=(0,o.useState)(!1),[a,s]=(0,o.useState)((new Date).toISOString().slice(0,7)),[l,c]=(0,o.useState)((new Date).getFullYear().toString()),[u,h]=(0,o.useState)(32.5),[d,f]=(0,o.useState)(11),[p,m]=(0,o.useState)((()=>{const t=new Date;return t.getMonth()>=6?t.getFullYear()+1:t.getFullYear()})),g=(0,o.useMemo)((()=>(()=>{const t=[],e=new Date;for(let n=new Date(e.getFullYear()-1,e.getMonth(),1);n<=e;n.setMonth(n.getMonth()+1)){const e=n.toISOString().slice(0,7),r=new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long"});t.unshift({value:e,label:r})}return t})()),[]),y=(0,o.useMemo)((()=>(()=>{const t=[],e=new Date;for(let n=e.getFullYear()-2;n<=e.getFullYear();n++)t.unshift({value:n.toString(),label:n.toString()});return t})()),[]),v=(0,o.useMemo)((()=>{if(r){const t=Object.entries(e).filter((t=>{let[e]=t;return e.startsWith(l)})),r={},i={};t.forEach((t=>{let[e,o]=t;const a=e.slice(0,7);i[a]||(i[a]={}),i[a][o]=(i[a][o]||0)+1,r[a]=(r[a]||0)+n[o].rate}));const o=t.reduce(((t,e)=>{let[n,r]=e;return t[r]=(t[r]||0)+1,t}),{}),a=t.reduce(((t,e)=>{let[r,i]=e;return t+n[i].rate}),0);return{monthlyTotals:i,monthlyRevenue:r,companyTotals:o,totalRevenue:a}}const t=new Date(a),i=(new Date(t.getFullYear(),t.getMonth()+1,0),Object.entries(e).filter((t=>{let[e]=t;return e.startsWith(a)}))),o={},s={},c={};i.forEach((t=>{let[e,r]=t;const i=new Date(e),{start:a,end:l,key:u}=(t=>{const e=t.getDay(),n=t.getDate()-e+(0===e?-6:1),r=new Date(t.setDate(n));return{start:r,end:new Date(t.setDate(n+6)),key:r.toISOString().split("T")[0]}})(i);o[u]||(o[u]={},c[u]=((t,e)=>`${t.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}`)(a,l)),o[u][r]=(o[u][r]||0)+1,s[u]=(s[u]||0)+n[r].rate}));const u=i.reduce(((t,e)=>{let[n,r]=e;return t[r]=(t[r]||0)+1,t}),{}),h=i.reduce(((t,e)=>{let[r,i]=e;return t+n[i].rate}),0);return{weeks:o,weeklyRevenue:s,companyTotals:u,totalRevenue:h,weekLabels:c}}),[e,n,a,l,r]),b=(0,o.useMemo)((()=>{const t=p-1+"-07-01",r=`${p}-06-30`,i=Object.entries(e).filter((e=>{let[n]=e;return n>=t&&n<=r})).reduce(((t,e)=>{let[r,i]=e;return t+n[i].rate}),0),o=i*u/100,a=i*d/100;return{year:`${p-1}/${p}`,totalIncome:i,taxPayable:o,superAmount:a,netIncome:i-o-a}}),[e,n,u,d,p]),_={labels:Object.keys(v.weeklyRevenue).map((t=>v.weekLabels[t])),datasets:[{label:"Weekly Revenue",data:Object.values(v.weeklyRevenue),borderColor:"#4ECDC4",tension:.1}]},w={labels:Object.keys(n),datasets:[{label:"Days per Company",data:Object.keys(n).map((t=>v.companyTotals[t]||0)),backgroundColor:Object.values(n).map((t=>t.color))}]},x=(0,o.useMemo)((()=>r?{line:{labels:Object.keys(v.monthlyRevenue).map((t=>new Date(t).toLocaleDateString("en-US",{month:"short"}))),datasets:[{label:"Monthly Revenue",data:Object.values(v.monthlyRevenue),borderColor:"#4ECDC4",tension:.1}]},bar:w}:{line:_,bar:w}),[v,r]);return(0,yt.jsxs)("div",{className:"summary-stats",children:[(0,yt.jsxs)("div",{className:"stats-header",children:[(0,yt.jsxs)("h2",{children:[r?"Yearly":"Monthly"," Statistics"]}),(0,yt.jsxs)("div",{className:"controls",children:[(0,yt.jsxs)("button",{className:"view-toggle",onClick:()=>i(!r),children:["Switch to ",r?"Monthly":"Yearly"," View"]}),(0,yt.jsx)("select",{className:"date-selector",value:r?l:a,onChange:t=>r?c(t.target.value):s(t.target.value),children:(r?y:g).map((t=>(0,yt.jsx)("option",{value:t.value,children:t.label},t.value)))})]})]}),(0,yt.jsxs)("div",{className:"stats-grid",children:[(0,yt.jsxs)("div",{className:"stat-box",children:[(0,yt.jsxs)("h3",{children:[r?"Yearly":"Monthly"," Revenue"]}),(0,yt.jsxs)("p",{children:["$",v.totalRevenue]})]}),(0,yt.jsxs)("div",{className:"stat-box",children:[(0,yt.jsxs)("h3",{children:["Average ",r?"Monthly":"Weekly"," Revenue"]}),(0,yt.jsxs)("p",{children:["$",Math.round(v.totalRevenue/(r?Object.keys(v.monthlyRevenue).length:Object.keys(v.weeks).length))]})]})]}),(0,yt.jsxs)("div",{className:"charts-container",children:[(0,yt.jsxs)("div",{className:"revenue-breakdown",children:[(0,yt.jsxs)("h3",{children:[r?"Monthly":"Weekly"," Revenue Breakdown"]}),(0,yt.jsx)("div",{className:"chart-container",children:(0,yt.jsx)($E,{data:x.line,options:{responsive:!0}})})]}),(0,yt.jsxs)("div",{className:"company-breakdown",children:[(0,yt.jsx)("h3",{children:"Company Distribution"}),(0,yt.jsx)("div",{className:"chart-container",children:(0,yt.jsx)(qE,{data:x.bar,options:{responsive:!0}})})]})]}),(0,yt.jsxs)("div",{className:"tax-calculator",children:[(0,yt.jsxs)("div",{children:[(0,yt.jsxs)("div",{className:"calculator-header",children:[(0,yt.jsx)("h3",{children:"Financial Year Tax Calculator"}),(0,yt.jsx)("select",{className:"fy-selector",value:p,onChange:t=>m(Number(t.target.value)),children:GE().map((t=>(0,yt.jsx)("option",{value:t.value,children:t.label},t.value)))})]}),(0,yt.jsxs)("div",{className:"calculator-inputs",children:[(0,yt.jsxs)("div",{className:"input-group",children:[(0,yt.jsx)("label",{children:"Tax Rate (%)"}),(0,yt.jsx)("input",{type:"number",value:u,onChange:t=>h(Number(t.target.value)),step:"0.1",min:"0",max:"100"})]}),(0,yt.jsxs)("div",{className:"input-group",children:[(0,yt.jsx)("label",{children:"Super Rate (%)"}),(0,yt.jsx)("input",{type:"number",value:d,onChange:t=>f(Number(t.target.value)),step:"0.1",min:"0",max:"100"})]})]})]}),(0,yt.jsxs)("div",{className:"calculator-results",children:[(0,yt.jsxs)("div",{className:"result-item",children:[(0,yt.jsx)("span",{children:"Total Income:"}),(0,yt.jsxs)("span",{children:["$",b.totalIncome.toFixed(2)]})]}),(0,yt.jsxs)("div",{className:"result-item",children:[(0,yt.jsx)("span",{children:"Tax Payable:"}),(0,yt.jsxs)("span",{children:["$",b.taxPayable.toFixed(2)]})]}),(0,yt.jsxs)("div",{className:"result-item",children:[(0,yt.jsx)("span",{children:"Superannuation:"}),(0,yt.jsxs)("span",{children:["$",b.superAmount.toFixed(2)]})]}),(0,yt.jsxs)("div",{className:"result-item",children:[(0,yt.jsx)("span",{children:"Net Income:"}),(0,yt.jsxs)("span",{children:["$",b.netIncome.toFixed(2)]})]})]})]})]})},ZE=t=>{let{assignments:e,companiesData:n,purchaseOrders:r,onCreateInvoice:i}=t;const[a,s]=(0,o.useState)(""),[l,c]=(0,o.useState)({start:"",end:""}),[u,h]=(0,o.useState)(""),[d,f]=(0,o.useState)(""),[p,m]=(0,o.useState)(!1);return(0,yt.jsxs)("div",{className:"invoice-controls",children:[(0,yt.jsx)("input",{type:"number",value:d,onChange:t=>f(t.target.value),placeholder:"Invoice Number"}),(0,yt.jsxs)("select",{value:a,onChange:t=>s(t.target.value),children:[(0,yt.jsx)("option",{value:"",children:"Select Company"}),Object.keys(n).map((t=>(0,yt.jsx)("option",{value:t,children:t},t)))]}),(0,yt.jsx)("input",{type:"date",value:l.start,onChange:t=>c({...l,start:t.target.value})}),(0,yt.jsx)("input",{type:"date",value:l.end,onChange:t=>c({...l,end:t.target.value})}),(0,yt.jsxs)("select",{value:u,onChange:t=>h(t.target.value),children:[(0,yt.jsx)("option",{value:"",children:"Select Purchase Order"}),Object.values(r).filter((t=>t.company===a)).map((t=>(0,yt.jsxs)("option",{value:t.id,children:[t.id," - ",t.totalAmount]},t.id)))]}),(0,yt.jsxs)("div",{className:"gst-checkbox",children:[(0,yt.jsx)("input",{type:"checkbox",id:"includeGST",checked:p,onChange:t=>m(t.target.checked)}),(0,yt.jsx)("label",{htmlFor:"includeGST",children:"Include GST (10%)"})]}),(0,yt.jsx)("button",{onClick:()=>{i({selectedCompany:a,dateRange:l,selectedPurchaseOrder:u,invoiceNumber:d,assignments:e,companiesData:n,includeGST:p,setInvoiceNumber:f,setDateRange:c,setSelectedPurchaseOrder:h,setIncludeGST:m,company:a})},children:"Create Invoice"})]})},YE=t=>{let{invoices:e,onDelete:n,onMarkSent:r,onMarkUnsent:i,onPreview:o}=t;return(0,yt.jsxs)("div",{className:"invoice-list",children:[(0,yt.jsx)("h4",{children:"Invoices"}),Object.values(e).sort(((t,e)=>e.id.localeCompare(t.id))).map((t=>(0,yt.jsxs)("div",{className:"invoice-item",children:[(0,yt.jsx)("span",{children:t.id}),(0,yt.jsx)("span",{children:t.company}),(0,yt.jsxs)("span",{children:[new Date(t.dateRange.start).toLocaleDateString()," -",new Date(t.dateRange.end).toLocaleDateString()]}),(0,yt.jsx)("span",{children:t.status}),(0,yt.jsxs)("span",{children:["$",t.amount]}),(0,yt.jsx)("button",{onClick:()=>o(t),children:"View"}),"draft"===t.status?(0,yt.jsxs)(yt.Fragment,{children:[(0,yt.jsx)("button",{onClick:()=>r(t.id),children:"Mark as Sent"}),(0,yt.jsx)("button",{onClick:()=>n(t.id),className:"delete-button",children:"Delete"})]}):(0,yt.jsx)("button",{onClick:()=>i(t.id),children:"Mark as Unsent"})]},t.id)))]})},XE=t=>new Date(t).toLocaleDateString("en-AU"),QE=t=>t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),JE=t=>{var e,n,r;const i=t.items.reduce(((t,e)=>t+e.amount),0),o=t.includeGST?.1*i:0,a=i+o,s=t.purchaseOrder;return`\n        <!DOCTYPE html>\n        <html>\n        <head>\n            <title>Invoice ${t.invoiceNumber}</title>\n            <link rel="stylesheet" type="text/css" href="/styles/invoice.css">\n        </head>\n        <body>\n            <div class="invoice-print-container">\n                <button class="no-print" onclick="window.print()">Download PDF</button>\n                <div class="invoice-header">\n                    <div>\n                        <h1>INVOICE</h1>\n                        <p>Invoice Number: ${t.invoiceNumber}</p>\n                        <p>Date: ${(new Date).toLocaleDateString()}</p>\n                    </div>\n                    <div>\n                        <h2>HBD WA PTY LTD</h2>\n                        <p>21 Bracadale Avenue</p>\n                        <p>Duncraig, Perth, WA 6023</p>\n                        <p>ACN: 640 722 014</p>\n                        <p>Mobile: +61 466285956</p>\n                    </div>\n                </div>\n                \n                <div class="main-content">\n                    <div class="bill-to">\n                        <h3>Bill To:</h3>\n                        <p>${s.fullCompanyName}</p>\n                        <p>${s.address}</p>\n                        <p>Contact: ${s.contactName}</p>\n                        <p>Phone: ${s.contactNumber}</p>\n                    </div>\n                    <div class="payment-details">\n                        <h3>Payment Details:</h3>\n                        <p>Bank: ${null===(e=t.paymentDetails)||void 0===e?void 0:e.bank}</p>\n                        <p>BSB: ${null===(n=t.paymentDetails)||void 0===n?void 0:n.bsb}</p>\n                        <p>Account: ${null===(r=t.paymentDetails)||void 0===r?void 0:r.account}</p>\n                    </div>\n                </div>\n\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Period</th>\n                            <th>Description</th>\n                            <th>Days</th>\n                            <th>Rate</th>\n                            <th>Amount</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td>${XE(t.dateRange.start)} - ${XE(t.dateRange.end)}</td>\n                            <td>Consulting Services</td>\n                            <td>${t.items[0].days}</td>\n                            <td>$${QE(t.items[0].rate)}</td>\n                            <td>$${QE(t.items[0].amount)}</td>\n                        </tr>\n                    </tbody>\n                    <tfoot>\n                        <tr class="table-footer">\n                            <td colspan="4">Subtotal</td>\n                            <td>$${QE(i)}</td>\n                        </tr>\n                        ${t.includeGST?`\n                        <tr class="table-footer">\n                            <td colspan="4">GST (10%)</td>\n                            <td>$${QE(o)}</td>\n                        </tr>\n                        <tr class="table-footer total-row">\n                            <td colspan="4">Total (including GST)</td>\n                            <td>$${QE(a)}</td>\n                        </tr>\n                        `:""}\n                    </tfoot>\n                </table>\n                \n                <div class="work-calendar">\n                    <h3>Days Worked</h3>\n                    ${(t=>{const e=t.map((t=>{const e=new Date(t);return new Date(e.getFullYear(),e.getMonth(),e.getDate())})).sort(((t,e)=>t-e)),n=e[0],r=e[e.length-1];let i=new Date(n.getFullYear(),n.getMonth(),1);const o=new Date(r.getFullYear(),r.getMonth()+1,0);let a="";for(;i<=o;){const t=i.getFullYear(),n=i.getMonth(),r=new Date(t,n+1,0).getDate(),o=new Date(t,n,1).getDay();a+=`\n            <div class="calendar-month">\n                <h4>${new Date(t,n).toLocaleString("default",{month:"long",year:"numeric"})}</h4>\n                <table class="calendar">\n                    <tr>\n                        <th>Sun</th><th>Mon</th><th>Tue</th><th>Wed</th><th>Thu</th><th>Fri</th><th>Sat</th>\n                    </tr>\n        `;let s=1,l="";for(let i=0;i<6;i++){let a="<tr>";for(let l=0;l<7;l++)if(0===i&&l<o||s>r)a+="<td></td>";else{const r=new Date(t,n,s);a+=`\n                        <td class="${e.some((t=>t.getTime()===r.getTime()))?"worked-day":""}">${s}</td>\n                    `,s++}if(a+="</tr>",l+=a,s>r)break}a+=l+"</table></div>",i.setMonth(i.getMonth()+1)}return`\n        <div class="calendars-container">\n            ${a}\n        </div>\n    `})(t.items[0].dates.map((t=>new Date(t))))}\n                </div>\n            </div>\n        </body>\n        </html>\n    `},tT=(t,e,n,r,i)=>{const o=[...t.days].sort(((t,e)=>new Date(t)-new Date(e))).map((t=>{const e=new Date(t);return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]})),a=Object.fromEntries(Object.entries(e).filter((e=>{let[n]=e;return t.days.includes(n)}))),s=r[t.purchaseOrderId],l=n[t.company].rate;return{invoiceNumber:t.id,company:t.company,dateRange:{start:o[0],end:o[o.length-1]},assignments:a,items:[{days:t.days.length,rate:l,amount:l*t.days.length,dates:o}],purchaseOrder:s,paymentDetails:i,includeGST:t.includeGST}},eT=t=>{let{assignments:e,companiesData:n,purchaseOrders:r,invoices:i,saveInvoices:a}=t;const[s,l]=(0,o.useState)(null),{handleCreateInvoice:c,handleDeleteInvoice:u,markAsSent:h,markAsUnsent:d,generateInvoicePreview:f}=((t,e)=>({handleCreateInvoice:(0,o.useCallback)((n=>{var r;if(console.log("Full invoice data:",n),!n.selectedCompany||!n.dateRange.start||!n.dateRange.end||!n.selectedPurchaseOrder||!n.invoiceNumber)return console.log("Validation failed:",{selectedCompany:n.selectedCompany,dateRange:n.dateRange,selectedPurchaseOrder:n.selectedPurchaseOrder,invoiceNumber:n.invoiceNumber}),void alert("Please fill in all required fields");const i=Object.entries(n.assignments).filter((t=>{let[e,r]=t;return r===n.selectedCompany&&e>=n.dateRange.start&&e<=n.dateRange.end})).map((t=>{let[e]=t;return e}));if(0===i.length)return void alert("No work days found in the selected date range");const o=i.length*((null===(r=n.companiesData[n.selectedCompany])||void 0===r?void 0:r.rate)||0),a={id:`HBD-${n.invoiceNumber}`,company:n.selectedCompany,purchaseOrderId:n.selectedPurchaseOrder,dateRange:{start:n.dateRange.start,end:n.dateRange.end},status:"draft",amount:o,createdAt:(new Date).toISOString(),days:i,includeGST:n.includeGST||!1};console.log("Creating new invoice:",a),e({...t,[a.id]:a}),n.setInvoiceNumber(""),n.setDateRange({start:"",end:""}),n.setSelectedPurchaseOrder(""),n.setIncludeGST&&n.setIncludeGST(!1),alert("Invoice created successfully!")}),[t,e]),handleDeleteInvoice:(0,o.useCallback)((n=>{if(!window.confirm(`Are you sure you want to delete invoice ${n}?`))return;if(!window.confirm("This action cannot be undone. Really delete this invoice?"))return;const r={...t};delete r[n],e(r)}),[t,e]),markAsSent:(0,o.useCallback)((n=>{const r={...t,[n]:{...t[n],status:"sent",sentDate:(new Date).toISOString()}};e(r)}),[t,e]),markAsUnsent:(0,o.useCallback)((n=>{const r={...t,[n]:{...t[n],status:"draft",sentDate:null}};e(r)}),[t,e]),generateInvoicePreview:(0,o.useCallback)(((t,e,n,r,i)=>{const o=tT(t,e,n,r,i);window.open("","_blank").document.write(JE(o))}),[])}))(i,a);return(0,o.useEffect)((()=>{(async()=>{const t=await(e="paymentDetails",OE(MO(jE,"settings",e)));var e;t.exists()&&l(t.data())})()}),[]),(0,yt.jsxs)("div",{className:"invoice-generator",children:[(0,yt.jsx)("h3",{children:"Generate Invoice"}),(0,yt.jsx)(ZE,{assignments:e,companiesData:n,purchaseOrders:r,onCreateInvoice:c}),(0,yt.jsx)(YE,{invoices:i,onDelete:u,onMarkSent:h,onMarkUnsent:d,onPreview:t=>f(t,e,n,r,s)})]})};const nT=function(t){let{purchaseOrders:e,savePurchaseOrders:n,companiesData:r,invoices:i}=t;const[a,s]=(0,o.useState)({id:"",totalAmount:"",amountRemaining:"",company:"",fullCompanyName:"",contactName:"",contactNumber:"",address:"",phoneNumber:""}),[l,c]=(0,o.useState)(!1),u=t=>{s({...a,[t.target.name]:t.target.value})},h=(t,e)=>{const n=Object.values(i).filter((e=>e.purchaseOrderId===t)),r=n.filter((t=>"sent"===t.status)).reduce(((t,e)=>t+parseFloat(e.amount||0)),0),o=n.filter((t=>"draft"===t.status)).reduce(((t,e)=>t+parseFloat(e.amount||0)),0);return{sent:r,draft:o,remaining:Math.max(0,e-r-o)}},d=t=>{const e=Object.values(i).filter((e=>e.purchaseOrder===t));return e.length>0?(0,yt.jsxs)("details",{className:"invoice-details",children:[(0,yt.jsxs)("summary",{children:["Related Invoices (",e.length,")"]}),(0,yt.jsx)("ul",{className:"invoice-list",children:e.map((t=>(0,yt.jsxs)("li",{className:`invoice-item ${t.status}`,children:["#",t.id," - $",t.amount.toFixed(2)," (",t.status,")"]},t.id)))})]}):(0,yt.jsx)("p",{className:"no-invoices",children:"No invoices created yet"})};return(0,yt.jsxs)("div",{className:"purchase-order-manager",children:[(0,yt.jsx)("h2",{children:"Purchase Order Management"}),(0,yt.jsxs)("div",{className:"po-container",children:[(0,yt.jsxs)("div",{className:"po-control-panel",children:[(0,yt.jsx)("h3",{children:"Control Panel"}),(0,yt.jsx)("button",{className:"add-po-button",onClick:()=>{s({id:"",totalAmount:"",amountRemaining:"",company:"",fullCompanyName:"",contactName:"",contactNumber:"",address:"",phoneNumber:""}),c(!0)},children:"Add Purchase Order"}),(0,yt.jsxs)("div",{className:"po-list-control",children:[(0,yt.jsx)("h4",{children:"Existing Purchase Orders"}),Object.entries(e).map((t=>{let[r,o]=t;return(0,yt.jsxs)("div",{className:"po-list-item",children:[(0,yt.jsxs)("div",{className:"po-list-details",children:[(0,yt.jsx)("strong",{children:o.company}),(0,yt.jsxs)("span",{children:["$",parseFloat(o.totalAmount).toLocaleString()]})]}),(0,yt.jsxs)("div",{className:"po-list-actions",children:[(0,yt.jsx)("button",{className:"edit-po-button",onClick:()=>(s(e[r]),void c(!0)),children:"Edit"}),(0,yt.jsx)("button",{className:"delete-po-button",onClick:()=>(t=>{if(Object.values(i).some((e=>e.purchaseOrderId===t)))return void alert("Cannot delete purchase order with associated invoices");if(!window.confirm(`Are you sure you want to delete purchase order ${t}?`))return;if(!window.confirm("This action cannot be undone. Really delete this purchase order?"))return;const r={...e};delete r[t],n(r)})(r),children:"Delete"})]})]},r)}))]}),l&&(0,yt.jsxs)("div",{className:"po-form",children:[(0,yt.jsx)("input",{name:"id",value:a.id,onChange:u,placeholder:"Purchase Order Number"}),(0,yt.jsx)("input",{type:"number",name:"totalAmount",value:a.totalAmount,onChange:u,placeholder:"Total Amount"}),(0,yt.jsxs)("select",{name:"company",value:a.company,onChange:u,children:[(0,yt.jsx)("option",{value:"",children:"Select Company"}),Object.keys(r).map((t=>(0,yt.jsx)("option",{value:t,children:t},t)))]}),(0,yt.jsx)("input",{name:"fullCompanyName",value:a.fullCompanyName,onChange:u,placeholder:"Full Company Name"}),(0,yt.jsx)("input",{name:"contactName",value:a.contactName,onChange:u,placeholder:"Contact Name"}),(0,yt.jsx)("input",{name:"contactNumber",value:a.contactNumber,onChange:u,placeholder:"Contact Number"}),(0,yt.jsx)("input",{name:"address",value:a.address,onChange:u,placeholder:"Address"}),(0,yt.jsx)("input",{name:"phoneNumber",value:a.phoneNumber,onChange:u,placeholder:"Phone Number"}),(0,yt.jsxs)("div",{className:"form-actions",children:[(0,yt.jsx)("button",{onClick:()=>{const t={...e};a.id?(t[a.id]={...a},n(t),s({id:"",totalAmount:"",amountRemaining:"",company:"",fullCompanyName:"",contactName:"",contactNumber:"",address:"",phoneNumber:""}),c(!1)):alert("Please enter a Purchase Order number")},children:"Save"}),(0,yt.jsx)("button",{onClick:()=>c(!1),children:"Cancel"})]})]})]}),(0,yt.jsxs)("div",{className:"po-summary",children:[(0,yt.jsx)("h3",{children:"Purchase Orders Summary"}),(0,yt.jsx)("div",{className:"po-list",children:Object.entries(e).map((t=>{let[e,n]=t;const r=parseFloat(n.totalAmount||0),{sent:i,draft:o,remaining:a}=h(e,r);return(0,yt.jsxs)("div",{className:"po-item",children:[(0,yt.jsxs)("div",{className:"po-header",children:[(0,yt.jsxs)("h4",{children:["PO #",e]}),(0,yt.jsxs)("div",{className:"po-header-details",children:[(0,yt.jsx)("span",{className:"po-company",children:n.company}),(0,yt.jsxs)("span",{className:"po-total",children:["Total: $",r.toLocaleString()]})]})]}),(0,yt.jsxs)("div",{className:"po-progress",children:[(0,yt.jsxs)("div",{className:"progress-bar",children:[(0,yt.jsx)("div",{className:"progress-sent",style:{width:i/r*100+"%"},title:`Invoiced: $${i.toLocaleString()}`}),(0,yt.jsx)("div",{className:"progress-draft",style:{width:o/r*100+"%"},title:`Draft: $${o.toLocaleString()}`})]}),(0,yt.jsxs)("div",{className:"progress-details",children:[(0,yt.jsxs)("span",{className:"progress-amount sent",children:["Invoiced: $",i.toLocaleString()]}),(0,yt.jsxs)("span",{className:"progress-amount draft",children:["Draft: $",o.toLocaleString()]}),(0,yt.jsxs)("span",{className:"progress-amount remaining",children:["Available: $",a.toLocaleString()]})]})]}),d(e)]},e)}))})]})]})]})},rT=()=>{const[t,e]=(0,o.useState)(""),[n,r]=(0,o.useState)(!1),[i,a]=(0,o.useState)(null);(0,o.useEffect)((()=>{s()}),[]);const s=async()=>{try{const t=await DE("calendar","notes");t.exists()&&(e(t.data().content||""),a(t.data().lastUpdated))}catch(t){console.error("Error loading notes:",t)}};return(0,yt.jsxs)("div",{className:"notes-container bg-gray-100 p-4 rounded-lg shadow-md border border-gray-200",children:[(0,yt.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,yt.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Notes"}),(0,yt.jsx)("div",{className:"text-sm text-gray-600",children:n?"Saving...":i?`Last saved: ${i}`:""})]}),(0,yt.jsx)("textarea",{value:t,onChange:t=>{e(t.target.value);const n=setTimeout((()=>(async t=>{r(!0);try{await NE("calendar","notes",{content:t}),a((new Date).toLocaleString())}catch(e){console.error("Error saving notes:",e)}finally{r(!1)}})(t.target.value)),1e3);return()=>clearTimeout(n)},className:"w-full h-32 p-2 bg-gray-50 text-gray-800 rounded border border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"Add your notes here..."})]})},iT=(Math.pow(10,8),6048e5),oT=864e5,aT=Symbol.for("constructDateFrom");function sT(t,e){return"function"===typeof t?t(e):t&&"object"===typeof t&&aT in t?t[aT](e):t instanceof Date?new t.constructor(e):new Date(e)}function lT(t,e){return sT(e||t,t)}function cT(t,e){const n=lT(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function uT(t,e,n){const r=lT(t,n?.in);return isNaN(e)?sT(n?.in||t,NaN):e?(r.setDate(r.getDate()+e),r):r}const hT={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function dT(t){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const fT={date:dT({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:dT({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:dT({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},pT={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function mT(t){return(e,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&t.formattingValues){const e=t.defaultFormattingWidth||t.defaultWidth,i=n?.width?String(n.width):e;r=t.formattingValues[i]||t.formattingValues[e]}else{const e=t.defaultWidth,i=n?.width?String(n.width):t.defaultWidth;r=t.values[i]||t.values[e]}return r[t.argumentCallback?t.argumentCallback(e):e]}}function gT(t){return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const a=o[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(s)?function(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n;return}(s,(t=>t.test(a))):function(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n;return}(s,(t=>t.test(a)));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:e.slice(a.length)}}}var yT;const vT={code:"en-US",formatDistance:(t,e,n)=>{let r;const i=hT[t];return r="string"===typeof i?i:1===e?i.one:i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:fT,formatRelative:(t,e,n,r)=>pT[t],localize:{ordinalNumber:(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:mT({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:mT({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:t=>t-1}),month:mT({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:mT({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:mT({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(yT={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:t=>parseInt(t,10)},function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.match(yT.matchPattern);if(!n)return null;const r=n[0],i=t.match(yT.parsePattern);if(!i)return null;let o=yT.valueCallback?yT.valueCallback(i[0]):i[0];return o=e.valueCallback?e.valueCallback(o):o,{value:o,rest:t.slice(r.length)}}),era:gT({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:gT({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:t=>t+1}),month:gT({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:gT({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:gT({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let bT={};function _T(){return bT}function wT(t){const e=lT(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function xT(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=sT.bind(null,t||n.find((t=>"object"===typeof t)));return n.map(i)}function ST(t,e){const n=lT(t,e?.in);return n.setHours(0,0,0,0),n}function kT(t,e,n){const[r,i]=xT(n?.in,t,e),o=ST(r),a=ST(i),s=+o-wT(o),l=+a-wT(a);return Math.round((s-l)/oT)}function OT(t,e){const n=lT(t,e?.in);return kT(n,cT(n))+1}function ET(t,e){const n=_T(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=lT(t,e?.in),o=i.getDay(),a=(o<r?7:0)+o-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function TT(t,e){return ET(t,{...e,weekStartsOn:1})}function PT(t,e){const n=lT(t,e?.in),r=n.getFullYear(),i=sT(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=TT(i),a=sT(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=TT(a);return n.getTime()>=o.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function CT(t,e){const n=PT(t,e),r=sT(e?.in||t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),TT(r)}function AT(t,e){const n=lT(t,e?.in),r=+TT(n)-+CT(n);return Math.round(r/iT)+1}function jT(t,e){const n=lT(t,e?.in),r=n.getFullYear(),i=_T(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=sT(e?.in||t,0);a.setFullYear(r+1,0,o),a.setHours(0,0,0,0);const s=ET(a,e),l=sT(e?.in||t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=ET(l,e);return+n>=+s?r+1:+n>=+c?r:r-1}function IT(t,e){const n=_T(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=jT(t,e),o=sT(e?.in||t,0);o.setFullYear(i,0,r),o.setHours(0,0,0,0);return ET(o,e)}function MT(t,e){const n=lT(t,e?.in),r=+ET(n,e)-+IT(n,e);return Math.round(r/iT)+1}function NT(t,e){return(t<0?"-":"")+Math.abs(t).toString().padStart(e,"0")}const DT={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return NT("yy"===e?r%100:r,e.length)},M(t,e){const n=t.getMonth();return"M"===e?String(n+1):NT(n+1,2)},d:(t,e)=>NT(t.getDate(),e.length),a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(t,e)=>NT(t.getHours()%12||12,e.length),H:(t,e)=>NT(t.getHours(),e.length),m:(t,e)=>NT(t.getMinutes(),e.length),s:(t,e)=>NT(t.getSeconds(),e.length),S(t,e){const n=e.length,r=t.getMilliseconds();return NT(Math.trunc(r*Math.pow(10,n-3)),e.length)}},LT="midnight",RT="noon",zT="morning",FT="afternoon",BT="evening",UT="night",VT={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if("yo"===e){const e=t.getFullYear(),r=e>0?e:1-e;return n.ordinalNumber(r,{unit:"year"})}return DT.y(t,e)},Y:function(t,e,n,r){const i=jT(t,r),o=i>0?i:1-i;if("YY"===e){return NT(o%100,2)}return"Yo"===e?n.ordinalNumber(o,{unit:"year"}):NT(o,e.length)},R:function(t,e){return NT(PT(t),e.length)},u:function(t,e){return NT(t.getFullYear(),e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return NT(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return NT(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return DT.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return NT(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=MT(t,r);return"wo"===e?n.ordinalNumber(i,{unit:"week"}):NT(i,e.length)},I:function(t,e,n){const r=AT(t);return"Io"===e?n.ordinalNumber(r,{unit:"week"}):NT(r,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getDate(),{unit:"date"}):DT.d(t,e)},D:function(t,e,n){const r=OT(t);return"Do"===e?n.ordinalNumber(r,{unit:"dayOfYear"}):NT(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return NT(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return NT(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=0===r?7:r;switch(e){case"i":return String(i);case"ii":return NT(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(i=12===r?RT:0===r?LT:r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(i=r>=17?BT:r>=12?FT:r>=4?zT:UT,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){let e=t.getHours()%12;return 0===e&&(e=12),n.ordinalNumber(e,{unit:"hour"})}return DT.h(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getHours(),{unit:"hour"}):DT.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return"Ko"===e?n.ordinalNumber(r,{unit:"hour"}):NT(r,e.length)},k:function(t,e,n){let r=t.getHours();return 0===r&&(r=24),"ko"===e?n.ordinalNumber(r,{unit:"hour"}):NT(r,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):DT.m(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getSeconds(),{unit:"second"}):DT.s(t,e)},S:function(t,e){return DT.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(0===r)return"Z";switch(e){case"X":return HT(r);case"XXXX":case"XX":return $T(r);default:return $T(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return HT(r);case"xxxx":case"xx":return $T(r);default:return $T(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+WT(r,":");default:return"GMT"+$T(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+WT(r,":");default:return"GMT"+$T(r,":")}},t:function(t,e,n){return NT(Math.trunc(+t/1e3),e.length)},T:function(t,e,n){return NT(+t,e.length)}};function WT(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return 0===o?n+String(i):n+String(i)+e+NT(o,2)}function HT(t,e){if(t%60===0){return(t>0?"-":"+")+NT(Math.abs(t)/60,2)}return $T(t,e)}function $T(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=t>0?"-":"+",r=Math.abs(t);return n+NT(Math.trunc(r/60),2)+e+NT(r%60,2)}const qT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},GT=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},KT={p:GT,P:(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return qT(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;default:o=e.dateTime({width:"full"})}return o.replace("{{date}}",qT(r,e)).replace("{{time}}",GT(i,e))}},ZT=/^D+$/,YT=/^Y+$/,XT=["D","DD","YY","YYYY"];function QT(t){return t instanceof Date||"object"===typeof t&&"[object Date]"===Object.prototype.toString.call(t)}function JT(t){return!(!QT(t)&&"number"!==typeof t||isNaN(+lT(t)))}const tP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nP=/^'([^]*?)'?$/,rP=/''/g,iP=/[a-zA-Z]/;function oP(t,e,n){const r=_T(),i=n?.locale??r.locale??vT,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=lT(t,n?.in);if(!JT(s))throw new RangeError("Invalid time value");let l=e.match(eP).map((t=>{const e=t[0];if("p"===e||"P"===e){return(0,KT[e])(t,i.formatLong)}return t})).join("").match(tP).map((t=>{if("''"===t)return{isToken:!1,value:"'"};const e=t[0];if("'"===e)return{isToken:!1,value:aP(t)};if(VT[e])return{isToken:!0,value:t};if(e.match(iP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+e+"`");return{isToken:!1,value:t}}));i.localize.preprocessor&&(l=i.localize.preprocessor(s,l));const c={firstWeekContainsDate:o,weekStartsOn:a,locale:i};return l.map((r=>{if(!r.isToken)return r.value;const o=r.value;(!n?.useAdditionalWeekYearTokens&&function(t){return YT.test(t)}(o)||!n?.useAdditionalDayOfYearTokens&&function(t){return ZT.test(t)}(o))&&function(t,e,n){const r=function(t,e,n){const r="Y"===t[0]?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(t,e,n);if(console.warn(r),XT.includes(t))throw new RangeError(r)}(o,e,String(t));return(0,VT[o[0]])(s,o,i.localize,c)})).join("")}function aP(t){const e=t.match(nP);return e?e[1].replace(rP,"'"):t}function sP(t,e){const{start:n,end:r}=function(t,e){const[n,r]=xT(t,e.start,e.end);return{start:n,end:r}}(e?.in,t);let i=+n>+r;const o=i?+n:+r,a=i?r:n;a.setHours(0,0,0,0);let s=e?.step??1;if(!s)return[];s<0&&(s=-s,i=!i);const l=[];for(;+a<=o;)l.push(sT(n,a)),a.setDate(a.getDate()+s),a.setHours(0,0,0,0);return i?l.reverse():l}const lP=t=>{let{payslipData:e,companiesData:n,onPrint:r}=t;const i=(0,o.useRef)();if(!e)return null;const a=t=>{if(!t)return"N/A";const e=new Date(t);return JT(e)?oP(e,"dd MMM yyyy"):"Invalid date"};return(0,yt.jsxs)("div",{className:"payslip-print-container",children:[(0,yt.jsx)("div",{className:"print-controls",children:(0,yt.jsx)("button",{onClick:()=>{const t=i.current,e=document.body.innerHTML;document.body.innerHTML=t.innerHTML,window.print(),document.body.innerHTML=e,r&&r()},className:"print-button",children:"Print Payslip"})}),(0,yt.jsxs)("div",{className:"payslip-printable",ref:i,children:[(0,yt.jsxs)("div",{className:"payslip-header-print",children:[(0,yt.jsx)("h2",{children:"PAYSLIP"}),(0,yt.jsx)("div",{className:"payslip-status",children:e.isPaid?(0,yt.jsx)("span",{className:"paid-status",children:"PAID"}):(0,yt.jsx)("span",{className:"unpaid-status",children:"UNPAID"})})]}),(0,yt.jsx)("div",{className:"payslip-info",children:(0,yt.jsxs)("div",{className:"period-info",children:[(0,yt.jsxs)("p",{children:[(0,yt.jsx)("strong",{children:"Pay Period:"})," ",a(e.periodStart)," - ",a(e.periodEnd)]}),(0,yt.jsxs)("p",{children:[(0,yt.jsx)("strong",{children:"Payslip ID:"})," ",e.id]}),e.isPaid&&e.paidAt&&(0,yt.jsxs)("p",{children:[(0,yt.jsx)("strong",{children:"Payment Date:"})," ",a(e.paidAt)]})]})}),(0,yt.jsxs)("div",{className:"payslip-details-print",children:[(0,yt.jsx)("h3",{children:"Earnings"}),(0,yt.jsxs)("table",{className:"earnings-table-print",children:[(0,yt.jsx)("thead",{children:(0,yt.jsxs)("tr",{children:[(0,yt.jsx)("th",{children:"Company"}),(0,yt.jsx)("th",{children:"Days"}),(0,yt.jsx)("th",{children:"Daily Rate"}),(0,yt.jsx)("th",{children:"Amount"})]})}),(0,yt.jsx)("tbody",{children:Object.entries(e.earnings).map((t=>{let[e,r]=t;return r.days>0?(0,yt.jsxs)("tr",{children:[(0,yt.jsx)("td",{children:e}),(0,yt.jsx)("td",{children:r.days}),(0,yt.jsxs)("td",{children:["$",n[e].rate.toFixed(2)]}),(0,yt.jsxs)("td",{children:["$",r.amount.toFixed(2)]})]},e):null}))})]}),(0,yt.jsxs)("div",{className:"payslip-summary-print",children:[(0,yt.jsxs)("div",{className:"summary-row",children:[(0,yt.jsx)("div",{className:"summary-label",children:"Gross Pay:"}),(0,yt.jsxs)("div",{className:"summary-value",children:["$",e.totalGross.toFixed(2)]})]}),(0,yt.jsxs)("div",{className:"summary-row",children:[(0,yt.jsxs)("div",{className:"summary-label",children:["Tax (",e.taxPercentage,"%):"]}),(0,yt.jsxs)("div",{className:"summary-value",children:["-$",e.taxAmount.toFixed(2)]})]}),(0,yt.jsxs)("div",{className:"summary-row",children:[(0,yt.jsxs)("div",{className:"summary-label",children:["Superannuation (",e.superPercentage,"%):"]}),(0,yt.jsxs)("div",{className:"summary-value",children:["-$",e.superAmount.toFixed(2)]})]}),(0,yt.jsxs)("div",{className:"summary-row net-pay",children:[(0,yt.jsx)("div",{className:"summary-label",children:"Net Pay:"}),(0,yt.jsxs)("div",{className:"summary-value",children:["$",e.netPay.toFixed(2)]})]})]})]}),(0,yt.jsx)("div",{className:"payslip-footer",children:(0,yt.jsx)("p",{children:"This is an automatically generated payslip."})})]})]})},cP=t=>{let{assignments:e,companiesData:n,payslips:r,savePayslips:i}=t;const[a,s]=(0,o.useState)(null),[l,c]=(0,o.useState)(32.5),[u,h]=(0,o.useState)(10.5),[d,f]=(0,o.useState)([]),[p,m]=(0,o.useState)(null),[g,y]=(0,o.useState)(!1),[v,b]=(0,o.useState)(!1);(0,o.useEffect)((()=>{f((()=>{const t=cT(new Date),e=new Date(t.getFullYear(),11,31);let n=t;const r=[];for(;n<=e;){const t=uT(n,13);r.push({startDate:new Date(n),endDate:new Date(t),label:`${oP(n,"dd MMM")} - ${oP(t,"dd MMM yyyy")}`}),n=uT(t,1)}return r})())}),[]);const _=(t,r)=>{const i=sP({start:t,end:r}),o=Object.keys(n).reduce(((t,e)=>(t[e]={days:0,amount:0},t)),{});i.forEach((t=>{const r=t.toISOString().split("T")[0],i=e[r];i&&n[i]&&(o[i].days+=1,o[i].amount+=n[i].rate)}));const a=Object.values(o).reduce(((t,e)=>{let{amount:n}=e;return t+n}),0),s=a*l/100,c=a*u/100;return{periodStart:t,periodEnd:r,earnings:o,totalGross:a,taxAmount:s,taxPercentage:l,superAmount:c,superPercentage:u,netPay:a-s-c}};return(0,yt.jsxs)("div",{className:"payslip-manager",children:[(0,yt.jsx)("h2",{children:"Fortnightly Payslip Manager"}),(0,yt.jsxs)("div",{className:"payslip-controls",children:[(0,yt.jsxs)("div",{className:"select-container",children:[(0,yt.jsx)("label",{children:"Select Pay Period:"}),(0,yt.jsxs)("select",{onChange:t=>{const e=t.target.value;if(""!==e){const t=d[e];s(t);const n=r[t.label];if(n)m(n),c(n.taxPercentage),h(n.superPercentage);else{const e=_(t.startDate,t.endDate);m({...e,id:`PS-${t.label}`,isPaid:!1,createdAt:(new Date).toISOString()})}y(!0)}else s(null),m(null),y(!1)},value:a?d.findIndex((t=>t.label===a.label)):"",children:[(0,yt.jsx)("option",{value:"",children:"-- Select a period --"}),d.map(((t,e)=>{var n;return(0,yt.jsxs)("option",{value:e,children:[t.label," ",null!==(n=r[t.label])&&void 0!==n&&n.isPaid?"(Paid)":""]},e)}))]})]}),(0,yt.jsxs)("div",{className:"rate-inputs",children:[(0,yt.jsxs)("div",{className:"input-field",children:[(0,yt.jsx)("label",{children:"Tax Rate (%):"}),(0,yt.jsx)("input",{type:"number",step:"0.1",min:"0",max:"100",value:l,onChange:t=>c(parseFloat(t.target.value))})]}),(0,yt.jsxs)("div",{className:"input-field",children:[(0,yt.jsx)("label",{children:"Superannuation (%):"}),(0,yt.jsx)("input",{type:"number",step:"0.1",min:"0",max:"100",value:u,onChange:t=>h(parseFloat(t.target.value))})]}),(0,yt.jsx)("button",{onClick:()=>{if(!a||!p)return;const t=_(a.startDate,a.endDate),e={...p,...t,taxPercentage:l,superPercentage:u,updatedAt:(new Date).toISOString()},n={...r,[a.label]:e};i(n),m(e)},className:"recalculate-btn",children:"Recalculate & Save"})]})]}),g&&p&&(0,yt.jsxs)("div",{className:"payslip-details",children:[(0,yt.jsxs)("div",{className:"payslip-header",children:[(0,yt.jsxs)("h3",{children:["Payslip: ",a.label]}),(0,yt.jsx)("div",{className:"status-badge",style:{backgroundColor:p.isPaid?"#4CAF50":"#FF9800"},children:p.isPaid?"PAID":"UNPAID"}),(0,yt.jsxs)("button",{className:"toggle-paid-btn "+(p.isPaid?"unpaid-btn":"paid-btn"),onClick:()=>{if(!a||!p)return;const t={...p,isPaid:!p.isPaid,paidAt:p.isPaid?null:(new Date).toISOString(),updatedAt:(new Date).toISOString()},e={...r,[a.label]:t};i(e),m(t)},children:["Mark as ",p.isPaid?"Unpaid":"Paid"]}),(0,yt.jsx)("button",{className:"print-view-btn",onClick:()=>{b(!v)},style:{marginLeft:"10px",backgroundColor:"#2196F3",color:"white",padding:"8px 12px",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:v?"Hide Print View":"Show Print View"})]}),v?(0,yt.jsx)(lP,{payslipData:p,companiesData:n,onPrint:()=>b(!1)}):(0,yt.jsx)("div",{className:"payslip-summary",children:(0,yt.jsxs)("table",{className:"earnings-table",children:[(0,yt.jsx)("thead",{children:(0,yt.jsxs)("tr",{children:[(0,yt.jsx)("th",{children:"Company"}),(0,yt.jsx)("th",{children:"Days"}),(0,yt.jsx)("th",{children:"Daily Rate"}),(0,yt.jsx)("th",{children:"Amount"})]})}),(0,yt.jsx)("tbody",{children:Object.entries(p.earnings).map((t=>{let[e,r]=t;return r.days>0?(0,yt.jsxs)("tr",{children:[(0,yt.jsx)("td",{children:e}),(0,yt.jsx)("td",{children:r.days}),(0,yt.jsxs)("td",{children:["$",n[e].rate.toFixed(2)]}),(0,yt.jsxs)("td",{children:["$",r.amount.toFixed(2)]})]},e):null}))}),(0,yt.jsxs)("tfoot",{children:[(0,yt.jsxs)("tr",{children:[(0,yt.jsx)("td",{colSpan:"3",children:(0,yt.jsx)("strong",{children:"Gross Pay"})}),(0,yt.jsx)("td",{children:(0,yt.jsxs)("strong",{children:["$",p.totalGross.toFixed(2)]})})]}),(0,yt.jsxs)("tr",{children:[(0,yt.jsxs)("td",{colSpan:"3",children:["Tax (",p.taxPercentage,"%)"]}),(0,yt.jsxs)("td",{children:["-$",p.taxAmount.toFixed(2)]})]}),(0,yt.jsxs)("tr",{className:"super-row",children:[(0,yt.jsxs)("td",{colSpan:"3",children:["Superannuation (",p.superPercentage,"%)"]}),(0,yt.jsxs)("td",{children:["-$",p.superAmount.toFixed(2)]})]}),(0,yt.jsxs)("tr",{className:"net-pay-row",children:[(0,yt.jsx)("td",{colSpan:"3",children:(0,yt.jsx)("strong",{children:"Net Pay"})}),(0,yt.jsx)("td",{children:(0,yt.jsxs)("strong",{children:["$",p.netPay.toFixed(2)]})})]})]})]})})]}),(0,yt.jsxs)("div",{className:"payslips-list",children:[(0,yt.jsx)("h3",{children:"Recent Payslips"}),(0,yt.jsxs)("table",{className:"payslips-table",children:[(0,yt.jsx)("thead",{children:(0,yt.jsxs)("tr",{children:[(0,yt.jsx)("th",{children:"Period"}),(0,yt.jsx)("th",{children:"Gross Pay"}),(0,yt.jsx)("th",{children:"Net Pay"}),(0,yt.jsx)("th",{children:"Status"})]})}),(0,yt.jsx)("tbody",{children:Object.entries(r).sort(((t,e)=>new Date(e[1].periodEnd)-new Date(t[1].periodEnd))).slice(0,5).map((t=>{let[e,n]=t;return(0,yt.jsxs)("tr",{onClick:()=>{const t=d.findIndex((t=>t.label===e));t>=0&&(s(d[t]),m(n),c(n.taxPercentage),h(n.superPercentage),y(!0),b(!1))},children:[(0,yt.jsx)("td",{children:e}),(0,yt.jsxs)("td",{children:["$",n.totalGross.toFixed(2)]}),(0,yt.jsxs)("td",{children:["$",n.netPay.toFixed(2)]}),(0,yt.jsx)("td",{children:(0,yt.jsx)("span",{className:"status-indicator",style:{backgroundColor:n.isPaid?"#4CAF50":"#FF9800"},children:n.isPaid?"PAID":"UNPAID"})})]},e)}))})]})]})]})};Oh.register(pd,vd,Hh,Yh,hd,Kh);const uP={"GIS Team":{color:"#FF6B6B",rate:640},Exploration:{color:"#4ECDC4",rate:640},GSWA:{color:"#45B7D1",rate:1120},Sick:{color:"#ff0000",rate:0},Other:{color:"#ff0000",rate:0}};const hP=function(){const[t,e]=(0,o.useState)(null),[n,r]=(0,o.useState)({}),[i,a]=(0,o.useState)(uP),[s,l]=(0,o.useState)(!0),[c,u]=(0,o.useState)(!1),[h,d]=(0,o.useState)({}),[f,p]=(0,o.useState)({}),[m,g]=(0,o.useState)({});(0,o.useEffect)((()=>{c&&y()}),[c]);const y=async()=>{try{const[t,e,n,i,o]=await Promise.all([DE("calendar","assignments"),DE("calendar","companies"),DE("calendar","purchaseOrders"),DE("calendar","invoices"),DE("calendar","payslips")]);t.exists()&&r(t.data().assignments||{}),e.exists()?a(e.data().companies||uP):await NE("calendar","companies",{companies:uP}),n.exists()?d(n.data().purchaseOrders||{}):await NE("calendar","purchaseOrders",{purchaseOrders:{}}),i.exists()?p(i.data().invoices||{}):await NE("calendar","invoices",{invoices:{}}),o.exists()?g(o.data().payslips||{}):await NE("calendar","payslips",{payslips:{}})}catch(t){console.error("Error loading data:",t)}};(0,o.useEffect)((()=>{c&&(async()=>{if(c)try{await NE("calendar","assignments",{assignments:n})}catch(t){console.error("Error saving data:",t)}})()}),[n]);const v=t=>{if(!c)return;const e=t.toISOString().split("T")[0],o=(t=>{const e=Object.keys(i);if(!t)return e[0];const n=e.indexOf(t);return e[(n+1)%e.length]})(n[e]);r({...n,[e]:o})},b=(0,o.useMemo)((()=>{const t=Object.values(n).reduce(((t,e)=>(t[e]=(t[e]||0)+1,t)),{});return{counts:t,revenue:Object.entries(t).reduce(((t,e)=>{let[n,r]=e;return t+r*i[n].rate}),0)}}),[n]);return Object.keys(i),Object.keys(i).map((t=>b.counts[t]||0)),Object.values(i).map((t=>t.color)),c?(0,yt.jsxs)("div",{className:"rates-container",children:[(0,yt.jsx)("h1",{className:"dashboard-title",children:"HBD Billing Dashboard"}),(0,yt.jsxs)("div",{className:"calendar-section",children:[(0,yt.jsx)(oa,{onChange:t=>{e(t)},value:t,tileContent:t=>{let{date:e}=t;const r=e.toISOString().split("T")[0],o=n[r];if(!o)return null;const a=Object.values(f).find((t=>t.days.includes(r)));return(0,yt.jsxs)("div",{className:"tile-content",style:{backgroundColor:i[o].color},children:[o,a&&(0,yt.jsxs)("div",{className:"invoice-badge",style:{color:"sent"===a.status?"#4CAF50":"#FFC107"},children:[a.id," (",a.status,")"]})]})},onClickDay:(t,e)=>{2===e.detail&&v(t)}}),(0,yt.jsx)("div",{className:"legend",children:Object.entries(i).map((t=>{let[e,n]=t;return(0,yt.jsxs)("div",{className:"legend-item",children:[(0,yt.jsx)("div",{className:"color-box",style:{backgroundColor:n.color}}),(0,yt.jsxs)("span",{children:[e," ($",n.rate,"/day)"]})]},e)}))})]}),t&&(0,yt.jsx)("div",{className:"company-buttons",children:Object.entries(i).map((e=>{let[i,o]=e;return(0,yt.jsx)("button",{onClick:()=>(e=>{if(c&&t){const i=t.toISOString().split("T")[0];r({...n,[i]:e})}})(i),style:{backgroundColor:o.color},children:i},i)}))}),(0,yt.jsx)(KE,{assignments:n,companiesData:i}),(0,yt.jsx)(cP,{assignments:n,companiesData:i,payslips:m,savePayslips:async t=>{if(c)try{await NE("calendar","payslips",{payslips:t}),g(t)}catch(e){console.error("Error saving payslips:",e)}}}),(0,yt.jsx)(eT,{assignments:n,companiesData:i,purchaseOrders:h,invoices:f,saveInvoices:async t=>{if(c)try{await NE("calendar","invoices",{invoices:t}),p(t)}catch(e){console.error("Error saving invoices:",e)}}}),(0,yt.jsx)(nT,{purchaseOrders:h,savePurchaseOrders:async t=>{if(c)try{await NE("calendar","purchaseOrders",{purchaseOrders:t}),d(t)}catch(e){console.error("Error saving purchase orders:",e)}},companiesData:i,invoices:f}),(0,yt.jsx)(rT,{})]}):(0,yt.jsxs)("div",{className:"rates-container",children:[(0,yt.jsx)("h1",{className:"dashboard-title",children:"HBD Billing Dashboard"}),(0,yt.jsx)(LE,{onClose:()=>l(!1),onAuthenticated:()=>u(!0)})]})},dP=St("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),fP=t=>{let{children:e,onClick:n,className:r=""}=t;return(0,yt.jsx)("button",{onClick:n,className:`px-4 py-2 rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-blue-500 bg-blue-600 hover:bg-blue-700 text-white disabled:bg-blue-800 disabled:cursor-not-allowed ${r}`,children:e})},pP=t=>{let{onFileUpload:e,hasColumns:n=!1,isConfigVisible:r=!0,onToggleConfig:i=(()=>{})}=t;return(0,yt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,yt.jsxs)(fP,{onClick:()=>document.getElementById("file-upload").click(),className:"flex items-center gap-2",children:[(0,yt.jsx)(dP,{size:16}),"Upload CSV"]}),(0,yt.jsx)("input",{id:"file-upload",type:"file",accept:".csv",onChange:t=>{const n=t.target.files[0];n&&e(n)},className:"hidden"}),n&&(0,yt.jsx)(fP,{onClick:i,className:"flex items-center gap-2",children:r?(0,yt.jsxs)(yt.Fragment,{children:[(0,yt.jsx)(or,{size:16}),"Hide Configuration"]}):(0,yt.jsxs)(yt.Fragment,{children:[(0,yt.jsx)(ar,{size:16}),"Show Configuration"]})})]})},mP=t=>{let{children:e,onClick:n,className:r="",disabled:i=!1}=t;return(0,yt.jsx)("button",{onClick:n,disabled:i,className:`px-4 py-2 rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-blue-500 bg-blue-600 hover:bg-blue-700 text-white disabled:bg-blue-800 disabled:cursor-not-allowed ${r}`,children:e})},gP=t=>{let{charts:e,onUpdateChartCount:n,onPresetSelected:r,maxCharts:i=4,minCharts:o=1}=t;return(0,yt.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[(0,yt.jsx)(mP,{onClick:()=>r("3charts"),children:"3 Charts Preset"}),(0,yt.jsx)(mP,{onClick:()=>r("single"),children:"Single Chart"}),(0,yt.jsx)(mP,{onClick:()=>{n(Math.min(e+1,i))},disabled:e>=i,children:"Add Chart"}),(0,yt.jsx)(mP,{onClick:()=>{n(Math.max(e-1,o))},disabled:e<=o,children:"Remove Chart"})]})},yP=t=>{let{value:e,onChange:n,options:r,label:i,placeholder:o}=t;return(0,yt.jsxs)("div",{children:[(0,yt.jsx)("label",{className:"block text-sm font-medium mb-2",children:i}),(0,yt.jsxs)("select",{value:e,onChange:n,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2",children:[o&&(0,yt.jsx)("option",{value:"",children:o}),r.map((t=>(0,yt.jsx)("option",{value:t,children:t},t)))]})]})},vP=t=>{let{columns:e,dateConfig:n,onDateConfigChange:r}=t;const i=t=>{r({...n,mode:t})},o=t=>e=>{r({...n,[t]:e.target.value})};return(0,yt.jsxs)("div",{className:"mb-6 p-4 bg-gray-800 rounded-lg border border-gray-700",children:[(0,yt.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Date Configuration"}),(0,yt.jsxs)("div",{className:"space-y-4",children:[(0,yt.jsxs)("div",{className:"flex items-center gap-4",children:[(0,yt.jsxs)("label",{className:"inline-flex items-center",children:[(0,yt.jsx)("input",{type:"radio",checked:"single"===n.mode,onChange:()=>i("single"),className:"form-radio text-blue-600"}),(0,yt.jsx)("span",{className:"ml-2",children:"Single Date Column"})]}),(0,yt.jsxs)("label",{className:"inline-flex items-center",children:[(0,yt.jsx)("input",{type:"radio",checked:"composite"===n.mode,onChange:()=>i("composite"),className:"form-radio text-blue-600"}),(0,yt.jsx)("span",{className:"ml-2",children:"Separate Year/Month/Day"})]})]}),"single"===n.mode?(0,yt.jsx)(yP,{label:"Date Column",value:n.singleColumn,onChange:t=>{r({...n,singleColumn:t.target.value})},options:e}):(0,yt.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,yt.jsx)(yP,{label:"Year Column",value:n.yearColumn,onChange:o("yearColumn"),options:e,placeholder:"Select column"}),(0,yt.jsx)(yP,{label:"Month Column",value:n.monthColumn,onChange:o("monthColumn"),options:e,placeholder:"Select column"}),(0,yt.jsx)(yP,{label:"Day Column",value:n.dayColumn,onChange:o("dayColumn"),options:e,placeholder:"Select column"})]})]})]})},bP=t=>{let{children:e,onClick:n,className:r="",variant:i="default"}=t;return(0,yt.jsx)("button",{onClick:n,className:`px-4 py-2 rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-blue-500 ${{default:"bg-blue-600 hover:bg-blue-700 text-white disabled:bg-blue-800 disabled:cursor-not-allowed",secondary:"bg-gray-700 hover:bg-gray-600 text-gray-100 disabled:bg-gray-800 disabled:cursor-not-allowed"}[i]} ${r}`,children:e})},_P=t=>{let{columns:e,selectedColumnsPerChart:n,activeChartIndex:r,onChartSelect:i,onColumnToggle:o,charts:a}=t;return(0,yt.jsxs)("div",{children:[(0,yt.jsxs)("div",{className:"mb-2 flex items-center gap-2",children:[(0,yt.jsx)("span",{className:"text-sm font-medium",children:"Configure Chart:"}),(0,yt.jsx)("select",{value:r,onChange:t=>i(Number(t.target.value)),className:"bg-gray-800 border border-gray-700 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:a}).map(((t,e)=>(0,yt.jsxs)("option",{value:e,children:["Chart ",e+1]},e)))})]}),(0,yt.jsx)("div",{className:"flex flex-wrap gap-2",children:e.map((t=>{var e;const i=null===(e=n[r])||void 0===e?void 0:e.includes(t);return(0,yt.jsxs)(bP,{onClick:()=>o(t),variant:i?"default":"secondary",className:"flex items-center gap-2",children:[t,i&&(0,yt.jsx)(Ct,{size:14,className:"text-gray-400"})]},t)}))})]})};var wP=n(9889),xP=n.n(wP),SP=n(620),kP=n.n(SP),OP=n(5268),EP=n.n(OP),TP=n(3097),PP=n.n(TP),CP=n(9160),AP=n.n(CP),jP=function(t){return 0===t?0:t>0?1:-1},IP=function(t){return kP()(t)&&t.indexOf("%")===t.length-1},MP=function(t){return AP()(t)&&!EP()(t)},NP=function(t){return MP(t)||kP()(t)},DP=0,LP=function(t){var e=++DP;return"".concat(t||"").concat(e)},RP=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!MP(t)&&!kP()(t))return r;if(IP(t)){var o=t.indexOf("%");n=e*parseFloat(t.slice(0,o))/100}else n=+t;return EP()(n)&&(n=r),i&&n>e&&(n=e),n},zP=function(t){if(!t)return null;var e=Object.keys(t);return e&&e.length?t[e[0]]:null},FP=function(t,e){return MP(t)&&MP(e)?function(n){return t+n*(e-t)}:function(){return e}};function BP(t,e,n){return t&&t.length?t.find((function(t){return t&&("function"===typeof e?e(t):PP()(t,e))===n})):null}var UP=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},VP=n(9686),WP=n.n(VP),HP=n(1629),$P=n.n(HP),qP=n(6686),GP=n.n(qP),KP=n(9062);function ZP(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function YP(t){return YP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YP(t)}var XP=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],QP=["points","pathLength"],JP={svg:["viewBox","children"],polygon:QP,polyline:QP},tC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],eC=function(t,e){if(!t||"function"===typeof t||"boolean"===typeof t)return null;var n=t;if((0,o.isValidElement)(t)&&(n=t.props),!GP()(n))return null;var r={};return Object.keys(n).forEach((function(t){tC.includes(t)&&(r[t]=e||function(e){return n[t](n,e)})})),r},nC=function(t,e,n){if(!GP()(t)||"object"!==YP(t))return null;var r=null;return Object.keys(t).forEach((function(i){var o=t[i];tC.includes(i)&&"function"===typeof o&&(r||(r={}),r[i]=function(t,e,n){return function(r){return t(e,n,r),null}}(o,e,n))})),r},rC=["children"],iC=["children"];function oC(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aC(t){return aC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aC(t)}var sC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},lC=function(t){return"string"===typeof t?t:t?t.displayName||t.name||"Component":""},cC=null,uC=null,hC=function t(e){if(e===cC&&Array.isArray(uC))return uC;var n=[];return o.Children.forEach(e,(function(e){WP()(e)||((0,KP.isFragment)(e)?n=n.concat(t(e.props.children)):n.push(e))})),uC=n,cC=e,n};function dC(t,e){var n=[],r=[];return r=Array.isArray(e)?e.map((function(t){return lC(t)})):[lC(e)],hC(t).forEach((function(t){var e=PP()(t,"type.displayName")||PP()(t,"type.name");-1!==r.indexOf(e)&&n.push(t)})),n}function fC(t,e){var n=dC(t,e);return n&&n[0]}var pC=function(t){if(!t||!t.props)return!1;var e=t.props,n=e.width,r=e.height;return!(!MP(n)||n<=0||!MP(r)||r<=0)},mC=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],gC=function(t){return t&&t.type&&kP()(t.type)&&mC.indexOf(t.type)>=0},yC=function(t,e,n){if(!t||"function"===typeof t||"boolean"===typeof t)return null;var r=t;if((0,o.isValidElement)(t)&&(r=t.props),!GP()(r))return null;var i={};return Object.keys(r).forEach((function(t){var o;(function(t,e,n,r){var i,o=null!==(i=null===JP||void 0===JP?void 0:JP[r])&&void 0!==i?i:[];return!$P()(t)&&(r&&o.includes(e)||XP.includes(e))||n&&tC.includes(e)})(null===(o=r)||void 0===o?void 0:o[t],t,e,n)&&(i[t]=r[t])})),i},vC=function t(e,n){if(e===n)return!0;var r=o.Children.count(e);if(r!==o.Children.count(n))return!1;if(0===r)return!0;if(1===r)return bC(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],s=n[i];if(Array.isArray(a)||Array.isArray(s)){if(!t(a,s))return!1}else if(!bC(a,s))return!1}return!0},bC=function(t,e){if(WP()(t)&&WP()(e))return!0;if(!WP()(t)&&!WP()(e)){var n=t.props||{},r=n.children,i=oC(n,rC),o=e.props||{},a=o.children,s=oC(o,iC);return r&&a?ZP(i,s)&&vC(r,a):!r&&!a&&ZP(i,s)}return!1},_C=function(t,e){var n=[],r={};return hC(t).forEach((function(t,i){if(gC(t))n.push(t);else if(t){var o=lC(t.type),a=e[o]||{},s=a.handler,l=a.once;if(s&&(!l||!r[o])){var c=s(t,o,i);n.push(c),r[o]=!0}}})),n};function wC(t){return wC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wC(t)}function xC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function SC(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xC(Object(n),!0).forEach((function(e){kC(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xC(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kC(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=wC(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wC(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OC(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return EC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EC(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EC(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var TC=(0,o.forwardRef)((function(t,e){var n=t.aspect,r=t.initialDimension,i=void 0===r?{width:-1,height:-1}:r,a=t.width,s=void 0===a?"100%":a,l=t.height,c=void 0===l?"100%":l,u=t.minWidth,h=void 0===u?0:u,d=t.minHeight,f=t.maxHeight,p=t.children,m=t.debounce,g=void 0===m?0:m,y=t.id,v=t.className,b=t.onResize,_=t.style,w=void 0===_?{}:_,x=(0,o.useRef)(null),S=(0,o.useRef)();S.current=b,(0,o.useImperativeHandle)(e,(function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})}));var k=OC((0,o.useState)({containerWidth:i.width,containerHeight:i.height}),2),O=k[0],E=k[1],T=(0,o.useCallback)((function(t,e){E((function(n){var r=Math.round(t),i=Math.round(e);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}}))}),[]);(0,o.useEffect)((function(){var t=function(t){var e,n=t[0].contentRect,r=n.width,i=n.height;T(r,i),null===(e=S.current)||void 0===e||e.call(S,r,i)};g>0&&(t=xP()(t,g,{trailing:!0,leading:!1}));var e=new ResizeObserver(t),n=x.current.getBoundingClientRect(),r=n.width,i=n.height;return T(r,i),e.observe(x.current),function(){e.disconnect()}}),[T,g]);var P=(0,o.useMemo)((function(){var t=O.containerWidth,e=O.containerHeight;if(t<0||e<0)return null;UP(IP(s)||IP(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),UP(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=IP(s)?t:s,i=IP(c)?e:c;n&&n>0&&(r?i=r/n:i&&(r=i*n),f&&i>f&&(i=f)),UP(r>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,i,s,c,h,d,n);var a=!Array.isArray(p)&&lC(p.type).endsWith("Chart");return o.Children.map(p,(function(t){return o.isValidElement(t)?(0,o.cloneElement)(t,SC({width:r,height:i},a?{style:SC({height:"100%",width:"100%",maxHeight:i,maxWidth:r},t.props.style)}:{})):t}))}),[n,p,c,f,d,h,O,s]);return o.createElement("div",{id:y?"".concat(y):void 0,className:wr("recharts-responsive-container",v),style:SC(SC({},w),{},{width:s,height:c,minWidth:h,minHeight:d,maxHeight:f}),ref:x},P)})),PC=n(6604),CC=n.n(PC),AC=n(7424),jC=n.n(AC),IC="Invariant failed";function MC(t,e){if(!t)throw new Error(IC)}var NC=["children","width","height","viewBox","className","style","title","desc"];function DC(){return DC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DC.apply(this,arguments)}function LC(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function RC(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,s=t.style,l=t.title,c=t.desc,u=LC(t,NC),h=i||{width:n,height:r,x:0,y:0},d=wr("recharts-surface",a);return o.createElement("svg",DC({},yC(u,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),o.createElement("title",null,l),o.createElement("desc",null,c),e)}var zC=["children","className"];function FC(){return FC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FC.apply(this,arguments)}function BC(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var UC=o.forwardRef((function(t,e){var n=t.children,r=t.className,i=BC(t,zC),a=wr("recharts-layer",r);return o.createElement("g",FC({className:a},yC(i,!0),{ref:e}),n)}));function VC(t){return VC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VC(t)}function WC(){return WC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WC.apply(this,arguments)}function HC(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return $C(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $C(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $C(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function GC(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qC(Object(n),!0).forEach((function(e){KC(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function KC(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=VC(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=VC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==VC(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZC(t){return Array.isArray(t)&&NP(t[0])&&NP(t[1])?t.join(" ~ "):t}var YC=function(t){var e=t.separator,n=void 0===e?" : ":e,r=t.contentStyle,i=void 0===r?{}:r,a=t.itemStyle,s=void 0===a?{}:a,l=t.labelStyle,c=void 0===l?{}:l,u=t.payload,h=t.formatter,d=t.itemSorter,f=t.wrapperClassName,p=t.labelClassName,m=t.label,g=t.labelFormatter,y=t.accessibilityLayer,v=void 0!==y&&y,b=GC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=GC({margin:0},c),w=!WP()(m),x=w?m:"",S=wr("recharts-default-tooltip",f),k=wr("recharts-tooltip-label",p);w&&g&&void 0!==u&&null!==u&&(x=g(m,u));var O=v?{role:"status","aria-live":"assertive"}:{};return o.createElement("div",WC({className:S,style:b},O),o.createElement("p",{className:k,style:_},o.isValidElement(x)?x:"".concat(x)),function(){if(u&&u.length){var t=(d?jC()(u,d):u).map((function(t,e){if("none"===t.type)return null;var r=GC({display:"block",paddingTop:4,paddingBottom:4,color:t.color||"#000"},s),i=t.formatter||h||ZC,a=t.value,l=t.name,c=a,d=l;if(i&&null!=c&&null!=d){var f=i(a,l,t,e,u);if(Array.isArray(f)){var p=HC(f,2);c=p[0],d=p[1]}else c=f}return o.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(e),style:r},NP(d)?o.createElement("span",{className:"recharts-tooltip-item-name"},d):null,NP(d)?o.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,o.createElement("span",{className:"recharts-tooltip-item-value"},c),o.createElement("span",{className:"recharts-tooltip-item-unit"},t.unit||""))}));return o.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},t)}return null}())};function XC(t){return XC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XC(t)}function QC(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=XC(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=XC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==XC(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var JC="recharts-tooltip-wrapper",tA={visibility:"hidden"};function eA(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return wr(JC,QC(QC(QC(QC({},"".concat(JC,"-right"),MP(n)&&e&&MP(e.x)&&n>=e.x),"".concat(JC,"-left"),MP(n)&&e&&MP(e.x)&&n<e.x),"".concat(JC,"-bottom"),MP(r)&&e&&MP(e.y)&&r>=e.y),"".concat(JC,"-top"),MP(r)&&e&&MP(e.y)&&r<e.y))}function nA(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&MP(o[r]))return o[r];var u=n[r]-s-i,h=n[r]+i;return e[r]?a[r]?u:h:a[r]?u<l[r]?Math.max(h,l[r]):Math.max(u,l[r]):h+s>l[r]+c?Math.max(u,l[r]):Math.max(h,l[r])}function rA(t){return rA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rA(t)}function iA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oA(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?iA(Object(n),!0).forEach((function(e){hA(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function aA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dA(r.key),r)}}function sA(t,e,n){return e=cA(e),function(t,e){if(e&&("object"===rA(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,lA()?Reflect.construct(e,n||[],cA(t).constructor):e.apply(t,n))}function lA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(lA=function(){return!!t})()}function cA(t){return cA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cA(t)}function uA(t,e){return uA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},uA(t,e)}function hA(t,e,n){return(e=dA(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dA(t){var e=function(t,e){if("object"!=rA(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rA(e)?e:e+""}var fA=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return hA(t=sA(this,e,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),hA(t,"handleKeyDown",(function(e){var n,r,i,o;"Escape"===e.key&&t.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=t.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(o=t.props.coordinate)||void 0===o?void 0:o.y)&&void 0!==i?i:0}})})),t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uA(t,e)}(e,t),n=e,(r=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var t=this.wrapperNode.getBoundingClientRect();(Math.abs(t.width-this.state.lastBoundingBox.width)>1||Math.abs(t.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:t.width,height:t.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var t,e;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(t=this.props.coordinate)||void 0===t?void 0:t.x)===this.state.dismissedAtCoordinate.x&&(null===(e=this.props.coordinate)||void 0===e?void 0:e.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var t=this,e=this.props,n=e.active,r=e.allowEscapeViewBox,i=e.animationDuration,a=e.animationEasing,s=e.children,l=e.coordinate,c=e.hasPayload,u=e.isAnimationActive,h=e.offset,d=e.position,f=e.reverseDirection,p=e.useTranslate3d,m=e.viewBox,g=e.wrapperStyle,y=function(t){var e,n,r=t.allowEscapeViewBox,i=t.coordinate,o=t.offsetTopLeft,a=t.position,s=t.reverseDirection,l=t.tooltipBox,c=t.useTranslate3d,u=t.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(t){var e=t.translateX,n=t.translateY;return{transform:t.useTranslate3d?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}({translateX:e=nA({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=nA({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:o,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):tA,cssClasses:eA({translateX:e,translateY:n,coordinate:i})}}({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:h,position:d,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),v=y.cssClasses,b=y.cssProperties,_=oA(oA({transition:u&&n?"transform ".concat(i,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return o.createElement("div",{tabIndex:-1,className:v,style:_,ref:function(e){t.wrapperNode=e}},s)}}])&&aA(n.prototype,r),i&&aA(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(o.PureComponent),pA={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(t){return pA[t]},set:function(t,e){if("string"===typeof t)pA[t]=e;else{var n=Object.keys(t);n&&n.length&&n.forEach((function(e){pA[e]=t[e]}))}}},mA=n(977),gA=n.n(mA);function yA(t,e,n){return!0===e?gA()(t,n):$P()(e)?gA()(t,e):t}function vA(t){return vA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vA(t)}function bA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bA(Object(n),!0).forEach((function(e){EA(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bA(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TA(r.key),r)}}function xA(t,e,n){return e=kA(e),function(t,e){if(e&&("object"===vA(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,SA()?Reflect.construct(e,n||[],kA(t).constructor):e.apply(t,n))}function SA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(SA=function(){return!!t})()}function kA(t){return kA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kA(t)}function OA(t,e){return OA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},OA(t,e)}function EA(t,e,n){return(e=TA(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TA(t){var e=function(t,e){if("object"!=vA(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vA(e)?e:e+""}function PA(t){return t.dataKey}var CA=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),xA(this,e,arguments)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OA(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this,e=this.props,n=e.active,r=e.allowEscapeViewBox,i=e.animationDuration,a=e.animationEasing,s=e.content,l=e.coordinate,c=e.filterNull,u=e.isAnimationActive,h=e.offset,d=e.payload,f=e.payloadUniqBy,p=e.position,m=e.reverseDirection,g=e.useTranslate3d,y=e.viewBox,v=e.wrapperStyle,b=null!==d&&void 0!==d?d:[];c&&b.length&&(b=yA(d.filter((function(e){return null!=e.value&&(!0!==e.hide||t.props.includeHidden)})),f,PA));var _=b.length>0;return o.createElement(fA,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:u,active:n,coordinate:l,hasPayload:_,offset:h,position:p,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(t,e){return o.isValidElement(t)?o.cloneElement(t,e):"function"===typeof t?o.createElement(t,e):o.createElement(YC,e)}(s,_A(_A({},this.props),{},{payload:b})))}}])&&wA(n.prototype,r),i&&wA(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(o.PureComponent);EA(CA,"displayName","Tooltip"),EA(CA,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pA.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var AA=n(643),jA=n.n(AA);Math.abs,Math.atan2;const IA=Math.cos,MA=(Math.max,Math.min,Math.sin),NA=Math.sqrt,DA=Math.PI,LA=2*DA;const RA={draw(t,e){const n=NA(e/DA);t.moveTo(n,0),t.arc(0,0,n,0,LA)}},zA={draw(t,e){const n=NA(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},FA=NA(1/3),BA=2*FA,UA={draw(t,e){const n=NA(e/BA),r=n*FA;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},VA={draw(t,e){const n=NA(e),r=-n/2;t.rect(r,r,n,n)}},WA=MA(DA/10)/MA(7*DA/10),HA=MA(LA/10)*WA,$A=-IA(LA/10)*WA,qA={draw(t,e){const n=NA(.8908130915292852*e),r=HA*n,i=$A*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const e=LA*o/5,a=IA(e),s=MA(e);t.lineTo(s*n,-a*n),t.lineTo(a*r-s*i,s*r+a*i)}t.closePath()}},GA=NA(3),KA={draw(t,e){const n=-NA(e/(3*GA));t.moveTo(0,2*n),t.lineTo(-GA*n,-n),t.lineTo(GA*n,-n),t.closePath()}},ZA=-.5,YA=NA(3)/2,XA=1/NA(12),QA=3*(XA/2+1),JA={draw(t,e){const n=NA(e/QA),r=n/2,i=n*XA,o=r,a=n*XA+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(ZA*r-YA*i,YA*r+ZA*i),t.lineTo(ZA*o-YA*a,YA*o+ZA*a),t.lineTo(ZA*s-YA*l,YA*s+ZA*l),t.lineTo(ZA*r+YA*i,ZA*i-YA*r),t.lineTo(ZA*o+YA*a,ZA*a-YA*o),t.lineTo(ZA*s+YA*l,ZA*l-YA*s),t.closePath()}};function tj(t){return function(){return t}}const ej=Math.PI,nj=2*ej,rj=1e-6,ij=nj-rj;function oj(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class aj{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?oj:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return oj;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,o){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-t,l=r-e,c=o-t,u=a-e,h=c*c+u*u;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(h>rj)if(Math.abs(u*s-l*c)>rj&&i){let d=n-o,f=r-a,p=s*s+l*l,m=d*d+f*f,g=Math.sqrt(p),y=Math.sqrt(h),v=i*Math.tan((ej-Math.acos((p+h-m)/(2*g*y)))/2),b=v/y,_=v/g;Math.abs(b-1)>rj&&this._append`L${t+b*c},${e+b*u}`,this._append`A${i},${i},0,0,${+(u*d>c*f)},${this._x1=t+_*s},${this._y1=e+_*l}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,n,r,i,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),l=t+a,c=e+s,u=1^o,h=o?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>rj||Math.abs(this._y1-c)>rj)&&this._append`L${l},${c}`,n&&(h<0&&(h=h%nj+nj),h>ij?this._append`A${n},${n},0,1,${u},${t-a},${e-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:h>rj&&this._append`A${n},${n},0,${+(h>=ej)},${u},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function sj(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new aj(e)}aj.prototype;NA(3),NA(3);function lj(t){return lj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lj(t)}var cj=["type","size","sizeType"];function uj(){return uj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uj.apply(this,arguments)}function hj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function dj(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hj(Object(n),!0).forEach((function(e){fj(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hj(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fj(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=lj(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lj(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pj(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var mj={symbolCircle:RA,symbolCross:zA,symbolDiamond:UA,symbolSquare:VA,symbolStar:qA,symbolTriangle:KA,symbolWye:JA},gj=Math.PI/180,yj=function(t){var e=t.type,n=void 0===e?"circle":e,r=t.size,i=void 0===r?64:r,a=t.sizeType,s=void 0===a?"area":a,l=dj(dj({},pj(t,cj)),{},{type:n,size:i,sizeType:s}),c=l.className,u=l.cx,h=l.cy,d=yC(l,!0);return u===+u&&h===+h&&i===+i?o.createElement("path",uj({},d,{className:wr("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(h,")"),d:function(){var t=function(t){var e="symbol".concat(jA()(t));return mj[e]||RA}(n),e=function(t,e){let n=null,r=sj(i);function i(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return t="function"===typeof t?t:tj(t||RA),e="function"===typeof e?e:tj(void 0===e?64:+e),i.type=function(e){return arguments.length?(t="function"===typeof e?e:tj(e),i):t},i.size=function(t){return arguments.length?(e="function"===typeof t?t:tj(+t),i):e},i.context=function(t){return arguments.length?(n=null==t?null:t,i):n},i}().type(t).size(function(t,e,n){if("area"===e)return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return.5*t*t/Math.sqrt(3);case"square":return t*t;case"star":var r=18*gj;return 1.25*t*t*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}}(i,s,n));return e()}()})):null};function vj(t){return vj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vj(t)}function bj(){return bj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bj.apply(this,arguments)}function _j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function wj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tj(r.key),r)}}function xj(t,e,n){return e=kj(e),function(t,e){if(e&&("object"===vj(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Sj()?Reflect.construct(e,n||[],kj(t).constructor):e.apply(t,n))}function Sj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Sj=function(){return!!t})()}function kj(t){return kj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kj(t)}function Oj(t,e){return Oj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Oj(t,e)}function Ej(t,e,n){return(e=Tj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tj(t){var e=function(t,e){if("object"!=vj(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vj(e)?e:e+""}yj.registerSymbol=function(t,e){mj["symbol".concat(jA()(t))]=e};var Pj=32,Cj=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),xj(this,e,arguments)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oj(t,e)}(e,t),n=e,r=[{key:"renderIcon",value:function(t){var e=this.props.inactiveColor,n=16,r=Pj/6,i=Pj/3,a=t.inactive?e:t.color;if("plainline"===t.type)return o.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:n,x2:Pj,y2:n,className:"recharts-legend-icon"});if("line"===t.type)return o.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(n,"h").concat(i,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*i,",").concat(n,"\n            H").concat(Pj,"M").concat(2*i,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(i,",").concat(n),className:"recharts-legend-icon"});if("rect"===t.type)return o.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(Pj,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(o.isValidElement(t.legendIcon)){var s=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_j(Object(n),!0).forEach((function(e){Ej(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t);return delete s.legendIcon,o.cloneElement(t.legendIcon,s)}return o.createElement(yj,{fill:a,cx:n,cy:n,size:Pj,sizeType:"diameter",type:t.type})}},{key:"renderItems",value:function(){var t=this,e=this.props,n=e.payload,r=e.iconSize,i=e.layout,a=e.formatter,s=e.inactiveColor,l={x:0,y:0,width:Pj,height:Pj},c={display:"horizontal"===i?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(e,n){var i=e.formatter||a,h=wr(Ej(Ej({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",e.inactive));if("none"===e.type)return null;var d=$P()(e.value)?null:e.value;UP(!$P()(e.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=e.inactive?s:e.color;return o.createElement("li",bj({className:h,style:c,key:"legend-item-".concat(n)},nC(t.props,e,n)),o.createElement(RC,{width:r,height:r,viewBox:l,style:u},t.renderIcon(e)),o.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},i?i(d,e,n):d))}))}},{key:"render",value:function(){var t=this.props,e=t.payload,n=t.layout,r=t.align;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return o.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}],r&&wj(n.prototype,r),i&&wj(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(o.PureComponent);function Aj(t){return Aj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aj(t)}Ej(Cj,"displayName","Legend"),Ej(Cj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var jj=["ref"];function Ij(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Mj(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ij(Object(n),!0).forEach((function(e){Fj(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ij(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bj(r.key),r)}}function Dj(t,e,n){return e=Rj(e),function(t,e){if(e&&("object"===Aj(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Lj()?Reflect.construct(e,n||[],Rj(t).constructor):e.apply(t,n))}function Lj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Lj=function(){return!!t})()}function Rj(t){return Rj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rj(t)}function zj(t,e){return zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zj(t,e)}function Fj(t,e,n){return(e=Bj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bj(t){var e=function(t,e){if("object"!=Aj(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Aj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Aj(e)?e:e+""}function Uj(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vj(t){return t.value}var Wj=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Fj(t=Dj(this,e,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zj(t,e)}(e,t),n=e,i=[{key:"getWithHeight",value:function(t,e){var n=Mj(Mj({},this.defaultProps),t.props).layout;return"vertical"===n&&MP(t.props.height)?{height:t.props.height}:"horizontal"===n?{width:t.props.width||e}:null}}],(r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var t=this.wrapperNode.getBoundingClientRect();return t.height=this.wrapperNode.offsetHeight,t.width=this.wrapperNode.offsetWidth,t}return null}},{key:"updateBBox",value:function(){var t=this.props.onBBoxUpdate,e=this.getBBox();e?(Math.abs(e.width-this.lastBoundingBox.width)>1||Math.abs(e.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=e.width,this.lastBoundingBox.height=e.height,t&&t(e)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,t&&t(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Mj({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(t){var e,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return t&&(void 0!==t.left&&null!==t.left||void 0!==t.right&&null!==t.right)||(e="center"===o&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),t&&(void 0!==t.top&&null!==t.top||void 0!==t.bottom&&null!==t.bottom)||(n="middle"===a?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),Mj(Mj({},e),n)}},{key:"render",value:function(){var t=this,e=this.props,n=e.content,r=e.width,i=e.height,a=e.wrapperStyle,s=e.payloadUniqBy,l=e.payload,c=Mj(Mj({position:"absolute",width:r||"auto",height:i||"auto"},this.getDefaultPosition(a)),a);return o.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(e){t.wrapperNode=e}},function(t,e){if(o.isValidElement(t))return o.cloneElement(t,e);if("function"===typeof t)return o.createElement(t,e);e.ref;var n=Uj(e,jj);return o.createElement(Cj,n)}(n,Mj(Mj({},this.props),{},{payload:yA(l,s,Vj)})))}}])&&Nj(n.prototype,r),i&&Nj(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(o.PureComponent);function Hj(){return Hj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hj.apply(this,arguments)}Fj(Wj,"displayName","Legend"),Fj(Wj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var $j=function(t){var e=t.cx,n=t.cy,r=t.r,i=t.className,a=wr("recharts-dot",i);return e===+e&&n===+n&&r===+r?o.createElement("circle",Hj({},yC(t,!1),eC(t),{className:a,cx:e,cy:n,r:r})):null},qj=n(5173),Gj=n.n(qj),Kj=Object.getOwnPropertyNames,Zj=Object.getOwnPropertySymbols,Yj=Object.prototype.hasOwnProperty;function Xj(t,e){return function(n,r,i){return t(n,r,i)&&e(n,r,i)}}function Qj(t){return function(e,n,r){if(!e||!n||"object"!==typeof e||"object"!==typeof n)return t(e,n,r);var i=r.cache,o=i.get(e),a=i.get(n);if(o&&a)return o===n&&a===e;i.set(e,n),i.set(n,e);var s=t(e,n,r);return i.delete(e),i.delete(n),s}}function Jj(t){return Kj(t).concat(Zj(t))}var tI=Object.hasOwn||function(t,e){return Yj.call(t,e)};function eI(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var nI="_owner",rI=Object.getOwnPropertyDescriptor,iI=Object.keys;function oI(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function aI(t,e){return eI(t.getTime(),e.getTime())}function sI(t,e,n){if(t.size!==e.size)return!1;for(var r,i,o={},a=t.entries(),s=0;(r=a.next())&&!r.done;){for(var l=e.entries(),c=!1,u=0;(i=l.next())&&!i.done;){var h=r.value,d=h[0],f=h[1],p=i.value,m=p[0],g=p[1];c||o[u]||!(c=n.equals(d,m,s,u,t,e,n)&&n.equals(f,g,d,m,t,e,n))||(o[u]=!0),u++}if(!c)return!1;s++}return!0}function lI(t,e,n){var r,i=iI(t),o=i.length;if(iI(e).length!==o)return!1;for(;o-- >0;){if((r=i[o])===nI&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof)return!1;if(!tI(e,r)||!n.equals(t[r],e[r],r,r,t,e,n))return!1}return!0}function cI(t,e,n){var r,i,o,a=Jj(t),s=a.length;if(Jj(e).length!==s)return!1;for(;s-- >0;){if((r=a[s])===nI&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof)return!1;if(!tI(e,r))return!1;if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;if(i=rI(t,r),o=rI(e,r),(i||o)&&(!i||!o||i.configurable!==o.configurable||i.enumerable!==o.enumerable||i.writable!==o.writable))return!1}return!0}function uI(t,e){return eI(t.valueOf(),e.valueOf())}function hI(t,e){return t.source===e.source&&t.flags===e.flags}function dI(t,e,n){if(t.size!==e.size)return!1;for(var r,i,o={},a=t.values();(r=a.next())&&!r.done;){for(var s=e.values(),l=!1,c=0;(i=s.next())&&!i.done;)l||o[c]||!(l=n.equals(r.value,i.value,r.value,i.value,t,e,n))||(o[c]=!0),c++;if(!l)return!1}return!0}function fI(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var pI="[object Arguments]",mI="[object Boolean]",gI="[object Date]",yI="[object Map]",vI="[object Number]",bI="[object Object]",_I="[object RegExp]",wI="[object Set]",xI="[object String]",SI=Array.isArray,kI="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,OI=Object.assign,EI=Object.prototype.toString.call.bind(Object.prototype.toString);var TI=PI();PI({strict:!0}),PI({circular:!0}),PI({circular:!0,strict:!0}),PI({createInternalComparator:function(){return eI}}),PI({strict:!0,createInternalComparator:function(){return eI}}),PI({circular:!0,createInternalComparator:function(){return eI}}),PI({circular:!0,createInternalComparator:function(){return eI},strict:!0});function PI(t){void 0===t&&(t={});var e,n=t.circular,r=void 0!==n&&n,i=t.createInternalComparator,o=t.createState,a=t.strict,s=void 0!==a&&a,l=function(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?cI:oI,areDatesEqual:aI,areMapsEqual:r?Xj(sI,cI):sI,areObjectsEqual:r?cI:lI,arePrimitiveWrappersEqual:uI,areRegExpsEqual:hI,areSetsEqual:r?Xj(dI,cI):dI,areTypedArraysEqual:r?cI:fI};if(n&&(i=OI({},i,n(i))),e){var o=Qj(i.areArraysEqual),a=Qj(i.areMapsEqual),s=Qj(i.areObjectsEqual),l=Qj(i.areSetsEqual);i=OI({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}(t),c=function(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,a=t.areRegExpsEqual,s=t.areSetsEqual,l=t.areTypedArraysEqual;return function(t,c,u){if(t===c)return!0;if(null==t||null==c||"object"!==typeof t||"object"!==typeof c)return t!==t&&c!==c;var h=t.constructor;if(h!==c.constructor)return!1;if(h===Object)return i(t,c,u);if(SI(t))return e(t,c,u);if(null!=kI&&kI(t))return l(t,c,u);if(h===Date)return n(t,c,u);if(h===RegExp)return a(t,c,u);if(h===Map)return r(t,c,u);if(h===Set)return s(t,c,u);var d=EI(t);return d===gI?n(t,c,u):d===_I?a(t,c,u):d===yI?r(t,c,u):d===wI?s(t,c,u):d===bI?"function"!==typeof t.then&&"function"!==typeof c.then&&i(t,c,u):d===pI?i(t,c,u):(d===mI||d===vI||d===xI)&&o(t,c,u)}}(l);return function(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(t,a){var s=r(),l=s.cache,c=void 0===l?e?new WeakMap:void 0:l,u=s.meta;return n(t,a,{cache:c,equals:i,meta:u,strict:o})};if(e)return function(t,e){return n(t,e,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(t,e){return n(t,e,a)}}({circular:r,comparator:c,createState:o,equals:i?i(c):(e=c,function(t,n,r,i,o,a,s){return e(t,n,s)}),strict:s})}function CI(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(i){n<0&&(n=i),i-n>e?(t(i),n=-1):function(t){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(t)}(r)}))}function AI(t){return AI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},AI(t)}function jI(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return II(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return II(t,e)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function II(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MI(){var t=function(){return null},e=!1,n=function n(r){if(!e){if(Array.isArray(r)){if(!r.length)return;var i=jI(r),o=i[0],a=i.slice(1);return"number"===typeof o?void CI(n.bind(null,a),o):(n(o),void CI(n.bind(null,a)))}"object"===AI(r)&&t(r),"function"===typeof r&&r()}};return{stop:function(){e=!0},start:function(t){e=!1,n(t)},subscribe:function(e){return t=e,function(){t=function(){return null}}}}}function NI(t){return NI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NI(t)}function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function LI(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?DI(Object(n),!0).forEach((function(e){RI(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function RI(t,e,n){return e=function(t){var e=function(t,e){if("object"!==NI(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==NI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===NI(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zI=function(t){return t},FI=function(t,e){return Object.keys(e).reduce((function(n,r){return LI(LI({},n),{},RI({},r,t(r,e[r])))}),{})},BI=function(t,e,n){return t.map((function(t){return"".concat((r=t,r.replace(/([A-Z])/g,(function(t){return"-".concat(t.toLowerCase())})))," ").concat(e,"ms ").concat(n);var r})).join(",")};function UI(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||WI(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VI(t){return function(t){if(Array.isArray(t))return HI(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||WI(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WI(t,e){if(t){if("string"===typeof t)return HI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?HI(t,e):void 0}}function HI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $I=1e-4,qI=function(t,e){return[0,3*t,3*e-6*t,3*t-3*e+1]},GI=function(t,e){return t.map((function(t,n){return t*Math.pow(e,n)})).reduce((function(t,e){return t+e}))},KI=function(t,e){return function(n){var r=qI(t,e);return GI(r,n)}},ZI=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],o=e[2],a=e[3];if(1===e.length)switch(e[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=e[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=UI(s[1].split(")")[0].split(",").map((function(t){return parseFloat(t)})),4);r=l[0],i=l[1],o=l[2],a=l[3]}}[r,o,i,a].every((function(t){return"number"===typeof t&&t>=0&&t<=1}));var c,u,h=KI(r,o),d=KI(i,a),f=(c=r,u=o,function(t){var e=qI(c,u),n=[].concat(VI(e.map((function(t,e){return t*e})).slice(1)),[0]);return GI(n,t)}),p=function(t){for(var e,n=t>1?1:t,r=n,i=0;i<8;++i){var o=h(r)-n,a=f(r);if(Math.abs(o-n)<$I||a<$I)return d(r);r=(e=r-o/a)>1?1:e<0?0:e}return d(r)};return p.isStepper=!1,p},YI=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ZI(r);case"spring":return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.stiff,n=void 0===e?100:e,r=t.damping,i=void 0===r?8:r,o=t.dt,a=void 0===o?17:o,s=function(t,e,r){var o=r+(-(t-e)*n-r*i)*a/1e3,s=r*a/1e3+t;return Math.abs(s-e)<$I&&Math.abs(o)<$I?[e,0]:[s,o]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return ZI(r)}return"function"===typeof r?r:null};function XI(t){return XI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XI(t)}function QI(t){return function(t){if(Array.isArray(t))return iM(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||rM(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tM(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?JI(Object(n),!0).forEach((function(e){eM(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function eM(t,e,n){return e=function(t){var e=function(t,e){if("object"!==XI(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==XI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===XI(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nM(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||rM(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rM(t,e){if(t){if("string"===typeof t)return iM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iM(t,e):void 0}}function iM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var oM=function(t,e,n){return t+(e-t)*n},aM=function(t){return t.from!==t.to},sM=function t(e,n,r){var i=FI((function(t,n){if(aM(n)){var r=nM(e(n.from,n.to,n.velocity),2),i=r[0],o=r[1];return tM(tM({},n),{},{from:i,velocity:o})}return n}),n);return r<1?FI((function(t,e){return aM(e)?tM(tM({},e),{},{velocity:oM(e.velocity,i[t].velocity,r),from:oM(e.from,i[t].from,r)}):e}),n):t(e,i,r-1)};const lM=function(t,e,n,r,i){var o,a,s,l,c=(o=t,a=e,[Object.keys(o),Object.keys(a)].reduce((function(t,e){return t.filter((function(t){return e.includes(t)}))}))),u=c.reduce((function(n,r){return tM(tM({},n),{},eM({},r,[t[r],e[r]]))}),{}),h=c.reduce((function(n,r){return tM(tM({},n),{},eM({},r,{from:t[r],velocity:0,to:e[r]}))}),{}),d=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;h=sM(n,h,o),i(tM(tM(tM({},t),e),FI((function(t,e){return e.from}),h))),s=r,Object.values(h).filter(aM).length&&(d=requestAnimationFrame(f))}:function(o){l||(l=o);var a=(o-l)/r,s=FI((function(t,e){return oM.apply(void 0,QI(e).concat([n(a)]))}),u);if(i(tM(tM(tM({},t),e),s)),a<1)d=requestAnimationFrame(f);else{var c=FI((function(t,e){return oM.apply(void 0,QI(e).concat([n(1)]))}),u);i(tM(tM(tM({},t),e),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(d)}}};function cM(t){return cM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cM(t)}var uM=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function hM(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dM(t){return function(t){if(Array.isArray(t))return fM(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return fM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fM(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mM(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pM(Object(n),!0).forEach((function(e){gM(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gM(t,e,n){return(e=vM(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vM(r.key),r)}}function vM(t){var e=function(t,e){if("object"!==cM(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==cM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===cM(e)?e:String(e)}function bM(t,e){return bM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bM(t,e)}function _M(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(UK){return!1}}();return function(){var n,r=SM(t);if(e){var i=SM(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wM(this,n)}}function wM(t,e){if(e&&("object"===cM(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return xM(t)}function xM(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SM(t){return SM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},SM(t)}var kM=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bM(t,e)}(a,t);var e,n,r,i=_M(a);function a(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=i.call(this,t,e)).props,o=r.isActive,s=r.attributeName,l=r.from,c=r.to,u=r.steps,h=r.children,d=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(xM(n)),n.changeStyle=n.changeStyle.bind(xM(n)),!o||d<=0)return n.state={style:{}},"function"===typeof h&&(n.state={style:c}),wM(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"===typeof h)return n.state={style:l},wM(n);n.state={style:s?gM({},s,l):l}}else n.state={style:{}};return n}return e=a,(n=[{key:"componentDidMount",value:function(){var t=this.props,e=t.isActive,n=t.canBegin;this.mounted=!0,e&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.isActive,r=e.canBegin,i=e.attributeName,o=e.shouldReAnimate,a=e.to,s=e.from,l=this.state.style;if(r)if(n){if(!(TI(t.to,a)&&t.canBegin&&t.isActive)){var c=!t.canBegin||!t.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||o?s:t.to;if(this.state&&l){var h={style:i?gM({},i,u):u};(i&&l[i]!==u||!i&&l!==u)&&this.setState(h)}this.runAnimation(mM(mM({},this.props),{},{from:u,begin:0}))}}else{var d={style:i?gM({},i,a):a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(d)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var t=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}},{key:"handleStyleChange",value:function(t){this.changeStyle(t)}},{key:"changeStyle",value:function(t){this.mounted&&this.setState({style:t})}},{key:"runJSAnimation",value:function(t){var e=this,n=t.from,r=t.to,i=t.duration,o=t.easing,a=t.begin,s=t.onAnimationEnd,l=t.onAnimationStart,c=lM(n,r,YI(o),i,this.changeStyle);this.manager.start([l,a,function(){e.stopJSAnimation=c()},i,s])}},{key:"runStepAnimation",value:function(t){var e=this,n=t.steps,r=t.begin,i=t.onAnimationStart,o=n[0],a=o.style,s=o.duration,l=void 0===s?0:s;return this.manager.start([i].concat(dM(n.reduce((function(t,r,i){if(0===i)return t;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,l=r.style,c=r.properties,u=r.onAnimationEnd,h=i>0?n[i-1]:r,d=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(dM(t),[e.runJSAnimation.bind(e,{from:h.style,to:l,duration:o,easing:s}),o]);var f=BI(d,o,s),p=mM(mM(mM({},h.style),l),{},{transition:f});return[].concat(dM(t),[p,o,u]).filter(zI)}),[a,Math.max(l,r)])),[t.onAnimationEnd]))}},{key:"runAnimation",value:function(t){this.manager||(this.manager=MI());var e=t.begin,n=t.duration,r=t.attributeName,i=t.to,o=t.easing,a=t.onAnimationStart,s=t.onAnimationEnd,l=t.steps,c=t.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof o&&"function"!==typeof c&&"spring"!==o)if(l.length>1)this.runStepAnimation(t);else{var h=r?gM({},r,i):i,d=BI(Object.keys(h),n,o);u.start([a,e,mM(mM({},h),{},{transition:d}),n,s])}else this.runJSAnimation(t)}},{key:"render",value:function(){var t=this.props,e=t.children,n=(t.begin,t.duration),r=(t.attributeName,t.easing,t.isActive),i=(t.steps,t.from,t.to,t.canBegin,t.onAnimationEnd,t.shouldReAnimate,t.onAnimationReStart,hM(t,uM)),a=o.Children.count(e),s=this.state.style;if("function"===typeof e)return e(s);if(!r||0===a||n<=0)return e;var l=function(t){var e=t.props,n=e.style,r=void 0===n?{}:n,a=e.className;return(0,o.cloneElement)(t,mM(mM({},i),{},{style:mM(mM({},r),s),className:a}))};return 1===a?l(o.Children.only(e)):o.createElement("div",null,o.Children.map(e,(function(t){return l(t)})))}}])&&yM(e.prototype,n),r&&yM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(o.PureComponent);kM.displayName="Animate",kM.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},kM.propTypes={from:Gj().oneOfType([Gj().object,Gj().string]),to:Gj().oneOfType([Gj().object,Gj().string]),attributeName:Gj().string,duration:Gj().number,begin:Gj().number,easing:Gj().oneOfType([Gj().string,Gj().func]),steps:Gj().arrayOf(Gj().shape({duration:Gj().number.isRequired,style:Gj().object.isRequired,easing:Gj().oneOfType([Gj().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Gj().func]),properties:Gj().arrayOf("string"),onAnimationEnd:Gj().func})),children:Gj().oneOfType([Gj().node,Gj().func]),isActive:Gj().bool,canBegin:Gj().bool,onAnimationEnd:Gj().func,shouldReAnimate:Gj().bool,onAnimationStart:Gj().func,onAnimationReStart:Gj().func};const OM=kM;function EM(t){return EM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EM(t)}function TM(){return TM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TM.apply(this,arguments)}function PM(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return CM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CM(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function AM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jM(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?AM(Object(n),!0).forEach((function(e){IM(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function IM(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=EM(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=EM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==EM(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var MM=function(t,e,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],h=0;h<4;h++)u[h]=i[h]>a?a:i[h];o="M".concat(t,",").concat(e+s*u[0]),u[0]>0&&(o+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(t+l*u[0],",").concat(e)),o+="L ".concat(t+n-l*u[1],",").concat(e),u[1]>0&&(o+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(t+n,",").concat(e+s*u[1])),o+="L ".concat(t+n,",").concat(e+r-s*u[2]),u[2]>0&&(o+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(t+n-l*u[2],",").concat(e+r)),o+="L ".concat(t+l*u[3],",").concat(e+r),u[3]>0&&(o+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(t,",").concat(e+r-s*u[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var d=Math.min(a,i);o="M ".concat(t,",").concat(e+s*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(t+l*d,",").concat(e,"\n            L ").concat(t+n-l*d,",").concat(e,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(t+n,",").concat(e+s*d,"\n            L ").concat(t+n,",").concat(e+r-s*d,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(t+n-l*d,",").concat(e+r,"\n            L ").concat(t+l*d,",").concat(e+r,"\n            A ").concat(d,",").concat(d,",0,0,").concat(c,",").concat(t,",").concat(e+r-s*d," Z")}else o="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},NM=function(t,e){if(!t||!e)return!1;var n=t.x,r=t.y,i=e.x,o=e.y,a=e.width,s=e.height;if(Math.abs(a)>0&&Math.abs(s)>0){var l=Math.min(i,i+a),c=Math.max(i,i+a),u=Math.min(o,o+s),h=Math.max(o,o+s);return n>=l&&n<=c&&r>=u&&r<=h}return!1},DM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LM=function(t){var e=jM(jM({},DM),t),n=(0,o.useRef)(),r=PM((0,o.useState)(-1),2),i=r[0],a=r[1];(0,o.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var t=n.current.getTotalLength();t&&a(t)}catch(e){}}),[]);var s=e.x,l=e.y,c=e.width,u=e.height,h=e.radius,d=e.className,f=e.animationEasing,p=e.animationDuration,m=e.animationBegin,g=e.isAnimationActive,y=e.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var v=wr("recharts-rectangle",d);return y?o.createElement(OM,{canBegin:i>0,from:{width:c,height:u,x:s,y:l},to:{width:c,height:u,x:s,y:l},duration:p,animationEasing:f,isActive:y},(function(t){var r=t.width,a=t.height,s=t.x,l=t.y;return o.createElement(OM,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:f},o.createElement("path",TM({},yC(e,!0),{className:v,d:MM(s,l,r,a,h),ref:n})))})):o.createElement("path",TM({},yC(e,!0),{className:v,d:MM(s,l,c,u,h)}))};function RM(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function zM(t,e){switch(arguments.length){case 0:break;case 1:"function"===typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"===typeof e?this.interpolator(e):this.range(e)}return this}class FM extends Map{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WM;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[n,r]of t)this.set(n,r)}get(t){return super.get(BM(this,t))}has(t){return super.has(BM(this,t))}set(t,e){return super.set(UM(this,t),e)}delete(t){return super.delete(VM(this,t))}}Set;function BM(t,e){let{_intern:n,_key:r}=t;const i=r(e);return n.has(i)?n.get(i):e}function UM(t,e){let{_intern:n,_key:r}=t;const i=r(e);return n.has(i)?n.get(i):(n.set(i,e),e)}function VM(t,e){let{_intern:n,_key:r}=t;const i=r(e);return n.has(i)&&(e=n.get(i),n.delete(i)),e}function WM(t){return null!==t&&"object"===typeof t?t.valueOf():t}const HM=Symbol("implicit");function $M(){var t=new FM,e=[],n=[],r=HM;function i(i){let o=t.get(i);if(void 0===o){if(r!==HM)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new FM;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return $M(e,n).unknown(r)},RM.apply(i,arguments),i}function qM(){var t,e,n=$M().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,c=0,u=.5;function h(){var n=r().length,h=a<o,d=h?a:o,f=h?o:a;t=(f-d)/Math.max(1,n-l+2*c),s&&(t=Math.floor(t)),d+=(f-d-t*(n-l))*u,e=t*(1-l),s&&(d=Math.round(d),e=Math.round(e));var p=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}(n).map((function(e){return d+t*e}));return i(h?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),h()):r()},n.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,h()):[o,a]},n.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,s=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,h()):s},n.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),h()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),h()):l},n.paddingOuter=function(t){return arguments.length?(c=+t,h()):c},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),h()):u},n.copy=function(){return qM(r(),[o,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},RM.apply(h(),arguments)}function GM(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return GM(e())},t}function KM(){return GM(qM.apply(null,arguments).paddingInner(1))}function ZM(t){return ZM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZM(t)}function YM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function XM(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?YM(Object(n),!0).forEach((function(e){QM(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function QM(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=ZM(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ZM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ZM(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var JM={widthCache:{},cacheCount:0},tN={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},eN="recharts_measurement_span";var nN=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===t||null===t||pA.isSsr)return{width:0,height:0};var n=function(t){var e=XM({},t);return Object.keys(e).forEach((function(t){e[t]||delete e[t]})),e}(e),r=JSON.stringify({text:t,copyStyle:n});if(JM.widthCache[r])return JM.widthCache[r];try{var i=document.getElementById(eN);i||((i=document.createElement("span")).setAttribute("id",eN),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=XM(XM({},tN),n);Object.assign(i.style,o),i.textContent="".concat(t);var a=i.getBoundingClientRect(),s={width:a.width,height:a.height};return JM.widthCache[r]=s,++JM.cacheCount>2e3&&(JM.cacheCount=0,JM.widthCache={}),s}catch(UK){return{width:0,height:0}}};function rN(t){return rN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rN(t)}function iN(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return oN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oN(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oN(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sN(r.key),r)}}function sN(t){var e=function(t,e){if("object"!=rN(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rN(e)?e:e+""}var lN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uN=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hN=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dN={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},fN=Object.keys(dN),pN="NaN";var mN=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),""===n||uN.test(n)||(this.num=NaN,this.unit=""),fN.includes(n)&&(this.num=function(t,e){return t*dN[e]}(e,n),this.unit="px")}return e=t,r=[{key:"parse",value:function(e){var n,r=iN(null!==(n=hN.exec(e))&&void 0!==n?n:[],3),i=r[1],o=r[2];return new t(parseFloat(i),null!==o&&void 0!==o?o:"")}}],(n=[{key:"add",value:function(e){return this.unit!==e.unit?new t(NaN,""):new t(this.num+e.num,this.unit)}},{key:"subtract",value:function(e){return this.unit!==e.unit?new t(NaN,""):new t(this.num-e.num,this.unit)}},{key:"multiply",value:function(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new t(NaN,""):new t(this.num*e.num,this.unit||e.unit)}},{key:"divide",value:function(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new t(NaN,""):new t(this.num/e.num,this.unit||e.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&aN(e.prototype,n),r&&aN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function gN(t){if(t.includes(pN))return pN;for(var e=t;e.includes("*")||e.includes("/");){var n,r=iN(null!==(n=lN.exec(e))&&void 0!==n?n:[],4),i=r[1],o=r[2],a=r[3],s=mN.parse(null!==i&&void 0!==i?i:""),l=mN.parse(null!==a&&void 0!==a?a:""),c="*"===o?s.multiply(l):s.divide(l);if(c.isNaN())return pN;e=e.replace(lN,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,h=iN(null!==(u=cN.exec(e))&&void 0!==u?u:[],4),d=h[1],f=h[2],p=h[3],m=mN.parse(null!==d&&void 0!==d?d:""),g=mN.parse(null!==p&&void 0!==p?p:""),y="+"===f?m.add(g):m.subtract(g);if(y.isNaN())return pN;e=e.replace(cN,y.toString())}return e}var yN=/\(([^()]*)\)/;function vN(t){var e=t.replace(/\s+/g,"");return e=function(t){for(var e=t;e.includes("(");){var n=iN(yN.exec(e),2)[1];e=e.replace(yN,gN(n))}return e}(e),e=gN(e)}function bN(t){var e=function(t){try{return vN(t)}catch(UK){return pN}}(t.slice(5,-1));return e===pN?"":e}var _N=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],wN=["dx","dy","angle","className","breakAll"];function xN(){return xN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xN.apply(this,arguments)}function SN(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kN(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return ON(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ON(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ON(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var EN=/[ \f\n\r\t\v\u2028\u2029]+/,TN=function(t){var e=t.children,n=t.breakAll,r=t.style;try{var i=[];return WP()(e)||(i=n?e.toString().split(""):e.toString().split(EN)),{wordsWithComputedWidth:i.map((function(t){return{word:t,width:nN(t,r).width}})),spaceWidth:n?0:nN("\xa0",r).width}}catch(UK){return null}},PN=function(t){return[{words:WP()(t)?[]:t.toString().split(EN)}]},CN=function(t){var e=t.width,n=t.scaleToFit,r=t.children,i=t.style,o=t.breakAll,a=t.maxLines;if((e||n)&&!pA.isSsr){var s=TN({breakAll:o,children:r,style:i});return s?function(t,e,n,r,i){var o=t.maxLines,a=t.children,s=t.style,l=t.breakAll,c=MP(o),u=a,h=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(t,e){var o=e.word,a=e.width,s=t[t.length-1];if(s&&(null==r||i||s.width+a+n<Number(r)))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};t.push(l)}return t}),[])},d=h(e);if(!c)return d;for(var f,p=function(t){var e=u.slice(0,t),n=TN({breakAll:l,style:s,children:e+"\u2026"}).wordsWithComputedWidth,i=h(n),a=i.length>o||function(t){return t.reduce((function(t,e){return t.width>e.width?t:e}))}(i).width>Number(r);return[a,i]},m=0,g=u.length-1,y=0;m<=g&&y<=u.length-1;){var v=Math.floor((m+g)/2),b=kN(p(v-1),2),_=b[0],w=b[1],x=kN(p(v),1)[0];if(_||x||(m=v+1),_&&x&&(g=v-1),!_&&x){f=w;break}y++}return f||d}({breakAll:o,children:r,maxLines:a,style:i},s.wordsWithComputedWidth,s.spaceWidth,e,n):PN(r)}return PN(r)},AN="#808080",jN=function(t){var e=t.x,n=void 0===e?0:e,r=t.y,i=void 0===r?0:r,a=t.lineHeight,s=void 0===a?"1em":a,l=t.capHeight,c=void 0===l?"0.71em":l,u=t.scaleToFit,h=void 0!==u&&u,d=t.textAnchor,f=void 0===d?"start":d,p=t.verticalAnchor,m=void 0===p?"end":p,g=t.fill,y=void 0===g?AN:g,v=SN(t,_N),b=(0,o.useMemo)((function(){return CN({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:h,style:v.style,width:v.width})}),[v.breakAll,v.children,v.maxLines,h,v.style,v.width]),_=v.dx,w=v.dy,x=v.angle,S=v.className,k=v.breakAll,O=SN(v,wN);if(!NP(n)||!NP(i))return null;var E,T=n+(MP(_)?_:0),P=i+(MP(w)?w:0);switch(m){case"start":E=bN("calc(".concat(c,")"));break;case"middle":E=bN("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:E=bN("calc(".concat(b.length-1," * -").concat(s,")"))}var C=[];if(h){var A=b[0].width,j=v.width;C.push("scale(".concat((MP(j)?j/A:1)/A,")"))}return x&&C.push("rotate(".concat(x,", ").concat(T,", ").concat(P,")")),C.length&&(O.transform=C.join(" ")),o.createElement("text",xN({},yC(O,!0),{x:T,y:P,className:wr("recharts-text",S),textAnchor:f,fill:y.includes("url")?AN:y}),b.map((function(t,e){var n=t.words.join(k?"":" ");return o.createElement("tspan",{x:T,dy:0===e?E:s,key:"".concat(n,"-").concat(e)},n)})))};const IN=Math.sqrt(50),MN=Math.sqrt(10),NN=Math.sqrt(2);function DN(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=IN?10:o>=MN?5:o>=NN?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/a,s=Math.round(t*c),l=Math.round(e*c),s/c<t&&++s,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,s=Math.round(t/c),l=Math.round(e/c),s*c<t&&++s,l*c>e&&--l),l<s&&.5<=n&&n<2?DN(t,e,2*n):[s,l,c]}function LN(t,e,n){if(!((n=+n)>0))return[];if((t=+t)===(e=+e))return[t];const r=e<t,[i,o,a]=r?DN(e,t,n):DN(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let c=0;c<s;++c)l[c]=(o-c)/-a;else for(let c=0;c<s;++c)l[c]=(o-c)*a;else if(a<0)for(let c=0;c<s;++c)l[c]=(i+c)/-a;else for(let c=0;c<s;++c)l[c]=(i+c)*a;return l}function RN(t,e,n){return DN(t=+t,e=+e,n=+n)[2]}function zN(t,e,n){n=+n;const r=(e=+e)<(t=+t),i=r?RN(e,t,n):RN(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function FN(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function BN(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function UN(t){let e,n,r;function i(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}return 2!==t.length?(e=FN,n=(e,n)=>FN(t(e),n),r=(e,n)=>t(e)-n):(e=t===FN||t===BN?t:VN,n=t,r=t),{left:i,center:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(t,e,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length)-1);return o>n&&r(t[o-1],e)>-r(t[o],e)?o-1:o},right:function(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}}}function VN(){return 0}function WN(t){return null===t?NaN:+t}const HN=UN(FN),$N=HN.right,qN=(HN.left,UN(WN).center,$N);function GN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function KN(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ZN(){}var YN=.7,XN=1/YN,QN="\\s*([+-]?\\d+)\\s*",JN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tD="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eD=/^#([0-9a-f]{3,8})$/,nD=new RegExp(`^rgb\\(${QN},${QN},${QN}\\)$`),rD=new RegExp(`^rgb\\(${tD},${tD},${tD}\\)$`),iD=new RegExp(`^rgba\\(${QN},${QN},${QN},${JN}\\)$`),oD=new RegExp(`^rgba\\(${tD},${tD},${tD},${JN}\\)$`),aD=new RegExp(`^hsl\\(${JN},${tD},${tD}\\)$`),sD=new RegExp(`^hsla\\(${JN},${tD},${tD},${JN}\\)$`),lD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function cD(){return this.rgb().formatHex()}function uD(){return this.rgb().formatRgb()}function hD(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=eD.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?dD(e):3===n?new mD(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?fD(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?fD(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=nD.exec(t))?new mD(e[1],e[2],e[3],1):(e=rD.exec(t))?new mD(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=iD.exec(t))?fD(e[1],e[2],e[3],e[4]):(e=oD.exec(t))?fD(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=aD.exec(t))?wD(e[1],e[2]/100,e[3]/100,1):(e=sD.exec(t))?wD(e[1],e[2]/100,e[3]/100,e[4]):lD.hasOwnProperty(t)?dD(lD[t]):"transparent"===t?new mD(NaN,NaN,NaN,0):null}function dD(t){return new mD(t>>16&255,t>>8&255,255&t,1)}function fD(t,e,n,r){return r<=0&&(t=e=n=NaN),new mD(t,e,n,r)}function pD(t,e,n,r){return 1===arguments.length?((i=t)instanceof ZN||(i=hD(i)),i?new mD((i=i.rgb()).r,i.g,i.b,i.opacity):new mD):new mD(t,e,n,null==r?1:r);var i}function mD(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function gD(){return`#${_D(this.r)}${_D(this.g)}${_D(this.b)}`}function yD(){const t=vD(this.opacity);return`${1===t?"rgb(":"rgba("}${bD(this.r)}, ${bD(this.g)}, ${bD(this.b)}${1===t?")":`, ${t})`}`}function vD(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function bD(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function _D(t){return((t=bD(t))<16?"0":"")+t.toString(16)}function wD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new SD(t,e,n,r)}function xD(t){if(t instanceof SD)return new SD(t.h,t.s,t.l,t.opacity);if(t instanceof ZN||(t=hD(t)),!t)return new SD;if(t instanceof SD)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new SD(a,s,l,t.opacity)}function SD(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function kD(t){return(t=(t||0)%360)<0?t+360:t}function OD(t){return Math.max(0,Math.min(1,t||0))}function ED(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function TD(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}GN(ZN,hD,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:cD,formatHex:cD,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return xD(this).formatHsl()},formatRgb:uD,toString:uD}),GN(mD,pD,KN(ZN,{brighter(t){return t=null==t?XN:Math.pow(XN,t),new mD(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?YN:Math.pow(YN,t),new mD(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new mD(bD(this.r),bD(this.g),bD(this.b),vD(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gD,formatHex:gD,formatHex8:function(){return`#${_D(this.r)}${_D(this.g)}${_D(this.b)}${_D(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:yD,toString:yD})),GN(SD,(function(t,e,n,r){return 1===arguments.length?xD(t):new SD(t,e,n,null==r?1:r)}),KN(ZN,{brighter(t){return t=null==t?XN:Math.pow(XN,t),new SD(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?YN:Math.pow(YN,t),new SD(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new mD(ED(t>=240?t-240:t+120,i,r),ED(t,i,r),ED(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new SD(kD(this.h),OD(this.s),OD(this.l),vD(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=vD(this.opacity);return`${1===t?"hsl(":"hsla("}${kD(this.h)}, ${100*OD(this.s)}%, ${100*OD(this.l)}%${1===t?")":`, ${t})`}`}}));const PD=t=>()=>t;function CD(t,e){return function(n){return t+n*e}}function AD(t){return 1===(t=+t)?jD:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):PD(isNaN(e)?n:e)}}function jD(t,e){var n=e-t;return n?CD(t,n):PD(isNaN(t)?e:t)}const ID=function t(e){var n=AD(e);function r(t,e){var r=n((t=pD(t)).r,(e=pD(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=jD(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function MD(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=pD(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}MD((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return TD((n-r/e)*e,a,i,o,s)}})),MD((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return TD((n-r/e)*e,i,o,a,s)}}));function ND(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=VD(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function DD(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function LD(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function RD(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=VD(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var zD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,FD=new RegExp(zD.source,"g");function BD(t,e){var n,r,i,o=zD.lastIndex=FD.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=zD.exec(t))&&(r=FD.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:LD(n,r)})),o=FD.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function UD(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function VD(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?PD(e):("number"===i?LD:"string"===i?(n=hD(e))?(e=n,ID):BD:e instanceof hD?ID:e instanceof Date?DD:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?ND:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?RD:LD:UD))(t,e)}function WD(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function HD(t){return+t}var $D=[0,1];function qD(t){return t}function GD(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function KD(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=GD(i,r),o=n(a,o)):(r=GD(r,i),o=n(o,a)),function(t){return o(r(t))}}function ZD(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=GD(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=qN(t,e,1,r)-1;return o[n](i[n](e))}}function YD(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function XD(){var t,e,n,r,i,o,a=$D,s=$D,l=VD,c=qD;function u(){var t=Math.min(a.length,s.length);return c!==qD&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),r=t>2?ZD:KD,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,l)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=r(s,a.map(t),LD)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,HD),u()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),l=WD,u()},h.clamp=function(t){return arguments.length?(c=!!t||qD,u()):c!==qD},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function QD(){return XD()(qD,qD)}var JD,tL=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function eL(t){if(!(e=tL.exec(t)))throw new Error("invalid format: "+t);var e;return new nL({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function nL(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function rL(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function iL(t){return(t=rL(Math.abs(t)))?t[1]:NaN}function oL(t,e){var n=rL(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}eL.prototype=nL.prototype,nL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const aL={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>oL(100*t,e),r:oL,s:function(t,e){var n=rL(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(JD=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+rL(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function sL(t){return t}var lL,cL,uL,hL=Array.prototype.map,dL=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function fL(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?sL:(e=hL.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?sL:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(hL.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"\u2212":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=eL(t)).fill,n=t.align,h=t.sign,d=t.symbol,f=t.zero,p=t.width,m=t.comma,g=t.precision,y=t.trim,v=t.type;"n"===v?(m=!0,v="g"):aL[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",_="$"===d?o:/[%p]/.test(v)?l:"",w=aL[v],x=/[defgprs%]/.test(v);function S(t){var i,o,l,d=b,S=_;if("c"===v)S=w(t)+S,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),g),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0===+t&&"+"!==h&&(k=!1),d=(k?"("===h?h:c:"-"===h||"("===h?"":h)+d,S=("s"===v?dL[8+JD/3]:"")+S+(k&&"("===h?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){S=(46===l?a+t.slice(i+1):t.slice(i))+S,t=t.slice(0,i);break}}m&&!f&&(t=r(t,1/0));var O=d.length+t.length+S.length,E=O<p?new Array(p-O+1).join(e):"";switch(m&&f&&(t=r(E+t,E.length?p-S.length:1/0),E=""),n){case"<":t=d+t+S+E;break;case"=":t=d+E+t+S;break;case"^":t=E.slice(0,O=E.length>>1)+d+t+S+E.slice(O);break;default:t=E+d+t+S}return s(t)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return t+""},S}return{format:h,formatPrefix:function(t,e){var n=h(((t=eL(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(iL(e)/3))),i=Math.pow(10,-r),o=dL[8+r/3];return function(t){return n(i*t)+o}}}}function pL(t,e,n,r){var i,o=zN(t,e,n);switch((r=eL(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(iL(e)/3)))-iL(Math.abs(t)))}(o,a))||(r.precision=i),uL(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,iL(e)-iL(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-iL(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return cL(r)}function mL(t){var e=t.domain;return t.ticks=function(t){var n=e();return LN(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return pL(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=RN(l,c,n))===r)return o[a]=l,o[s]=c,e(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function gL(){var t=QD();return t.copy=function(){return YD(t,gL())},RM.apply(t,arguments),mL(t)}function yL(t){var e;function n(t){return null==t||isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,HD),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return yL(t).unknown(e)},t=arguments.length?Array.from(t,HD):[0,1],mL(n)}function vL(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function bL(t){return Math.log(t)}function _L(t){return Math.exp(t)}function wL(t){return-Math.log(-t)}function xL(t){return-Math.exp(-t)}function SL(t){return isFinite(t)?+("1e"+t):t<0?0:t}function kL(t){return(e,n)=>-t(-e,n)}function OL(t){const e=t(bL,_L),n=e.domain;let r,i,o=10;function a(){return r=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}(o),i=function(t){return 10===t?SL:t===Math.E?Math.exp:e=>Math.pow(t,e)}(o),n()[0]<0?(r=kL(r),i=kL(i),t(wL,xL)):t(bL,_L),e}return e.base=function(t){return arguments.length?(o=+t,a()):o},e.domain=function(t){return arguments.length?(n(t),a()):n()},e.ticks=t=>{const e=n();let a=e[0],s=e[e.length-1];const l=s<a;l&&([a,s]=[s,a]);let c,u,h=r(a),d=r(s);const f=null==t?10:+t;let p=[];if(!(o%1)&&d-h<f){if(h=Math.floor(h),d=Math.ceil(d),a>0){for(;h<=d;++h)for(c=1;c<o;++c)if(u=h<0?c/i(-h):c*i(h),!(u<a)){if(u>s)break;p.push(u)}}else for(;h<=d;++h)for(c=o-1;c>=1;--c)if(u=h>0?c/i(-h):c*i(h),!(u<a)){if(u>s)break;p.push(u)}2*p.length<f&&(p=LN(a,s,f))}else p=LN(h,d,Math.min(d-h,f)).map(i);return l?p.reverse():p},e.tickFormat=(t,n)=>{if(null==t&&(t=10),null==n&&(n=10===o?"s":","),"function"!==typeof n&&(o%1||null!=(n=eL(n)).precision||(n.trim=!0),n=cL(n)),t===1/0)return n;const a=Math.max(1,o*t/e.ticks().length);return t=>{let e=t/i(Math.round(r(t)));return e*o<o-.5&&(e*=o),e<=a?n(t):""}},e.nice=()=>n(vL(n(),{floor:t=>i(Math.floor(r(t))),ceil:t=>i(Math.ceil(r(t)))})),e}function EL(){const t=OL(XD()).domain([1,10]);return t.copy=()=>YD(t,EL()).base(t.base()),RM.apply(t,arguments),t}function TL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function PL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function CL(t){var e=1,n=t(TL(e),PL(e));return n.constant=function(n){return arguments.length?t(TL(e=+n),PL(e)):e},mL(n)}function AL(){var t=CL(XD());return t.copy=function(){return YD(t,AL()).constant(t.constant())},RM.apply(t,arguments)}function jL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function IL(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ML(t){return t<0?-t*t:t*t}function NL(t){var e=t(qD,qD),n=1;return e.exponent=function(e){return arguments.length?1===(n=+e)?t(qD,qD):.5===n?t(IL,ML):t(jL(n),jL(1/n)):n},mL(e)}function DL(){var t=NL(XD());return t.copy=function(){return YD(t,DL()).exponent(t.exponent())},RM.apply(t,arguments),t}function LL(){return DL.apply(null,arguments).exponent(.5)}function RL(t){return Math.sign(t)*t*t}function zL(){var t,e=QD(),n=[0,1],r=!1;function i(n){var i=function(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}(e(n));return isNaN(i)?t:r?Math.round(i):i}return i.invert=function(t){return e.invert(RL(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain()},i.range=function(t){return arguments.length?(e.range((n=Array.from(t,HD)).map(RL)),i):n.slice()},i.rangeRound=function(t){return i.range(t).round(!0)},i.round=function(t){return arguments.length?(r=!!t,i):r},i.clamp=function(t){return arguments.length?(e.clamp(t),i):e.clamp()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return zL(e.domain(),n).round(r).clamp(e.clamp()).unknown(t)},RM.apply(i,arguments),mL(i)}function FL(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function BL(t,e){let n;if(void 0===e)for(const r of t)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function UL(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:FN;if(t===FN)return VL;if("function"!==typeof t)throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}function VL(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function WL(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=void 0===i?VL:UL(i);r>n;){if(r-n>600){const o=r-n+1,a=e-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);WL(t,e,Math.max(n,Math.floor(e-a*l/o+c)),Math.min(r,Math.floor(e+(o-a)*l/o+c)),i)}const o=t[e];let a=n,s=r;for(HL(t,n,e),i(t[r],o)>0&&HL(t,n,r);a<s;){for(HL(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}0===i(t[n],o)?HL(t,n,s):(++s,HL(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function HL(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function $L(t,e,n){if(t=Float64Array.from(function*(t,e){if(void 0===e)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n)),(r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return BL(t);if(e>=1)return FL(t);var r,i=(r-1)*e,o=Math.floor(i),a=FL(WL(t,o).subarray(0,o+1));return a+(BL(t.subarray(o+1))-a)*(i-o)}}function qL(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:WN;if((r=t.length)&&!isNaN(e=+e)){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}function GL(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=qL(e,t/i);return o}function o(e){return null==e||isNaN(e=+e)?t:n[qN(r,e)]}return o.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(FN),i()},o.range=function(t){return arguments.length?(n=Array.from(t),i()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return GL().domain(e).range(n).unknown(t)},RM.apply(o,arguments)}function KL(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function a(e){return null!=e&&e<=e?o[qN(i,e,0,r)]:t}function s(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return a}return a.domain=function(t){return arguments.length?([e,n]=t,e=+e,n=+n,s()):[e,n]},a.range=function(t){return arguments.length?(r=(o=Array.from(t)).length-1,s()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return KL().domain([e,n]).range(o).unknown(t)},RM.apply(mL(a),arguments)}function ZL(){var t,e=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[qN(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return ZL().domain(e).range(n).unknown(t)},RM.apply(i,arguments)}lL=fL({thousands:",",grouping:[3],currency:["$",""]}),cL=lL.format,uL=lL.formatPrefix;const YL=1e3,XL=6e4,QL=36e5,JL=864e5,tR=6048e5,eR=2592e6,nR=31536e6,rR=new Date,iR=new Date;function oR(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{const e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return a;let s;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<r);return a},i.filter=n=>oR((e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})),n&&(i.count=(e,r)=>(rR.setTime(+e),iR.setTime(+r),t(rR),t(iR),Math.floor(n(rR,iR))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?e=>r(e)%t===0:e=>i.count(0,e)%t===0):i:null)),i}const aR=oR((()=>{}),((t,e)=>{t.setTime(+t+e)}),((t,e)=>e-t));aR.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?oR((e=>{e.setTime(Math.floor(e/t)*t)}),((e,n)=>{e.setTime(+e+n*t)}),((e,n)=>(n-e)/t)):aR:null);aR.range;const sR=oR((t=>{t.setTime(t-t.getMilliseconds())}),((t,e)=>{t.setTime(+t+e*YL)}),((t,e)=>(e-t)/YL),(t=>t.getUTCSeconds())),lR=(sR.range,oR((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*YL)}),((t,e)=>{t.setTime(+t+e*XL)}),((t,e)=>(e-t)/XL),(t=>t.getMinutes()))),cR=(lR.range,oR((t=>{t.setUTCSeconds(0,0)}),((t,e)=>{t.setTime(+t+e*XL)}),((t,e)=>(e-t)/XL),(t=>t.getUTCMinutes()))),uR=(cR.range,oR((t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*YL-t.getMinutes()*XL)}),((t,e)=>{t.setTime(+t+e*QL)}),((t,e)=>(e-t)/QL),(t=>t.getHours()))),hR=(uR.range,oR((t=>{t.setUTCMinutes(0,0,0)}),((t,e)=>{t.setTime(+t+e*QL)}),((t,e)=>(e-t)/QL),(t=>t.getUTCHours()))),dR=(hR.range,oR((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*XL)/JL),(t=>t.getDate()-1))),fR=(dR.range,oR((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/JL),(t=>t.getUTCDate()-1))),pR=(fR.range,oR((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/JL),(t=>Math.floor(t/JL))));pR.range;function mR(t){return oR((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*XL)/tR))}const gR=mR(0),yR=mR(1),vR=mR(2),bR=mR(3),_R=mR(4),wR=mR(5),xR=mR(6);gR.range,yR.range,vR.range,bR.range,_R.range,wR.range,xR.range;function SR(t){return oR((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/tR))}const kR=SR(0),OR=SR(1),ER=SR(2),TR=SR(3),PR=SR(4),CR=SR(5),AR=SR(6),jR=(kR.range,OR.range,ER.range,TR.range,PR.range,CR.range,AR.range,oR((t=>{t.setDate(1),t.setHours(0,0,0,0)}),((t,e)=>{t.setMonth(t.getMonth()+e)}),((t,e)=>e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())),(t=>t.getMonth()))),IR=(jR.range,oR((t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)}),((t,e)=>e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())),(t=>t.getUTCMonth()))),MR=(IR.range,oR((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear())));MR.every=t=>isFinite(t=Math.floor(t))&&t>0?oR((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null;MR.range;const NR=oR((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));NR.every=t=>isFinite(t=Math.floor(t))&&t>0?oR((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null;NR.range;function DR(t,e,n,r,i,o){const a=[[sR,1,YL],[sR,5,5e3],[sR,15,15e3],[sR,30,3e4],[o,1,XL],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,QL],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,JL],[r,2,1728e5],[n,1,tR],[e,1,eR],[e,3,7776e6],[t,1,nR]];function s(e,n,r){const i=Math.abs(n-e)/r,o=UN((t=>{let[,,e]=t;return e})).right(a,i);if(o===a.length)return t.every(zN(e/nR,n/nR,r));if(0===o)return aR.every(Math.max(zN(e,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"===typeof n.range?n:s(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o},s]}const[LR,RR]=DR(NR,IR,kR,pR,hR,cR),[zR,FR]=DR(MR,jR,gR,dR,uR,lR);function BR(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function UR(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function VR(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var WR,HR,$R,qR={"-":"",_:" ",0:"0"},GR=/^\s*\d+/,KR=/^%/,ZR=/[\\^$*+?|[\]().{}]/g;function YR(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function XR(t){return t.replace(ZR,"\\$&")}function QR(t){return new RegExp("^(?:"+t.map(XR).join("|")+")","i")}function JR(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function tz(t,e,n){var r=GR.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ez(t,e,n){var r=GR.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function nz(t,e,n){var r=GR.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function rz(t,e,n){var r=GR.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function iz(t,e,n){var r=GR.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function oz(t,e,n){var r=GR.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function az(t,e,n){var r=GR.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function sz(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lz(t,e,n){var r=GR.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function cz(t,e,n){var r=GR.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function uz(t,e,n){var r=GR.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function hz(t,e,n){var r=GR.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function dz(t,e,n){var r=GR.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function fz(t,e,n){var r=GR.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function pz(t,e,n){var r=GR.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function mz(t,e,n){var r=GR.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function gz(t,e,n){var r=GR.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yz(t,e,n){var r=KR.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function vz(t,e,n){var r=GR.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function bz(t,e,n){var r=GR.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function _z(t,e){return YR(t.getDate(),e,2)}function wz(t,e){return YR(t.getHours(),e,2)}function xz(t,e){return YR(t.getHours()%12||12,e,2)}function Sz(t,e){return YR(1+dR.count(MR(t),t),e,3)}function kz(t,e){return YR(t.getMilliseconds(),e,3)}function Oz(t,e){return kz(t,e)+"000"}function Ez(t,e){return YR(t.getMonth()+1,e,2)}function Tz(t,e){return YR(t.getMinutes(),e,2)}function Pz(t,e){return YR(t.getSeconds(),e,2)}function Cz(t){var e=t.getDay();return 0===e?7:e}function Az(t,e){return YR(gR.count(MR(t)-1,t),e,2)}function jz(t){var e=t.getDay();return e>=4||0===e?_R(t):_R.ceil(t)}function Iz(t,e){return t=jz(t),YR(_R.count(MR(t),t)+(4===MR(t).getDay()),e,2)}function Mz(t){return t.getDay()}function Nz(t,e){return YR(yR.count(MR(t)-1,t),e,2)}function Dz(t,e){return YR(t.getFullYear()%100,e,2)}function Lz(t,e){return YR((t=jz(t)).getFullYear()%100,e,2)}function Rz(t,e){return YR(t.getFullYear()%1e4,e,4)}function zz(t,e){var n=t.getDay();return YR((t=n>=4||0===n?_R(t):_R.ceil(t)).getFullYear()%1e4,e,4)}function Fz(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+YR(e/60|0,"0",2)+YR(e%60,"0",2)}function Bz(t,e){return YR(t.getUTCDate(),e,2)}function Uz(t,e){return YR(t.getUTCHours(),e,2)}function Vz(t,e){return YR(t.getUTCHours()%12||12,e,2)}function Wz(t,e){return YR(1+fR.count(NR(t),t),e,3)}function Hz(t,e){return YR(t.getUTCMilliseconds(),e,3)}function $z(t,e){return Hz(t,e)+"000"}function qz(t,e){return YR(t.getUTCMonth()+1,e,2)}function Gz(t,e){return YR(t.getUTCMinutes(),e,2)}function Kz(t,e){return YR(t.getUTCSeconds(),e,2)}function Zz(t){var e=t.getUTCDay();return 0===e?7:e}function Yz(t,e){return YR(kR.count(NR(t)-1,t),e,2)}function Xz(t){var e=t.getUTCDay();return e>=4||0===e?PR(t):PR.ceil(t)}function Qz(t,e){return t=Xz(t),YR(PR.count(NR(t),t)+(4===NR(t).getUTCDay()),e,2)}function Jz(t){return t.getUTCDay()}function tF(t,e){return YR(OR.count(NR(t)-1,t),e,2)}function eF(t,e){return YR(t.getUTCFullYear()%100,e,2)}function nF(t,e){return YR((t=Xz(t)).getUTCFullYear()%100,e,2)}function rF(t,e){return YR(t.getUTCFullYear()%1e4,e,4)}function iF(t,e){var n=t.getUTCDay();return YR((t=n>=4||0===n?PR(t):PR.ceil(t)).getUTCFullYear()%1e4,e,4)}function oF(){return"+0000"}function aF(){return"%"}function sF(t){return+t}function lF(t){return Math.floor(+t/1e3)}function cF(t){return new Date(t)}function uF(t){return t instanceof Date?+t:+new Date(+t)}function hF(t,e,n,r,i,o,a,s,l,c){var u=QD(),h=u.invert,d=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),_=c("%Y");function w(t){return(l(t)<t?f:s(t)<t?p:a(t)<t?m:o(t)<t?g:r(t)<t?i(t)<t?y:v:n(t)<t?b:_)(t)}return u.invert=function(t){return new Date(h(t))},u.domain=function(t){return arguments.length?d(Array.from(t,uF)):d().map(cF)},u.ticks=function(e){var n=d();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?w:c(e)},u.nice=function(t){var n=d();return t&&"function"===typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?d(vL(n,t)):u},u.copy=function(){return YD(u,hF(t,e,n,r,i,o,a,s,l,c))},u}function dF(){return RM.apply(hF(zR,FR,MR,jR,gR,dR,uR,lR,sR,HR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fF(){return RM.apply(hF(LR,RR,NR,IR,kR,fR,hR,cR,sR,$R).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pF(){var t,e,n,r,i,o=0,a=1,s=qD,l=!1;function c(e){return null==e||isNaN(e=+e)?i:s(0===n?.5:(e=(r(e)-t)*n,l?Math.max(0,Math.min(1,e)):e))}function u(t){return function(e){var n,r;return arguments.length?([n,r]=e,s=t(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([o,a]=i,t=r(o=+o),e=r(a=+a),n=t===e?0:1/(e-t),c):[o,a]},c.clamp=function(t){return arguments.length?(l=!!t,c):l},c.interpolator=function(t){return arguments.length?(s=t,c):s},c.range=u(VD),c.rangeRound=u(WD),c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),c}}function mF(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function gF(){var t=mL(pF()(qD));return t.copy=function(){return mF(t,gF())},zM.apply(t,arguments)}function yF(){var t=OL(pF()).domain([1,10]);return t.copy=function(){return mF(t,yF()).base(t.base())},zM.apply(t,arguments)}function vF(){var t=CL(pF());return t.copy=function(){return mF(t,vF()).constant(t.constant())},zM.apply(t,arguments)}function bF(){var t=NL(pF());return t.copy=function(){return mF(t,bF()).exponent(t.exponent())},zM.apply(t,arguments)}function _F(){return bF.apply(null,arguments).exponent(.5)}function wF(){var t=[],e=qD;function n(n){if(null!=n&&!isNaN(n=+n))return e((qN(t,n,1)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(FN),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.range=function(){return t.map(((n,r)=>e(r/(t.length-1))))},n.quantiles=function(e){return Array.from({length:e+1},((n,r)=>$L(t,r/e)))},n.copy=function(){return wF(e).domain(t)},zM.apply(n,arguments)}function xF(){var t,e,n,r,i,o,a,s=0,l=.5,c=1,u=1,h=qD,d=!1;function f(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(u*t<u*e?r:i),h(d?Math.max(0,Math.min(1,t)):t))}function p(t){return function(e){var n,r,i;return arguments.length?([n,r,i]=e,h=function(t,e){void 0===e&&(e=t,t=VD);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}(t,[n,r,i]),f):[h(0),h(.5),h(1)]}}return f.domain=function(a){return arguments.length?([s,l,c]=a,t=o(s=+s),e=o(l=+l),n=o(c=+c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),u=e<t?-1:1,f):[s,l,c]},f.clamp=function(t){return arguments.length?(d=!!t,f):d},f.interpolator=function(t){return arguments.length?(h=t,f):h},f.range=p(VD),f.rangeRound=p(WD),f.unknown=function(t){return arguments.length?(a=t,f):a},function(a){return o=a,t=a(s),e=a(l),n=a(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),u=e<t?-1:1,f}}function SF(){var t=mL(xF()(qD));return t.copy=function(){return mF(t,SF())},zM.apply(t,arguments)}function kF(){var t=OL(xF()).domain([.1,1,10]);return t.copy=function(){return mF(t,kF()).base(t.base())},zM.apply(t,arguments)}function OF(){var t=CL(xF());return t.copy=function(){return mF(t,OF()).constant(t.constant())},zM.apply(t,arguments)}function EF(){var t=NL(xF());return t.copy=function(){return mF(t,EF()).exponent(t.exponent())},zM.apply(t,arguments)}function TF(){return EF.apply(null,arguments).exponent(.5)}function PF(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(t){WR=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=QR(i),u=JR(i),h=QR(o),d=JR(o),f=QR(a),p=JR(a),m=QR(s),g=JR(s),y=QR(l),v=JR(l),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:_z,e:_z,f:Oz,g:Lz,G:zz,H:wz,I:xz,j:Sz,L:kz,m:Ez,M:Tz,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:sF,s:lF,S:Pz,u:Cz,U:Az,V:Iz,w:Mz,W:Nz,x:null,X:null,y:Dz,Y:Rz,Z:Fz,"%":aF},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Bz,e:Bz,f:$z,g:nF,G:iF,H:Uz,I:Vz,j:Wz,L:Hz,m:qz,M:Gz,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:sF,s:lF,S:Kz,u:Zz,U:Yz,V:Qz,w:Jz,W:tF,x:null,X:null,y:eF,Y:rF,Z:oF,"%":aF},w={a:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return k(t,e,n,r)},d:uz,e:uz,f:gz,g:az,G:oz,H:dz,I:dz,j:hz,L:mz,m:cz,M:fz,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:lz,Q:vz,s:bz,S:pz,u:ez,U:nz,V:rz,w:tz,W:iz,x:function(t,e,r){return k(t,n,e,r)},X:function(t,e,n){return k(t,r,e,n)},y:az,Y:oz,Z:sz,"%":yz};function x(t,e){return function(n){var r,i,o,a=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=qR[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function S(t,e){return function(n){var r,i,o=VR(1900,void 0,1);if(k(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=UR(VR(o.y,0,1))).getUTCDay(),r=i>4||0===i?OR.ceil(r):OR(r),r=fR.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=BR(VR(o.y,0,1))).getDay(),r=i>4||0===i?yR.ceil(r):yR(r),r=dR.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?UR(VR(o.y,0,1)).getUTCDay():BR(VR(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,UR(o)):BR(o)}}function k(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in qR?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=x(n,b),b.X=x(r,b),b.c=x(e,b),_.x=x(n,_),_.X=x(r,_),_.c=x(e,_),{format:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=S(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=S(t+="",!0);return e.toString=function(){return t},e}}}(t),HR=WR.format,WR.parse,$R=WR.utcFormat,WR.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function CF(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function AF(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function jF(t,e){return t[e]}function IF(t){const e=[];return e.key=t,e}var MF=n(539),NF=n.n(MF),DF=n(6745),LF=n.n(DF),RF=n(3538),zF=n.n(RF),FF=n(9853),BF=n.n(FF),UF=n(8210),VF=n.n(UF);function WF(t){return function(t){if(Array.isArray(t))return HF(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return HF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HF(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HF(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $F=function(t){return t},qF={"@@functional/placeholder":!0},GF=function(t){return t===qF},KF=function(t){return function e(){return 0===arguments.length||1===arguments.length&&GF(arguments.length<=0?void 0:arguments[0])?e:t.apply(void 0,arguments)}},ZF=function t(e,n){return 1===e?n:KF((function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter((function(t){return t!==qF})).length;return a>=e?n.apply(void 0,i):t(e-a,KF((function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var o=i.map((function(t){return GF(t)?e.shift():t}));return n.apply(void 0,WF(o).concat(e))})))}))},YF=function(t){return ZF(t.length,t)},XF=function(t,e){for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},QF=YF((function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map((function(t){return e[t]})).map(t)})),JF=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e.length)return $F;var r=e.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((function(t,e){return e(t)}),i.apply(void 0,arguments))}},tB=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},eB=function(t){var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every((function(t,n){return t===e[n]}))?n:(e=i,n=t.apply(void 0,i))}};const nB={rangeStep:function(t,e,n){for(var r=new(VF())(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},getDigitCount:function(t){return 0===t?1:Math.floor(new(VF())(t).abs().log(10).toNumber())+1},interpolateNumber:YF((function(t,e,n){var r=+t;return r+n*(+e-r)})),uninterpolateNumber:YF((function(t,e,n){var r=e-+t;return(n-t)/(r=r||1/0)})),uninterpolateTruncation:YF((function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))}))};function rB(t){return function(t){if(Array.isArray(t))return aB(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||oB(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iB(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||oB(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oB(t,e){if(t){if("string"===typeof t)return aB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aB(t,e):void 0}}function aB(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sB(t){var e=iB(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function lB(t,e,n){if(t.lte(0))return new(VF())(0);var r=nB.getDigitCount(t.toNumber()),i=new(VF())(10).pow(r),o=t.div(i),a=1!==r?.05:.1,s=new(VF())(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return e?s:new(VF())(Math.ceil(s))}function cB(t,e,n){var r=1,i=new(VF())(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new(VF())(10).pow(nB.getDigitCount(t)-1),i=new(VF())(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new(VF())(Math.floor(t)))}else 0===t?i=new(VF())(Math.floor((e-1)/2)):n||(i=new(VF())(Math.floor(t)));var a=Math.floor((e-1)/2);return JF(QF((function(t){return i.add(new(VF())(t-a).mul(r)).toNumber()})),XF)(0,e)}function uB(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new(VF())(0),tickMin:new(VF())(0),tickMax:new(VF())(0)};var o,a=lB(new(VF())(e).sub(t).div(n-1),r,i);o=t<=0&&e>=0?new(VF())(0):(o=new(VF())(t).add(e).div(2)).sub(new(VF())(o).mod(a));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new(VF())(e).sub(o).div(a).toNumber()),c=s+l+1;return c>n?uB(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,s=e>0?s:s+(n-c)),{step:a,tickMin:o.sub(new(VF())(s).mul(a)),tickMax:o.add(new(VF())(l).mul(a))})}var hB=eB((function(t){var e=iB(t,2),n=e[0],r=e[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=iB(sB([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(rB(XF(0,i-1).map((function(){return 1/0})))):[].concat(rB(XF(0,i-1).map((function(){return-1/0}))),[c]);return n>r?tB(u):u}if(l===c)return cB(l,i,o);var h=uB(l,c,a,o),d=h.step,f=h.tickMin,p=h.tickMax,m=nB.rangeStep(f,p.add(new(VF())(.1).mul(d)),d);return n>r?tB(m):m})),dB=(eB((function(t){var e=iB(t,2),n=e[0],r=e[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=iB(sB([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return cB(l,i,o);var u=lB(new(VF())(c).sub(l).div(a-1),o,0),h=JF(QF((function(t){return new(VF())(l).add(new(VF())(t).mul(u)).toNumber()})),XF)(0,a).filter((function(t){return t>=l&&t<=c}));return n>r?tB(h):h})),eB((function(t,e){var n=iB(t,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=iB(sB([r,i]),2),s=a[0],l=a[1];if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var c=Math.max(e,2),u=lB(new(VF())(l).sub(s).div(c-1),o,0),h=[].concat(rB(nB.rangeStep(new(VF())(s),new(VF())(l).sub(new(VF())(.99).mul(u)),u)),[l]);return r>i?tB(h):h}))),fB=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function pB(t){return pB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pB(t)}function mB(){return mB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mB.apply(this,arguments)}function gB(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return yB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yB(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yB(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vB(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OB(r.key),r)}}function _B(t,e,n){return e=xB(e),function(t,e){if(e&&("object"===pB(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,wB()?Reflect.construct(e,n||[],xB(t).constructor):e.apply(t,n))}function wB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(wB=function(){return!!t})()}function xB(t){return xB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xB(t)}function SB(t,e){return SB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},SB(t,e)}function kB(t,e,n){return(e=OB(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OB(t){var e=function(t,e){if("object"!=pB(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pB(e)?e:e+""}var EB=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_B(this,e,arguments)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SB(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props,e=t.offset,n=t.layout,r=t.width,i=t.dataKey,a=t.data,s=t.dataPointFormatter,l=t.xAxis,c=t.yAxis,u=vB(t,fB),h=yC(u,!1);"x"===this.props.direction&&"number"!==l.type&&MC(!1);var d=a.map((function(t){var a=s(t,i),u=a.x,d=a.y,f=a.value,p=a.errorVal;if(!p)return null;var m,g,y=[];if(Array.isArray(p)){var v=gB(p,2);m=v[0],g=v[1]}else m=g=p;if("vertical"===n){var b=l.scale,_=d+e,w=_+r,x=_-r,S=b(f-m),k=b(f+g);y.push({x1:k,y1:w,x2:k,y2:x}),y.push({x1:S,y1:_,x2:k,y2:_}),y.push({x1:S,y1:w,x2:S,y2:x})}else if("horizontal"===n){var O=c.scale,E=u+e,T=E-r,P=E+r,C=O(f-m),A=O(f+g);y.push({x1:T,y1:A,x2:P,y2:A}),y.push({x1:E,y1:C,x2:E,y2:A}),y.push({x1:T,y1:C,x2:P,y2:C})}return o.createElement(UC,mB({className:"recharts-errorBar",key:"bar-".concat(y.map((function(t){return"".concat(t.x1,"-").concat(t.x2,"-").concat(t.y1,"-").concat(t.y2)})))},h),y.map((function(t){return o.createElement("line",mB({},t,{key:"line-".concat(t.x1,"-").concat(t.x2,"-").concat(t.y1,"-").concat(t.y2)}))})))}));return o.createElement(UC,{className:"recharts-errorBars"},d)}}])&&bB(n.prototype,r),i&&bB(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(o.Component);function TB(t){return TB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},TB(t)}function PB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function CB(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?PB(Object(n),!0).forEach((function(e){AB(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PB(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function AB(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=TB(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=TB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==TB(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}kB(EB,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),kB(EB,"displayName","ErrorBar");var jB=function(t){var e=t.children,n=t.formattedGraphicalItems,r=t.legendWidth,i=t.legendContent,o=fC(e,Wj);if(!o)return null;var a,s=Wj.defaultProps,l=void 0!==s?CB(CB({},s),o.props):{};return a=o.props&&o.props.payload?o.props&&o.props.payload:"children"===i?(n||[]).reduce((function(t,e){var n=e.item,r=e.props,i=r.sectors||r.data||[];return t.concat(i.map((function(t){return{type:o.props.iconType||n.props.legendType,value:t.name,color:t.fill,payload:t}})))}),[]):(n||[]).map((function(t){var e=t.item,n=e.type.defaultProps,r=void 0!==n?CB(CB({},n),e.props):{},i=r.dataKey,o=r.name,a=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||a||"square",color:BB(e),value:o||i,payload:r}})),CB(CB(CB({},l),Wj.getWithHeight(o,r)),{},{payload:a,item:o})};function IB(t){return IB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IB(t)}function MB(t){return function(t){if(Array.isArray(t))return NB(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return NB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NB(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NB(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function LB(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?DB(Object(n),!0).forEach((function(e){RB(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DB(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function RB(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=IB(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=IB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==IB(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zB(t,e,n){return WP()(t)||WP()(e)?n:NP(e)?PP()(t,e,n):$P()(e)?e(t):n}function FB(t,e,n,r){var i=zF()(t,(function(t){return zB(t,e)}));if("number"===n){var o=i.filter((function(t){return MP(t)||parseFloat(t)}));return o.length?[LF()(o),NF()(o)]:[1/0,-1/0]}return(r?i.filter((function(t){return!WP()(t)})):i).map((function(t){return NP(t)||t instanceof Date?t:""}))}var BB=function(t){var e,n,r=t.type.displayName,i=null!==(e=t.type)&&void 0!==e&&e.defaultProps?LB(LB({},t.type.defaultProps),t.props):t.props,o=i.stroke,a=i.fill;switch(r){case"Line":n=o;break;case"Area":case"Radar":n=o&&"none"!==o?o:a;break;default:n=a}return n},UB=function(t,e,n,r,i){var o=dC(e.props.children,EB).filter((function(t){return function(t,e,n){return!!WP()(e)||("horizontal"===t?"yAxis"===e:"vertical"===t||"x"===n?"xAxis"===e:"y"!==n||"yAxis"===e)}(r,i,t.props.direction)}));if(o&&o.length){var a=o.map((function(t){return t.props.dataKey}));return t.reduce((function(t,e){var r=zB(e,n);if(WP()(r))return t;var i=Array.isArray(r)?[LF()(r),NF()(r)]:[r,r],o=a.reduce((function(t,n){var r=zB(e,n,0),o=i[0]-Math.abs(Array.isArray(r)?r[0]:r),a=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(o,t[0]),Math.max(a,t[1])]}),[1/0,-1/0]);return[Math.min(o[0],t[0]),Math.max(o[1],t[1])]}),[1/0,-1/0])}return null},VB=function(t,e,n,r,i){var o=e.map((function(e){var o=e.props.dataKey;return"number"===n&&o&&UB(t,e,o,r)||FB(t,o,n,i)}));if("number"===n)return o.reduce((function(t,e){return[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}),[1/0,-1/0]);var a={};return o.reduce((function(t,e){for(var n=0,r=e.length;n<r;n++)a[e[n]]||(a[e[n]]=!0,t.push(e[n]));return t}),[])},WB=function(t,e){return"horizontal"===t&&"xAxis"===e||"vertical"===t&&"yAxis"===e||"centric"===t&&"angleAxis"===e||"radial"===t&&"radiusAxis"===e},HB=function(t,e,n,r){if(r)return t.map((function(t){return t.coordinate}));var i,o,a=t.map((function(t){return t.coordinate===e&&(i=!0),t.coordinate===n&&(o=!0),t.coordinate}));return i||a.push(e),o||a.push(n),a},$B=function(t,e,n){if(!t)return null;var r=t.scale,i=t.duplicateDomain,o=t.type,a=t.range,s="scaleBand"===t.realScaleType?r.bandwidth()/2:2,l=(e||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===t.axisType&&(null===a||void 0===a?void 0:a.length)>=2?2*jP(a[0]-a[1])*l:l,e&&(t.ticks||t.niceTicks)?(t.ticks||t.niceTicks).map((function(t){var e=i?i.indexOf(t):t;return{coordinate:r(e)+l,value:t,offset:l}})).filter((function(t){return!EP()(t.coordinate)})):t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map((function(t,e){return{coordinate:r(t)+l,value:t,index:e,offset:l}})):r.ticks&&!n?r.ticks(t.tickCount).map((function(t){return{coordinate:r(t)+l,value:t,offset:l}})):r.domain().map((function(t,e){return{coordinate:r(t)+l,value:i?i[t]:t,index:e,offset:l}}))},qB=new WeakMap,GB=function(t,e){if("function"!==typeof e)return t;qB.has(t)||qB.set(t,new WeakMap);var n=qB.get(t);if(n.has(e))return n.get(e);var r=function(){t.apply(void 0,arguments),e.apply(void 0,arguments)};return n.set(e,r),r},KB=1e-4,ZB={sign:function(t){var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,a=0;a<e;++a){var s=EP()(t[a][n][1])?t[a][n][0]:t[a][n][1];s>=0?(t[a][n][0]=i,t[a][n][1]=i+s,i=t[a][n][1]):(t[a][n][0]=o,t[a][n][1]=o+s,o=t[a][n][1])}},expand:function(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}PF(t,e)}},none:PF,silhouette:function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}PF(t,e)}},wiggle:function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<i;++s){for(var u=t[e[s]],h=u[a][1]||0,d=(h-(u[a-1][1]||0))/2,f=0;f<s;++f){var p=t[e[f]];d+=(p[a][1]||0)-(p[a-1][1]||0)}l+=h,c+=d*h}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,PF(t,e)}},positive:function(t){var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var a=EP()(t[o][n][1])?t[o][n][0]:t[o][n][1];a>=0?(t[o][n][0]=i,t[o][n][1]=i+a,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}}},YB=function(t,e,n){var r=e.map((function(t){return t.props.dataKey})),i=ZB[n],o=function(){var t=tj([]),e=AF,n=PF,r=jF;function i(i){var o,a,s=Array.from(t.apply(this,arguments),IF),l=s.length,c=-1;for(const t of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+r(t,s[o].key,c,i)]).data=t;for(o=0,a=CF(e(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(e){return arguments.length?(t="function"===typeof e?e:tj(Array.from(e)),i):t},i.value=function(t){return arguments.length?(r="function"===typeof t?t:tj(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?AF:"function"===typeof t?t:tj(Array.from(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?PF:t,i):n},i}().keys(r).value((function(t,e){return+zB(t,e,0)})).order(AF).offset(i);return o(t)};function XB(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if("category"===e.type){if(!e.allowDuplicatedCategory&&e.dataKey&&!WP()(i[e.dataKey])){var s=BP(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=zB(i,WP()(a)?e.dataKey:a);return WP()(l)?null:e.scale(l)}var QB=function(t){var e=t.axis,n=t.ticks,r=t.offset,i=t.bandSize,o=t.entry,a=t.index;if("category"===e.type)return n[a]?n[a].coordinate+r:null;var s=zB(o,e.dataKey,e.domain[a]);return WP()(s)?null:e.scale(s)-i/2+r},JB=function(t,e,n){return Object.keys(t).reduce((function(r,i){var o=t[i].stackedData.reduce((function(t,r){var i=r.slice(e,n+1).reduce((function(t,e){return[LF()(e.concat([t[0]]).filter(MP)),NF()(e.concat([t[1]]).filter(MP))]}),[1/0,-1/0]);return[Math.min(t[0],i[0]),Math.max(t[1],i[1])]}),[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]}),[1/0,-1/0]).map((function(t){return t===1/0||t===-1/0?0:t}))},tU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nU=function(t,e,n){if($P()(t))return t(e,n);if(!Array.isArray(t))return e;var r=[];if(MP(t[0]))r[0]=n?t[0]:Math.min(t[0],e[0]);else if(tU.test(t[0])){var i=+tU.exec(t[0])[1];r[0]=e[0]-i}else $P()(t[0])?r[0]=t[0](e[0]):r[0]=e[0];if(MP(t[1]))r[1]=n?t[1]:Math.max(t[1],e[1]);else if(eU.test(t[1])){var o=+eU.exec(t[1])[1];r[1]=e[1]+o}else $P()(t[1])?r[1]=t[1](e[1]):r[1]=e[1];return r},rU=function(t,e,n){if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=jC()(e,(function(t){return t.coordinate})),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],c=i[a-1];o=Math.min((l.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},iU=function(t,e,n){return t&&t.length?BF()(t,PP()(n,"type.defaultProps.domain"))?e:t:e},oU=function(t,e){var n=t.type.defaultProps?LB(LB({},t.type.defaultProps),t.props):t.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return LB(LB({},yC(t,!1)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:BB(t),value:zB(e,r),type:s,payload:e,chartType:l,hide:c})};function aU(t){return aU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aU(t)}function sU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lU(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sU(Object(n),!0).forEach((function(e){cU(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sU(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function cU(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=aU(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=aU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==aU(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var uU=["Webkit","Moz","O","ms"];function hU(t){return hU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hU(t)}function dU(){return dU=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dU.apply(this,arguments)}function fU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pU(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fU(Object(n),!0).forEach((function(e){_U(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fU(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wU(r.key),r)}}function gU(t,e,n){return e=vU(e),function(t,e){if(e&&("object"===hU(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,yU()?Reflect.construct(e,n||[],vU(t).constructor):e.apply(t,n))}function yU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(yU=function(){return!!t})()}function vU(t){return vU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vU(t)}function bU(t,e){return bU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},bU(t,e)}function _U(t,e,n){return(e=wU(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wU(t){var e=function(t,e){if("object"!=hU(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=hU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hU(e)?e:e+""}var xU=function(t){return t.changedTouches&&!!t.changedTouches.length},SU=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),_U(n=gU(this,e,[t]),"handleDrag",(function(t){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(t):n.state.isSlideMoving&&n.handleSlideDrag(t)})),_U(n,"handleTouchMove",(function(t){null!=t.changedTouches&&t.changedTouches.length>0&&n.handleDrag(t.changedTouches[0])})),_U(n,"handleDragEnd",(function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var t=n.props,e=t.endIndex,r=t.onDragEnd,i=t.startIndex;null===r||void 0===r||r({endIndex:e,startIndex:i})})),n.detachDragEndListener()})),_U(n,"handleLeaveWrapper",(function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))})),_U(n,"handleEnterSlideOrTraveller",(function(){n.setState({isTextActive:!0})})),_U(n,"handleLeaveSlideOrTraveller",(function(){n.setState({isTextActive:!1})})),_U(n,"handleSlideDragStart",(function(t){var e=xU(t)?t.changedTouches[0]:t;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:e.pageX}),n.attachDragEndListener()})),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bU(t,e)}(e,t),n=e,r=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var n=t.startX,r=t.endX,i=this.state.scaleValues,o=this.props,a=o.gap,s=o.data.length-1,l=Math.min(n,r),c=Math.max(n,r),u=e.getIndexInRange(i,l),h=e.getIndexInRange(i,c);return{startIndex:u-u%a,endIndex:h===s?s:h-h%a}}},{key:"getTextOfTick",value:function(t){var e=this.props,n=e.data,r=e.tickFormatter,i=e.dataKey,o=zB(n[t],i,t);return $P()(r)?r(o,t):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(t){var e=this.state,n=e.slideMoveStartX,r=e.startX,i=e.endX,o=this.props,a=o.x,s=o.width,l=o.travellerWidth,c=o.startIndex,u=o.endIndex,h=o.onChange,d=t.pageX-n;d>0?d=Math.min(d,a+s-l-i,a+s-l-r):d<0&&(d=Math.max(d,a-r,a-i));var f=this.getIndex({startX:r+d,endX:i+d});f.startIndex===c&&f.endIndex===u||!h||h(f),this.setState({startX:r+d,endX:i+d,slideMoveStartX:t.pageX})}},{key:"handleTravellerDragStart",value:function(t,e){var n=xU(e)?e.changedTouches[0]:e;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:t,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(t){var e=this.state,n=e.brushMoveStartX,r=e.movingTravellerId,i=e.endX,o=e.startX,a=this.state[r],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,h=s.onChange,d=s.gap,f=s.data,p={startX:this.state.startX,endX:this.state.endX},m=t.pageX-n;m>0?m=Math.min(m,l+c-u-a):m<0&&(m=Math.max(m,l-a)),p[r]=a+m;var g=this.getIndex(p),y=g.startIndex,v=g.endIndex;this.setState(_U(_U({},r,a+m),"brushMoveStartX",t.pageX),(function(){h&&function(){var t=f.length-1;return"startX"===r&&(i>o?y%d===0:v%d===0)||i<o&&v===t||"endX"===r&&(i>o?v%d===0:y%d===0)||i>o&&v===t}()&&h(g)}))}},{key:"handleTravellerMoveKeyboard",value:function(t,e){var n=this,r=this.state,i=r.scaleValues,o=r.startX,a=r.endX,s=this.state[e],l=i.indexOf(s);if(-1!==l){var c=l+t;if(!(-1===c||c>=i.length)){var u=i[c];"startX"===e&&u>=a||"endX"===e&&u<=o||this.setState(_U({},e,u),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var t=this.props,e=t.x,n=t.y,r=t.width,i=t.height,a=t.fill,s=t.stroke;return o.createElement("rect",{stroke:s,fill:a,x:e,y:n,width:r,height:i})}},{key:"renderPanorama",value:function(){var t=this.props,e=t.x,n=t.y,r=t.width,i=t.height,a=t.data,s=t.children,l=t.padding,c=o.Children.only(s);return c?o.cloneElement(c,{x:e,y:n,width:r,height:i,margin:l,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(t,n){var r,i,a=this,s=this.props,l=s.y,c=s.travellerWidth,u=s.height,h=s.traveller,d=s.ariaLabel,f=s.data,p=s.startIndex,m=s.endIndex,g=Math.max(t,this.props.x),y=pU(pU({},yC(this.props,!1)),{},{x:g,y:l,width:c,height:u}),v=d||"Min value: ".concat(null===(r=f[p])||void 0===r?void 0:r.name,", Max value: ").concat(null===(i=f[m])||void 0===i?void 0:i.name);return o.createElement(UC,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(t){["ArrowLeft","ArrowRight"].includes(t.key)&&(t.preventDefault(),t.stopPropagation(),a.handleTravellerMoveKeyboard("ArrowRight"===t.key?1:-1,n))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(t,e){var n=this.props,r=n.y,i=n.height,a=n.stroke,s=n.travellerWidth,l=Math.min(t,e)+s,c=Math.max(Math.abs(e-t)-s,0);return o.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:l,y:r,width:c,height:i})}},{key:"renderText",value:function(){var t=this.props,e=t.startIndex,n=t.endIndex,r=t.y,i=t.height,a=t.travellerWidth,s=t.stroke,l=this.state,c=l.startX,u=l.endX,h={pointerEvents:"none",fill:s};return o.createElement(UC,{className:"recharts-brush-texts"},o.createElement(jN,dU({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:r+i/2},h),this.getTextOfTick(e)),o.createElement(jN,dU({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+a+5,y:r+i/2},h),this.getTextOfTick(n)))}},{key:"render",value:function(){var t=this.props,e=t.data,n=t.className,r=t.children,i=t.x,a=t.y,s=t.width,l=t.height,c=t.alwaysShowText,u=this.state,h=u.startX,d=u.endX,f=u.isTextActive,p=u.isSlideMoving,m=u.isTravellerMoving,g=u.isTravellerFocused;if(!e||!e.length||!MP(i)||!MP(a)||!MP(s)||!MP(l)||s<=0||l<=0)return null;var y=wr("recharts-brush",n),v=1===o.Children.count(r),b=function(t,e){if(!t)return null;var n=t.replace(/(\w)/,(function(t){return t.toUpperCase()})),r=uU.reduce((function(t,r){return lU(lU({},t),{},cU({},r+n,e))}),{});return r[t]=e,r}("userSelect","none");return o.createElement(UC,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(h,d),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(d,"endX"),(f||p||m||g||c)&&this.renderText())}}],i=[{key:"renderDefaultTraveller",value:function(t){var e=t.x,n=t.y,r=t.width,i=t.height,a=t.stroke,s=Math.floor(n+i/2)-1;return o.createElement(o.Fragment,null,o.createElement("rect",{x:e,y:n,width:r,height:i,fill:a,stroke:"none"}),o.createElement("line",{x1:e+1,y1:s,x2:e+r-1,y2:s,fill:"none",stroke:"#fff"}),o.createElement("line",{x1:e+1,y1:s+2,x2:e+r-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,n){return o.isValidElement(t)?o.cloneElement(t,n):$P()(t)?t(n):e.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(t,e){var n=t.data,r=t.width,i=t.x,o=t.travellerWidth,a=t.updateId,s=t.startIndex,l=t.endIndex;if(n!==e.prevData||a!==e.prevUpdateId)return pU({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(t){var e=t.data,n=t.startIndex,r=t.endIndex,i=t.x,o=t.width,a=t.travellerWidth;if(!e||!e.length)return{};var s=e.length,l=KM().domain(CC()(0,s)).range([i,i+o-a]),c=l.domain().map((function(t){return l(t)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(e.scale&&(r!==e.prevWidth||i!==e.prevX||o!==e.prevTravellerWidth)){e.scale.range([i,i+r-o]);var c=e.scale.domain().map((function(t){return e.scale(t)}));return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:e.scale(t.startIndex),endX:e.scale(t.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(t,e){for(var n=0,r=t.length-1;r-n>1;){var i=Math.floor((n+r)/2);t[i]>e?r=i:n=i}return e>=t[r]?r:n}}],r&&mU(n.prototype,r),i&&mU(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(o.PureComponent);function kU(t){return kU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kU(t)}function OU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function EU(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?OU(Object(n),!0).forEach((function(e){TU(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OU(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function TU(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=kU(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=kU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kU(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}_U(SU,"displayName","Brush"),_U(SU,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var PU=Math.PI/180,CU=function(t){return 180*t/Math.PI},AU=function(t,e,n,r){return{x:t+Math.cos(-PU*r)*n,y:e+Math.sin(-PU*r)*n}},jU=function(t,e){var n=t.x,r=t.y,i=e.cx,o=e.cy,a=function(t,e){var n=t.x,r=t.y,i=e.x,o=e.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:CU(l),angleInRadian:l}},IU=function(t,e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return t+360*Math.min(i,o)},MU=function(t,e){var n=t.x,r=t.y,i=jU({x:n,y:r},e),o=i.radius,a=i.angle,s=e.innerRadius,l=e.outerRadius;if(o<s||o>l)return!1;if(0===o)return!0;var c,u=function(t){var e=t.startAngle,n=t.endAngle,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-360*o,endAngle:n-360*o}}(e),h=u.startAngle,d=u.endAngle,f=a;if(h<=d){for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}else{for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}return c?EU(EU({},e),{},{radius:o,angle:IU(f,e)}):null};function NU(t){return NU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NU(t)}var DU=["offset"];function LU(t){return function(t){if(Array.isArray(t))return RU(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return RU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RU(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RU(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zU(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function FU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function BU(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?FU(Object(n),!0).forEach((function(e){UU(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FU(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function UU(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=NU(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=NU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==NU(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VU(){return VU=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VU.apply(this,arguments)}var WU=function(t){var e=t.value,n=t.formatter,r=WP()(t.children)?e:t.children;return $P()(n)?n(r):r},HU=function(t,e,n){var r,i,a=t.position,s=t.viewBox,l=t.offset,c=t.className,u=s,h=u.cx,d=u.cy,f=u.innerRadius,p=u.outerRadius,m=u.startAngle,g=u.endAngle,y=u.clockWise,v=(f+p)/2,b=function(t,e){return jP(e-t)*Math.min(Math.abs(e-t),360)}(m,g),_=b>=0?1:-1;"insideStart"===a?(r=m+_*l,i=y):"insideEnd"===a?(r=g-_*l,i=!y):"end"===a&&(r=g+_*l,i=y),i=b<=0?i:!i;var w=AU(h,d,v,r),x=AU(h,d,v,r+359*(i?1:-1)),S="M".concat(w.x,",").concat(w.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(i?0:1,",\n    ").concat(x.x,",").concat(x.y),k=WP()(t.id)?LP("recharts-radial-line-"):t.id;return o.createElement("text",VU({},n,{dominantBaseline:"central",className:wr("recharts-radial-bar-label",c)}),o.createElement("defs",null,o.createElement("path",{id:k,d:S})),o.createElement("textPath",{xlinkHref:"#".concat(k)},e))},$U=function(t){var e=t.viewBox,n=t.offset,r=t.position,i=e,o=i.cx,a=i.cy,s=i.innerRadius,l=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=AU(o,a,l+n,c),h=u.x;return{x:h,y:u.y,textAnchor:h>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var d=AU(o,a,(s+l)/2,c);return{x:d.x,y:d.y,textAnchor:"middle",verticalAnchor:"middle"}},qU=function(t){var e=t.viewBox,n=t.parentViewBox,r=t.offset,i=t.position,o=e,a=o.x,s=o.y,l=o.width,c=o.height,u=c>=0?1:-1,h=u*r,d=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,m=p*r,g=p>0?"end":"start",y=p>0?"start":"end";if("top"===i)return BU(BU({},{x:a+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===i)return BU(BU({},{x:a+l/2,y:s+c+h,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===i){var v={x:a-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return BU(BU({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===i){var b={x:a+l+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return BU(BU({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var _=n?{width:l,height:c}:{};return"insideLeft"===i?BU({x:a+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},_):"insideRight"===i?BU({x:a+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},_):"insideTop"===i?BU({x:a+l/2,y:s+h,textAnchor:"middle",verticalAnchor:f},_):"insideBottom"===i?BU({x:a+l/2,y:s+c-h,textAnchor:"middle",verticalAnchor:d},_):"insideTopLeft"===i?BU({x:a+m,y:s+h,textAnchor:y,verticalAnchor:f},_):"insideTopRight"===i?BU({x:a+l-m,y:s+h,textAnchor:g,verticalAnchor:f},_):"insideBottomLeft"===i?BU({x:a+m,y:s+c-h,textAnchor:y,verticalAnchor:d},_):"insideBottomRight"===i?BU({x:a+l-m,y:s+c-h,textAnchor:g,verticalAnchor:d},_):GP()(i)&&(MP(i.x)||IP(i.x))&&(MP(i.y)||IP(i.y))?BU({x:a+RP(i.x,l),y:s+RP(i.y,c),textAnchor:"end",verticalAnchor:"end"},_):BU({x:a+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},_)},GU=function(t){return"cx"in t&&MP(t.cx)};function KU(t){var e,n=t.offset,r=BU({offset:void 0===n?5:n},zU(t,DU)),i=r.viewBox,a=r.position,s=r.value,l=r.children,c=r.content,u=r.className,h=void 0===u?"":u,d=r.textBreakAll;if(!i||WP()(s)&&WP()(l)&&!(0,o.isValidElement)(c)&&!$P()(c))return null;if((0,o.isValidElement)(c))return(0,o.cloneElement)(c,r);if($P()(c)){if(e=(0,o.createElement)(c,r),(0,o.isValidElement)(e))return e}else e=WU(r);var f=GU(i),p=yC(r,!0);if(f&&("insideStart"===a||"insideEnd"===a||"end"===a))return HU(r,e,p);var m=f?$U(r):qU(r);return o.createElement(jN,VU({className:wr("recharts-label",h)},p,m,{breakAll:d}),e)}KU.displayName="Label";var ZU=function(t){var e=t.cx,n=t.cy,r=t.angle,i=t.startAngle,o=t.endAngle,a=t.r,s=t.radius,l=t.innerRadius,c=t.outerRadius,u=t.x,h=t.y,d=t.top,f=t.left,p=t.width,m=t.height,g=t.clockWise,y=t.labelViewBox;if(y)return y;if(MP(p)&&MP(m)){if(MP(u)&&MP(h))return{x:u,y:h,width:p,height:m};if(MP(d)&&MP(f))return{x:d,y:f,width:p,height:m}}return MP(u)&&MP(h)?{x:u,y:h,width:0,height:0}:MP(e)&&MP(n)?{cx:e,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:c||s||a||0,clockWise:g}:t.viewBox?t.viewBox:{}};KU.parseViewBox=ZU,KU.renderCallByParent=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ZU(t),a=dC(r,KU).map((function(t,n){return(0,o.cloneElement)(t,{viewBox:e||i,key:"label-".concat(n)})}));if(!n)return a;var s=function(t,e){return t?!0===t?o.createElement(KU,{key:"label-implicit",viewBox:e}):NP(t)?o.createElement(KU,{key:"label-implicit",viewBox:e,value:t}):(0,o.isValidElement)(t)?t.type===KU?(0,o.cloneElement)(t,{key:"label-implicit",viewBox:e}):o.createElement(KU,{key:"label-implicit",content:t,viewBox:e}):$P()(t)?o.createElement(KU,{key:"label-implicit",content:t,viewBox:e}):GP()(t)?o.createElement(KU,VU({viewBox:e},t,{key:"label-implicit"})):null:null}(t.label,e||i);return[s].concat(LU(a))};var YU=function(t,e){var n=t.alwaysShow,r=t.ifOverflow;return n&&(r="extendDomain"),r===e},XU=n(1733),QU=n.n(XU),JU=n(7002),tV=n.n(JU),eV=function(t){return null};eV.displayName="Cell";var nV=n(4065),rV=n.n(nV);function iV(t){return iV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iV(t)}var oV=["valueAccessor"],aV=["data","dataKey","clockWise","id","textBreakAll"];function sV(t){return function(t){if(Array.isArray(t))return lV(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return lV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lV(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lV(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cV(){return cV=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cV.apply(this,arguments)}function uV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hV(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?uV(Object(n),!0).forEach((function(e){dV(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uV(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dV(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=iV(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=iV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==iV(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fV(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var pV=function(t){return Array.isArray(t.value)?rV()(t.value):t.value};function mV(t){var e=t.valueAccessor,n=void 0===e?pV:e,r=fV(t,oV),i=r.data,a=r.dataKey,s=r.clockWise,l=r.id,c=r.textBreakAll,u=fV(r,aV);return i&&i.length?o.createElement(UC,{className:"recharts-label-list"},i.map((function(t,e){var r=WP()(a)?n(t,e):zB(t&&t.payload,a),i=WP()(l)?{}:{id:"".concat(l,"-").concat(e)};return o.createElement(KU,cV({},yC(t,!0),u,i,{parentViewBox:t.parentViewBox,value:r,textBreakAll:c,viewBox:KU.parseViewBox(WP()(s)?t:hV(hV({},t),{},{clockWise:s})),key:"label-".concat(e),index:e}))}))):null}mV.displayName="LabelList",mV.renderCallByParent=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||!t.children&&n&&!t.label)return null;var r=dC(t.children,mV).map((function(t,n){return(0,o.cloneElement)(t,{data:e,key:"labelList-".concat(n)})}));return n?[function(t,e){return t?!0===t?o.createElement(mV,{key:"labelList-implicit",data:e}):o.isValidElement(t)||$P()(t)?o.createElement(mV,{key:"labelList-implicit",data:e,content:t}):GP()(t)?o.createElement(mV,cV({data:e},t,{key:"labelList-implicit"})):null:null}(t.label,e)].concat(sV(r)):r};var gV=n(2322),yV=n.n(gV),vV=n(6361),bV=n.n(vV);function _V(t){return _V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_V(t)}function wV(){return wV=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wV.apply(this,arguments)}function xV(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return SV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SV(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SV(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function OV(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kV(Object(n),!0).forEach((function(e){EV(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kV(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function EV(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=_V(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_V(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var TV=function(t,e,n,r,i){var o,a=n-r;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+n,",").concat(e),o+="L ".concat(t+n-a/2,",").concat(e+i),o+="L ".concat(t+n-a/2-r,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z")},PV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CV=function(t){var e=OV(OV({},PV),t),n=(0,o.useRef)(),r=xV((0,o.useState)(-1),2),i=r[0],a=r[1];(0,o.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var t=n.current.getTotalLength();t&&a(t)}catch(e){}}),[]);var s=e.x,l=e.y,c=e.upperWidth,u=e.lowerWidth,h=e.height,d=e.className,f=e.animationEasing,p=e.animationDuration,m=e.animationBegin,g=e.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||h!==+h||0===c&&0===u||0===h)return null;var y=wr("recharts-trapezoid",d);return g?o.createElement(OM,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:s,y:l},to:{upperWidth:c,lowerWidth:u,height:h,x:s,y:l},duration:p,animationEasing:f,isActive:g},(function(t){var r=t.upperWidth,a=t.lowerWidth,s=t.height,l=t.x,c=t.y;return o.createElement(OM,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:f},o.createElement("path",wV({},yC(e,!0),{className:y,d:TV(l,c,r,a,s),ref:n})))})):o.createElement("g",null,o.createElement("path",wV({},yC(e,!0),{className:y,d:TV(s,l,c,u,h)})))};function AV(t){return AV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},AV(t)}function jV(){return jV=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jV.apply(this,arguments)}function IV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function MV(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?IV(Object(n),!0).forEach((function(e){NV(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IV(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function NV(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=AV(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=AV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==AV(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var DV=function(t){var e=t.cx,n=t.cy,r=t.radius,i=t.angle,o=t.sign,a=t.isExternal,s=t.cornerRadius,l=t.cornerIsExternal,c=s*(a?1:-1)+r,u=Math.asin(s/c)/PU,h=l?i:i+o*u,d=l?i-o*u:i;return{center:AU(e,n,c,h),circleTangency:AU(e,n,r,h),lineTangency:AU(e,n,c*Math.cos(u*PU),d),theta:u}},LV=function(t){var e=t.cx,n=t.cy,r=t.innerRadius,i=t.outerRadius,o=t.startAngle,a=function(t,e){return jP(e-t)*Math.min(Math.abs(e-t),359.999)}(o,t.endAngle),s=o+a,l=AU(e,n,i,o),c=AU(e,n,i,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var h=AU(e,n,r,o),d=AU(e,n,r,s);u+="L ".concat(d.x,",").concat(d.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(h.x,",").concat(h.y," Z")}else u+="L ".concat(e,",").concat(n," Z");return u},RV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zV=function(t){var e=MV(MV({},RV),t),n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,h=e.endAngle,d=e.className;if(a<i||u===h)return null;var f,p=wr("recharts-sector",d),m=a-i,g=RP(s,m,0,!0);return f=g>0&&Math.abs(u-h)<360?function(t){var e=t.cx,n=t.cy,r=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,a=t.forceCornerRadius,s=t.cornerIsExternal,l=t.startAngle,c=t.endAngle,u=jP(c-l),h=DV({cx:e,cy:n,radius:i,angle:l,sign:u,cornerRadius:o,cornerIsExternal:s}),d=h.circleTangency,f=h.lineTangency,p=h.theta,m=DV({cx:e,cy:n,radius:i,angle:c,sign:-u,cornerRadius:o,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,v=m.theta,b=s?Math.abs(l-c):Math.abs(l-c)-p-v;if(b<0)return a?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):LV({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var _="M ".concat(f.x,",").concat(f.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var w=DV({cx:e,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),x=w.circleTangency,S=w.lineTangency,k=w.theta,O=DV({cx:e,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),E=O.circleTangency,T=O.lineTangency,P=O.theta,C=s?Math.abs(l-c):Math.abs(l-c)-k-P;if(C<0&&0===o)return"".concat(_,"L").concat(e,",").concat(n,"Z");_+="L".concat(T.x,",").concat(T.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(E.x,",").concat(E.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(C>180),",").concat(+(u>0),",").concat(x.x,",").concat(x.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else _+="L".concat(e,",").concat(n,"Z");return _}({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:h}):LV({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:h}),o.createElement("path",jV({},yC(e,!0),{className:p,d:f,role:"img"}))},FV=["option","shapeType","propTransformer","activeClassName","isActive"];function BV(t){return BV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BV(t)}function UV(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function VV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function WV(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?VV(Object(n),!0).forEach((function(e){HV(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VV(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function HV(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=BV(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=BV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==BV(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $V(t,e){return WV(WV({},e),t)}function qV(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return o.createElement(LM,n);case"trapezoid":return o.createElement(CV,n);case"sector":return o.createElement(zV,n);case"symbols":if(function(t,e){return"symbols"===t}(e))return o.createElement(yj,n);break;default:return null}}function GV(t){var e,n=t.option,r=t.shapeType,i=t.propTransformer,a=void 0===i?$V:i,s=t.activeClassName,l=void 0===s?"recharts-active-shape":s,c=t.isActive,u=UV(t,FV);if((0,o.isValidElement)(n))e=(0,o.cloneElement)(n,WV(WV({},u),function(t){return(0,o.isValidElement)(t)?t.props:t}(n)));else if($P()(n))e=n(u);else if(yV()(n)&&!bV()(n)){var h=a(n,u);e=o.createElement(qV,{shapeType:r,elementProps:h})}else{var d=u;e=o.createElement(qV,{shapeType:r,elementProps:d})}return c?o.createElement(UC,{className:l},e):e}function KV(t,e){return null!=e&&"trapezoids"in t.props}function ZV(t,e){return null!=e&&"sectors"in t.props}function YV(t,e){return null!=e&&"points"in t.props}function XV(t,e){var n,r,i=t.x===(null===e||void 0===e||null===(n=e.labelViewBox)||void 0===n?void 0:n.x)||t.x===e.x,o=t.y===(null===e||void 0===e||null===(r=e.labelViewBox)||void 0===r?void 0:r.y)||t.y===e.y;return i&&o}function QV(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function JV(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function tW(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=function(t,e){var n;return KV(t,e)?n="trapezoids":ZV(t,e)?n="sectors":YV(t,e)&&(n="points"),n}(n,e),o=function(t,e){var n,r;return KV(t,e)?null===(n=e.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:ZV(t,e)?null===(r=e.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:YV(t,e)?e.payload:{}}(n,e),a=r.filter((function(t,r){var a=BF()(o,t),s=n.props[i].filter((function(t){var r=function(t,e){var n;return KV(t,e)?n=XV:ZV(t,e)?n=QV:YV(t,e)&&(n=JV),n}(n,e);return r(t,e)})),l=n.props[i].indexOf(s[s.length-1]);return a&&r===l}));return r.indexOf(a[a.length-1])}var eW=["x","y"];function nW(t){return nW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nW(t)}function rW(){return rW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rW.apply(this,arguments)}function iW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oW(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?iW(Object(n),!0).forEach((function(e){aW(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iW(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function aW(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=nW(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nW(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sW(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lW(t,e){var n=t.x,r=t.y,i=sW(t,eW),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),c="".concat(e.height||i.height),u=parseInt(c,10),h="".concat(e.width||i.width),d=parseInt(h,10);return oW(oW(oW(oW(oW({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:d,name:e.name,radius:e.radius})}function cW(t){return o.createElement(GV,rW({shapeType:"rectangle",propTransformer:lW,activeClassName:"recharts-active-bar"},t))}var uW,hW=["value","background"];function dW(t){return dW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dW(t)}function fW(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pW(){return pW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pW.apply(this,arguments)}function mW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function gW(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mW(Object(n),!0).forEach((function(e){xW(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mW(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SW(r.key),r)}}function vW(t,e,n){return e=_W(e),function(t,e){if(e&&("object"===dW(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,bW()?Reflect.construct(e,n||[],_W(t).constructor):e.apply(t,n))}function bW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(bW=function(){return!!t})()}function _W(t){return _W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_W(t)}function wW(t,e){return wW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wW(t,e)}function xW(t,e,n){return(e=SW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SW(t){var e=function(t,e){if("object"!=dW(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=dW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==dW(e)?e:e+""}var kW=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return xW(t=vW(this,e,[].concat(r)),"state",{isAnimationFinished:!1}),xW(t,"id",LP("recharts-bar-")),xW(t,"handleAnimationEnd",(function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()})),xW(t,"handleAnimationStart",(function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()})),t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wW(t,e)}(e,t),n=e,i=[{key:"getDerivedStateFromProps",value:function(t,e){return t.animationId!==e.prevAnimationId?{prevAnimationId:t.animationId,curData:t.data,prevData:e.curData}:t.data!==e.curData?{curData:t.data}:null}}],(r=[{key:"renderRectanglesStatically",value:function(t){var e=this,n=this.props,r=n.shape,i=n.dataKey,a=n.activeIndex,s=n.activeBar,l=yC(this.props,!1);return t&&t.map((function(t,n){var c=n===a,u=c?s:r,h=gW(gW(gW({},l),t),{},{isActive:c,option:u,index:n,dataKey:i,onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd});return o.createElement(UC,pW({className:"recharts-bar-rectangle"},nC(e.props,t,n),{key:"rectangle-".concat(null===t||void 0===t?void 0:t.x,"-").concat(null===t||void 0===t?void 0:t.y,"-").concat(null===t||void 0===t?void 0:t.value)}),o.createElement(cW,h))}))}},{key:"renderRectanglesWithAnimation",value:function(){var t=this,e=this.props,n=e.data,r=e.layout,i=e.isAnimationActive,a=e.animationBegin,s=e.animationDuration,l=e.animationEasing,c=e.animationId,u=this.state.prevData;return o.createElement(OM,{begin:a,duration:s,isActive:i,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(e){var i=e.t,a=n.map((function(t,e){var n=u&&u[e];if(n){var o=FP(n.x,t.x),a=FP(n.y,t.y),s=FP(n.width,t.width),l=FP(n.height,t.height);return gW(gW({},t),{},{x:o(i),y:a(i),width:s(i),height:l(i)})}if("horizontal"===r){var c=FP(0,t.height)(i);return gW(gW({},t),{},{y:t.y+t.height-c,height:c})}var h=FP(0,t.width)(i);return gW(gW({},t),{},{width:h})}));return o.createElement(UC,null,t.renderRectanglesStatically(a))}))}},{key:"renderRectangles",value:function(){var t=this.props,e=t.data,n=t.isAnimationActive,r=this.state.prevData;return!(n&&e&&e.length)||r&&BF()(r,e)?this.renderRectanglesStatically(e):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var t=this,e=this.props,n=e.data,r=e.dataKey,i=e.activeIndex,a=yC(this.props.background,!1);return n.map((function(e,n){e.value;var s=e.background,l=fW(e,hW);if(!s)return null;var c=gW(gW(gW(gW(gW({},l),{},{fill:"#eee"},s),a),nC(t.props,e,n)),{},{onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return o.createElement(cW,pW({key:"background-bar-".concat(n),option:t.props.background,isActive:n===i},c))}))}},{key:"renderErrorBar",value:function(t,e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,i=n.xAxis,a=n.yAxis,s=n.layout,l=dC(n.children,EB);if(!l)return null;var c="vertical"===s?r[0].height/2:r[0].width/2,u=function(t,e){var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:zB(t,e)}},h={clipPath:t?"url(#clipPath-".concat(e,")"):null};return o.createElement(UC,h,l.map((function(t){return o.cloneElement(t,{key:"error-bar-".concat(e,"-").concat(t.props.dataKey),data:r,xAxis:i,yAxis:a,layout:s,offset:c,dataPointFormatter:u})})))}},{key:"render",value:function(){var t=this.props,e=t.hide,n=t.data,r=t.className,i=t.xAxis,a=t.yAxis,s=t.left,l=t.top,c=t.width,u=t.height,h=t.isAnimationActive,d=t.background,f=t.id;if(e||!n||!n.length)return null;var p=this.state.isAnimationFinished,m=wr("recharts-bar",r),g=i&&i.allowDataOverflow,y=a&&a.allowDataOverflow,v=g||y,b=WP()(f)?this.id:f;return o.createElement(UC,{className:m},g||y?o.createElement("defs",null,o.createElement("clipPath",{id:"clipPath-".concat(b)},o.createElement("rect",{x:g?s:s-c/2,y:y?l:l-u/2,width:g?c:2*c,height:y?u:2*u}))):null,o.createElement(UC,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(b,")"):null},d?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,b),(!h||p)&&mV.renderCallByParent(this.props,n))}}])&&yW(n.prototype,r),i&&yW(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(o.PureComponent);function OW(t){return OW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OW(t)}function EW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AW(r.key),r)}}function TW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function PW(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?TW(Object(n),!0).forEach((function(e){CW(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TW(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function CW(t,e,n){return(e=AW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AW(t){var e=function(t,e){if("object"!=OW(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=OW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==OW(e)?e:e+""}uW=kW,xW(kW,"displayName","Bar"),xW(kW,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!pA.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),xW(kW,"getComposedData",(function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,h=t.displayedData,d=t.offset,f=function(t,e){if(!t)return null;for(var n=0,r=t.length;n<r;n++)if(t[n].item===e)return t[n].position;return null}(r,n);if(!f)return null;var p=e.layout,m=n.type.defaultProps,g=void 0!==m?gW(gW({},m),n.props):n.props,y=g.dataKey,v=g.children,b=g.minPointSize,_="horizontal"===p?a:o,w=c?_.scale.domain():null,x=function(t){var e=t.numericAxis,n=e.scale.domain();if("number"===e.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:_}),S=dC(v,eV),k=h.map((function(t,e){var r,h,d,m,g,v;c?r=function(t,e){if(!e||2!==e.length||!MP(e[0])||!MP(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!MP(t[0])||t[0]<n)&&(i[0]=n),(!MP(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[u+e],w):(r=zB(t,y),Array.isArray(r)||(r=[x,r]));var _=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof t)return t;var i="number"===typeof n;return i?t(n,r):(i||MC(!1),e)}}(b,uW.defaultProps.minPointSize)(r[1],e);if("horizontal"===p){var k,O=[a.scale(r[0]),a.scale(r[1])],E=O[0],T=O[1];h=QB({axis:o,ticks:s,bandSize:i,offset:f.offset,entry:t,index:e}),d=null!==(k=null!==T&&void 0!==T?T:E)&&void 0!==k?k:void 0,m=f.size;var P=E-T;if(g=Number.isNaN(P)?0:P,v={x:h,y:a.y,width:m,height:a.height},Math.abs(_)>0&&Math.abs(g)<Math.abs(_)){var C=jP(g||_)*(Math.abs(_)-Math.abs(g));d-=C,g+=C}}else{var A=[o.scale(r[0]),o.scale(r[1])],j=A[0],I=A[1];if(h=j,d=QB({axis:a,ticks:l,bandSize:i,offset:f.offset,entry:t,index:e}),m=I-j,g=f.size,v={x:o.x,y:d,width:o.width,height:g},Math.abs(_)>0&&Math.abs(m)<Math.abs(_))m+=jP(m||_)*(Math.abs(_)-Math.abs(m))}return gW(gW(gW({},t),{},{x:h,y:d,width:m,height:g,value:c?r:r[1],payload:t,background:v},S&&S[e]&&S[e].props),{},{tooltipPayload:[oU(n,t)],tooltipPosition:{x:h+m/2,y:d+g/2}})}));return gW({data:k,layout:p},d)}));var jW=function(t,e){var n=t.x,r=t.y,i=e.x,o=e.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},IW=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scale=e}return e=t,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.bandAware,r=e.position;if(void 0!==t){if(r)switch(r){case"start":default:return this.scale(t);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}},{key:"isInRange",value:function(t){var e=this.range(),n=e[0],r=e[e.length-1];return n<=r?t>=n&&t<=r:t>=r&&t<=n}}],r=[{key:"create",value:function(e){return new t(e)}}],n&&EW(e.prototype,n),r&&EW(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();CW(IW,"EPS",1e-4);var MW=function(t){var e=Object.keys(t).reduce((function(e,n){return PW(PW({},e),{},CW({},n,IW.create(t[n])))}),{});return PW(PW({},e),{},{apply:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return QU()(t,(function(t,n){return e[n].apply(t,{bandAware:r,position:i})}))},isInRange:function(t){return tV()(t,(function(t,n){return e[n].isInRange(t)}))}})};var NW=function(t){var e=t.width,n=t.height,r=function(t){return(t%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/e),a=i>o&&i<Math.PI-o?n/Math.sin(i):e/Math.cos(i);return Math.abs(a)};function DW(){return DW=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DW.apply(this,arguments)}function LW(t){return LW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},LW(t)}function RW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function zW(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?RW(Object(n),!0).forEach((function(e){HW(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RW(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function FW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$W(r.key),r)}}function BW(t,e,n){return e=VW(e),function(t,e){if(e&&("object"===LW(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,UW()?Reflect.construct(e,n||[],VW(t).constructor):e.apply(t,n))}function UW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(UW=function(){return!!t})()}function VW(t){return VW=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},VW(t)}function WW(t,e){return WW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},WW(t,e)}function HW(t,e,n){return(e=$W(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $W(t){var e=function(t,e){if("object"!=LW(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=LW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==LW(e)?e:e+""}var qW=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),BW(this,e,arguments)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WW(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props,n=t.x,r=t.y,i=t.r,a=t.alwaysShow,s=t.clipPathId,l=NP(n),c=NP(r);if(UP(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(t){var e=t.x,n=t.y,r=t.xAxis,i=t.yAxis,o=MW({x:r.scale,y:i.scale}),a=o.apply({x:e,y:n},{bandAware:!0});return YU(t,"discard")&&!o.isInRange(a)?null:a}(this.props);if(!u)return null;var h=u.x,d=u.y,f=this.props,p=f.shape,m=f.className,g=zW(zW({clipPath:YU(this.props,"hidden")?"url(#".concat(s,")"):void 0},yC(this.props,!0)),{},{cx:h,cy:d});return o.createElement(UC,{className:wr("recharts-reference-dot",m)},e.renderDot(p,g),KU.renderCallByParent(this.props,{x:h-i,y:d-i,width:2*i,height:2*i}))}}])&&FW(n.prototype,r),i&&FW(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(o.Component);HW(qW,"displayName","ReferenceDot"),HW(qW,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),HW(qW,"renderDot",(function(t,e){return o.isValidElement(t)?o.cloneElement(t,e):$P()(t)?t(e):o.createElement($j,DW({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"}))}));var GW=n(4597),KW=n.n(GW),ZW=n(8990),YW=n.n(ZW),XW=n(5797),QW=n.n(XW)()((function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}}),(function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}));var JW=(0,o.createContext)(void 0),tH=(0,o.createContext)(void 0),eH=(0,o.createContext)(void 0),nH=(0,o.createContext)({}),rH=(0,o.createContext)(void 0),iH=(0,o.createContext)(0),oH=(0,o.createContext)(0),aH=function(t){var e=t.state,n=e.xAxisMap,r=e.yAxisMap,i=e.offset,a=t.clipPathId,s=t.children,l=t.width,c=t.height,u=QW(i);return o.createElement(JW.Provider,{value:n},o.createElement(tH.Provider,{value:r},o.createElement(nH.Provider,{value:i},o.createElement(eH.Provider,{value:u},o.createElement(rH.Provider,{value:a},o.createElement(iH.Provider,{value:c},o.createElement(oH.Provider,{value:l},s)))))))};var sH=function(t){var e=(0,o.useContext)(JW);null==e&&MC(!1);var n=e[t];return null==n&&MC(!1),n},lH=function(t){var e=(0,o.useContext)(tH);null==e&&MC(!1);var n=e[t];return null==n&&MC(!1),n},cH=function(){return(0,o.useContext)(oH)},uH=function(){return(0,o.useContext)(iH)};function hH(t){return hH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hH(t)}function dH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_H(r.key),r)}}function fH(t,e,n){return e=mH(e),function(t,e){if(e&&("object"===hH(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,pH()?Reflect.construct(e,n||[],mH(t).constructor):e.apply(t,n))}function pH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(pH=function(){return!!t})()}function mH(t){return mH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},mH(t)}function gH(t,e){return gH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gH(t,e)}function yH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vH(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yH(Object(n),!0).forEach((function(e){bH(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yH(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bH(t,e,n){return(e=_H(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _H(t){var e=function(t,e){if("object"!=hH(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=hH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hH(e)?e:e+""}function wH(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return xH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xH(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SH(){return SH=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SH.apply(this,arguments)}function kH(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,u=(0,o.useContext)(rH),h=sH(i),d=lH(a),f=(0,o.useContext)(eH);if(!u||!f)return null;UP(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(t,e,n,r,i,o,a,s,l){var c=i.x,u=i.y,h=i.width,d=i.height;if(n){var f=l.y,p=t.y.apply(f,{position:o});if(YU(l,"discard")&&!t.y.isInRange(p))return null;var m=[{x:c+h,y:p},{x:c,y:p}];return"left"===s?m.reverse():m}if(e){var g=l.x,y=t.x.apply(g,{position:o});if(YU(l,"discard")&&!t.x.isInRange(y))return null;var v=[{x:y,y:u+d},{x:y,y:u}];return"top"===a?v.reverse():v}if(r){var b=l.segment.map((function(e){return t.apply(e,{position:o})}));return YU(l,"discard")&&KW()(b,(function(e){return!t.isInRange(e)}))?null:b}return null}(MW({x:h.scale,y:d.scale}),NP(e),NP(n),r&&2===r.length,f,t.position,h.orientation,d.orientation,t);if(!p)return null;var m=wH(p,2),g=m[0],y=g.x,v=g.y,b=m[1],_=b.x,w=b.y,x=vH(vH({clipPath:YU(t,"hidden")?"url(#".concat(u,")"):void 0},yC(t,!0)),{},{x1:y,y1:v,x2:_,y2:w});return o.createElement(UC,{className:wr("recharts-reference-line",l)},function(t,e){return o.isValidElement(t)?o.cloneElement(t,e):$P()(t)?t(e):o.createElement("line",SH({},e,{className:"recharts-reference-line-line"}))}(s,x),KU.renderCallByParent(t,function(t){var e=t.x1,n=t.y1,r=t.x2,i=t.y2;return jW({x:e,y:n},{x:r,y:i})}({x1:y,y1:v,x2:_,y2:w})))}var OH=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),fH(this,e,arguments)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gH(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return o.createElement(kH,this.props)}}])&&dH(n.prototype,r),i&&dH(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(o.Component);function EH(){return EH=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EH.apply(this,arguments)}function TH(t){return TH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},TH(t)}function PH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function CH(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?PH(Object(n),!0).forEach((function(e){DH(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PH(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function AH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LH(r.key),r)}}function jH(t,e,n){return e=MH(e),function(t,e){if(e&&("object"===TH(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,IH()?Reflect.construct(e,n||[],MH(t).constructor):e.apply(t,n))}function IH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(IH=function(){return!!t})()}function MH(t){return MH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},MH(t)}function NH(t,e){return NH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},NH(t,e)}function DH(t,e,n){return(e=LH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LH(t){var e=function(t,e){if("object"!=TH(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=TH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==TH(e)?e:e+""}bH(OH,"displayName","ReferenceLine"),bH(OH,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var RH=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),jH(this,e,arguments)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NH(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){var t=this.props,n=t.x1,r=t.x2,i=t.y1,a=t.y2,s=t.className,l=t.alwaysShow,c=t.clipPathId;UP(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=NP(n),h=NP(r),d=NP(i),f=NP(a),p=this.props.shape;if(!u&&!h&&!d&&!f&&!p)return null;var m=function(t,e,n,r,i){var o=i.x1,a=i.x2,s=i.y1,l=i.y2,c=i.xAxis,u=i.yAxis;if(!c||!u)return null;var h=MW({x:c.scale,y:u.scale}),d={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(s,{position:"start"}):h.y.rangeMin},f={x:e?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:r?h.y.apply(l,{position:"end"}):h.y.rangeMax};return!YU(i,"discard")||h.isInRange(d)&&h.isInRange(f)?jW(d,f):null}(u,h,d,f,this.props);if(!m&&!p)return null;var g=YU(this.props,"hidden")?"url(#".concat(c,")"):void 0;return o.createElement(UC,{className:wr("recharts-reference-area",s)},e.renderRect(p,CH(CH({clipPath:g},yC(this.props,!0)),m)),KU.renderCallByParent(this.props,m))}}])&&AH(n.prototype,r),i&&AH(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(o.Component);function zH(t){return function(t){if(Array.isArray(t))return FH(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return FH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FH(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FH(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}DH(RH,"displayName","ReferenceArea"),DH(RH,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),DH(RH,"renderRect",(function(t,e){return o.isValidElement(t)?o.cloneElement(t,e):$P()(t)?t(e):o.createElement(LM,EH({},e,{className:"recharts-reference-area-rect"}))}));var BH=function(t,e,n,r,i){var o=dC(t,OH),a=dC(t,qW),s=[].concat(zH(o),zH(a)),l=dC(t,RH),c="".concat(r,"Id"),u=r[0],h=e;if(s.length&&(h=s.reduce((function(t,e){if(e.props[c]===n&&YU(e.props,"extendDomain")&&MP(e.props[u])){var r=e.props[u];return[Math.min(t[0],r),Math.max(t[1],r)]}return t}),h)),l.length){var d="".concat(u,"1"),f="".concat(u,"2");h=l.reduce((function(t,e){if(e.props[c]===n&&YU(e.props,"extendDomain")&&MP(e.props[d])&&MP(e.props[f])){var r=e.props[d],i=e.props[f];return[Math.min(t[0],r,i),Math.max(t[1],r,i)]}return t}),h)}return i&&i.length&&(h=i.reduce((function(t,e){return MP(e)?[Math.min(t[0],e),Math.max(t[1],e)]:t}),h)),h},UH=n(7283),VH=new(n.n(UH)()),WH="recharts.syncMouseEvents";function HH(t){return HH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},HH(t)}function $H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GH(r.key),r)}}function qH(t,e,n){return(e=GH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GH(t){var e=function(t,e){if("object"!=HH(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=HH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==HH(e)?e:e+""}var KH=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),qH(this,"activeIndex",0),qH(this,"coordinateList",[]),qH(this,"layout","horizontal")},(e=[{key:"setDetails",value:function(t){var e,n=t.coordinateList,r=void 0===n?null:n,i=t.container,o=void 0===i?null:i,a=t.layout,s=void 0===a?null:a,l=t.offset,c=void 0===l?null:l,u=t.mouseHandlerCallback,h=void 0===u?null:u;this.coordinateList=null!==(e=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==e?e:[],this.container=null!==o&&void 0!==o?o:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==h&&void 0!==h?h:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(t){if(0!==this.coordinateList.length)switch(t.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(t){this.activeIndex=t}},{key:"spoofMouse",value:function(){var t,e;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,o=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(t=window)||void 0===t?void 0:t.scrollX)||0,l=(null===(e=window)||void 0===e?void 0:e.scrollY)||0,c=r+a+s,u=i+this.offset.top+o/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}])&&$H(t.prototype,e),n&&$H(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function ZH(){}function YH(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function XH(t){this._context=t}function QH(t){this._context=t}function JH(t){this._context=t}XH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:YH(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:YH(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},QH.prototype={areaStart:ZH,areaEnd:ZH,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:YH(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},JH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:YH(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};class t${constructor(t,e){this._context=t,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,e,t,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,t,this._y0,t,e)}this._x0=t,this._y0=e}}function e$(t){this._context=t}function n$(t){this._context=t}function r$(t){return new n$(t)}function i$(t){return t<0?-1:1}function o$(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(i$(o)+i$(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function a$(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function s$(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function l$(t){this._context=t}function c$(t){this._context=new u$(t)}function u$(t){this._context=t}function h$(t){this._context=t}function d$(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function f$(t,e){this._context=t,this._t=e}function p$(t){return t[0]}function m$(t){return t[1]}function g$(t,e){var n=tj(!0),r=null,i=r$,o=null,a=sj(s);function s(s){var l,c,u,h=(s=CF(s)).length,d=!1;for(null==r&&(o=i(u=a())),l=0;l<=h;++l)!(l<h&&n(c=s[l],l,s))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(c,l,s),+e(c,l,s));if(u)return o=null,u+""||null}return t="function"===typeof t?t:void 0===t?p$:tj(t),e="function"===typeof e?e:void 0===e?m$:tj(e),s.x=function(e){return arguments.length?(t="function"===typeof e?e:tj(+e),s):t},s.y=function(t){return arguments.length?(e="function"===typeof t?t:tj(+t),s):e},s.defined=function(t){return arguments.length?(n="function"===typeof t?t:tj(!!t),s):n},s.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),s):i},s.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),s):r},s}function y$(t,e,n){var r=null,i=tj(!0),o=null,a=r$,s=null,l=sj(c);function c(c){var u,h,d,f,p,m=(c=CF(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==o&&(s=a(p=l())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===g)if(g=!g)h=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=u-1;d>=h;--d)s.point(y[d],v[d]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+t(f,u,c),v[u]=+e(f,u,c),s.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return g$().defined(i).curve(a).context(o)}return t="function"===typeof t?t:void 0===t?p$:tj(+t),e="function"===typeof e?e:tj(void 0===e?0:+e),n="function"===typeof n?n:void 0===n?m$:tj(+n),c.x=function(e){return arguments.length?(t="function"===typeof e?e:tj(+e),r=null,c):t},c.x0=function(e){return arguments.length?(t="function"===typeof e?e:tj(+e),c):t},c.x1=function(t){return arguments.length?(r=null==t?null:"function"===typeof t?t:tj(+t),c):r},c.y=function(t){return arguments.length?(e="function"===typeof t?t:tj(+t),n=null,c):e},c.y0=function(t){return arguments.length?(e="function"===typeof t?t:tj(+t),c):e},c.y1=function(t){return arguments.length?(n=null==t?null:"function"===typeof t?t:tj(+t),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(t){return arguments.length?(i="function"===typeof t?t:tj(!!t),c):i},c.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),c):a},c.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),c):o},c}function v$(t){return v$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v$(t)}function b$(){return b$=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b$.apply(this,arguments)}function _$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w$(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_$(Object(n),!0).forEach((function(e){x$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function x$(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=v$(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=v$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==v$(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e$.prototype={areaStart:ZH,areaEnd:ZH,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},n$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},l$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:s$(this,this._t0,a$(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,s$(this,a$(this,n=o$(this,t,e)),n);break;default:s$(this,this._t0,n=o$(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(c$.prototype=Object.create(l$.prototype)).point=function(t,e){l$.prototype.point.call(this,e,t)},u$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},h$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=d$(t),i=d$(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},f$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var S$={curveBasisClosed:function(t){return new QH(t)},curveBasisOpen:function(t){return new JH(t)},curveBasis:function(t){return new XH(t)},curveBumpX:function(t){return new t$(t,!0)},curveBumpY:function(t){return new t$(t,!1)},curveLinearClosed:function(t){return new e$(t)},curveLinear:r$,curveMonotoneX:function(t){return new l$(t)},curveMonotoneY:function(t){return new c$(t)},curveNatural:function(t){return new h$(t)},curveStep:function(t){return new f$(t,.5)},curveStepAfter:function(t){return new f$(t,1)},curveStepBefore:function(t){return new f$(t,0)}},k$=function(t){return t.x===+t.x&&t.y===+t.y},O$=function(t){return t.x},E$=function(t){return t.y},T$=function(t){var e,n=t.type,r=void 0===n?"linear":n,i=t.points,o=void 0===i?[]:i,a=t.baseLine,s=t.layout,l=t.connectNulls,c=void 0!==l&&l,u=function(t,e){if($P()(t))return t;var n="curve".concat(jA()(t));return"curveMonotone"!==n&&"curveBump"!==n||!e?S$[n]||r$:S$["".concat(n).concat("vertical"===e?"Y":"X")]}(r,s),h=c?o.filter((function(t){return k$(t)})):o;if(Array.isArray(a)){var d=c?a.filter((function(t){return k$(t)})):a,f=h.map((function(t,e){return w$(w$({},t),{},{base:d[e]})}));return(e="vertical"===s?y$().y(E$).x1(O$).x0((function(t){return t.base.x})):y$().x(O$).y1(E$).y0((function(t){return t.base.y}))).defined(k$).curve(u),e(f)}return(e="vertical"===s&&MP(a)?y$().y(E$).x1(O$).x0(a):MP(a)?y$().x(O$).y1(E$).y0(a):g$().x(O$).y(E$)).defined(k$).curve(u),e(h)},P$=function(t){var e=t.className,n=t.points,r=t.path,i=t.pathRef;if((!n||!n.length)&&!r)return null;var a=n&&n.length?T$(t):r;return o.createElement("path",b$({},yC(t,!1),eC(t),{className:wr("recharts-curve",e),d:a,ref:i}))};function C$(t){return C$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C$(t)}var A$=["x","y","top","left","width","height","className"];function j$(){return j$=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j$.apply(this,arguments)}function I$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function M$(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=C$(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=C$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==C$(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N$(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var D$=function(t,e,n,r,i,o){return"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n)},L$=function(t){var e=t.x,n=void 0===e?0:e,r=t.y,i=void 0===r?0:r,a=t.top,s=void 0===a?0:a,l=t.left,c=void 0===l?0:l,u=t.width,h=void 0===u?0:u,d=t.height,f=void 0===d?0:d,p=t.className,m=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I$(Object(n),!0).forEach((function(e){M$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({x:n,y:i,top:s,left:c,width:h,height:f},N$(t,A$));return MP(n)&&MP(i)&&MP(h)&&MP(f)&&MP(s)&&MP(c)?o.createElement("path",j$({},yC(m,!0),{className:wr("recharts-cross",p),d:D$(n,i,h,f,s,c)})):null};function R$(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle;return{points:[AU(e,n,r,i),AU(e,n,r,o)],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function z$(t,e,n){var r,i,o,a;if("horizontal"===t)o=r=e.x,i=n.top,a=n.top+n.height;else if("vertical"===t)a=i=e.y,r=n.left,o=n.left+n.width;else if(null!=e.cx&&null!=e.cy){if("centric"!==t)return R$(e);var s=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,h=e.angle,d=AU(s,l,c,h),f=AU(s,l,u,h);r=d.x,i=d.y,o=f.x,a=f.y}return[{x:r,y:i},{x:o,y:a}]}function F$(t){return F$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F$(t)}function B$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function U$(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B$(Object(n),!0).forEach((function(e){V$(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function V$(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=F$(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=F$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==F$(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W$(t){var e,n,r,i=t.element,a=t.tooltipEventType,s=t.isActive,l=t.activeCoordinate,c=t.activePayload,u=t.offset,h=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,p=t.chartName,m=null!==(e=i.props.cursor)&&void 0!==e?e:null===(n=i.type.defaultProps)||void 0===n?void 0:n.cursor;if(!i||!m||!s||!l||"ScatterChart"!==p&&"axis"!==a)return null;var g=P$;if("ScatterChart"===p)r=l,g=L$;else if("BarChart"===p)r=function(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===t?e.x-i:n.left+.5,y:"horizontal"===t?n.top+.5:e.y-i,width:"horizontal"===t?r:n.width-1,height:"horizontal"===t?n.height-1:r}}(f,l,u,d),g=LM;else if("radial"===f){var y=R$(l),v=y.cx,b=y.cy,_=y.radius;r={cx:v,cy:b,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:_,outerRadius:_},g=zV}else r={points:z$(f,l,u)},g=P$;var w=U$(U$(U$(U$({stroke:"#ccc",pointerEvents:"none"},u),r),yC(m,!1)),{},{payload:c,payloadIndex:h,className:wr("recharts-tooltip-cursor",m.className)});return(0,o.isValidElement)(m)?(0,o.cloneElement)(m,w):(0,o.createElement)(g,w)}var H$=["item"],$$=["children","className","width","height","style","compact","title","desc"];function q$(t){return q$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q$(t)}function G$(){return G$=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G$.apply(this,arguments)}function K$(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(t){c=!0,i=t}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||nq(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z$(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Y$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sq(r.key),r)}}function X$(t,e,n){return e=J$(e),function(t,e){if(e&&("object"===q$(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Q$()?Reflect.construct(e,n||[],J$(t).constructor):e.apply(t,n))}function Q$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Q$=function(){return!!t})()}function J$(t){return J$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J$(t)}function tq(t,e){return tq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},tq(t,e)}function eq(t){return function(t){if(Array.isArray(t))return rq(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||nq(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nq(t,e){if(t){if("string"===typeof t)return rq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rq(t,e):void 0}}function rq(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function oq(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?iq(Object(n),!0).forEach((function(e){aq(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iq(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function aq(t,e,n){return(e=sq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sq(t){var e=function(t,e){if("object"!=q$(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=q$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==q$(e)?e:e+""}var lq={xAxis:["bottom","top"],yAxis:["left","right"]},cq={width:"100%",height:"100%"},uq={x:0,y:0};function hq(t){return t}var dq=function(t,e){var n=e.graphicalItems,r=e.dataStartIndex,i=e.dataEndIndex,o=(null!==n&&void 0!==n?n:[]).reduce((function(t,e){var n=e.props.data;return n&&n.length?[].concat(eq(t),eq(n)):t}),[]);return o.length>0?o:t&&t.length&&MP(r)&&MP(i)?t.slice(r,i+1):[]};function fq(t){return"number"===t?[0,"auto"]:void 0}var pq=function(t,e,n,r){var i=t.graphicalItems,o=t.tooltipAxis,a=dq(e,t);return n<0||!i||!i.length||n>=a.length?null:i.reduce((function(i,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:e;(u&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(u=u.slice(t.dataStartIndex,t.dataEndIndex+1)),o.dataKey&&!o.allowDuplicatedCategory)?c=BP(void 0===u?a:u,o.dataKey,r):c=u&&u[n]||a[n];return c?[].concat(eq(i),[oU(s,c)]):i}),[])},mq=function(t,e,n,r){var i=r||{x:t.chartX,y:t.chartY},o=function(t,e){return"horizontal"===e?t.x:"vertical"===e?t.y:"centric"===e?t.angle:t.radius}(i,n),a=t.orderedTooltipTicks,s=t.tooltipAxis,l=t.tooltipTicks,c=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(e=null===n||void 0===n?void 0:n.length)&&void 0!==e?e:0;if(a<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,l=0;l<a;l++){var c=l>0?r[l-1].coordinate:r[a-1].coordinate,u=r[l].coordinate,h=l>=a-1?r[0].coordinate:r[l+1].coordinate,d=void 0;if(jP(u-c)!==jP(h-u)){var f=[];if(jP(h-u)===jP(s[1]-s[0])){d=h;var p=u+s[1]-s[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{d=c;var m=h+s[1]-s[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(d+u)/2),Math.max(u,(d+u)/2)];if(t>g[0]&&t<=g[1]||t>=f[0]&&t<=f[1]){o=r[l].index;break}}else{var y=Math.min(c,h),v=Math.max(c,h);if(t>(y+u)/2&&t<=(v+u)/2){o=r[l].index;break}}}else for(var b=0;b<a;b++)if(0===b&&t<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&t>(n[b].coordinate+n[b-1].coordinate)/2&&t<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&t>(n[b].coordinate+n[b-1].coordinate)/2){o=n[b].index;break}return o}(o,a,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,h=pq(t,e,c,u),d=function(t,e,n,r){var i=e.find((function(t){return t&&t.index===n}));if(i){if("horizontal"===t)return{x:i.coordinate,y:r.y};if("vertical"===t)return{x:r.x,y:i.coordinate};if("centric"===t){var o=i.coordinate,a=r.radius;return oq(oq(oq({},r),AU(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,l=r.angle;return oq(oq(oq({},r),AU(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return uq}(n,a,c,i);return{activeTooltipIndex:c,activeLabel:u,activePayload:h,activeCoordinate:d}}return null},gq=function(t,e){var n=e.axes,r=e.graphicalItems,i=e.axisType,o=e.axisIdKey,a=e.stackGroups,s=e.dataStartIndex,l=e.dataEndIndex,c=t.layout,u=t.children,h=t.stackOffset,d=WB(c,i);return n.reduce((function(e,n){var f,p=void 0!==n.type.defaultProps?oq(oq({},n.type.defaultProps),n.props):n.props,m=p.type,g=p.dataKey,y=p.allowDataOverflow,v=p.allowDuplicatedCategory,b=p.scale,_=p.ticks,w=p.includeHidden,x=p[o];if(e[x])return e;var S,k,O,E=dq(t.data,{graphicalItems:r.filter((function(t){var e;return(o in t.props?t.props[o]:null===(e=t.type.defaultProps)||void 0===e?void 0:e[o])===x})),dataStartIndex:s,dataEndIndex:l}),T=E.length;(function(t,e,n){if("number"===n&&!0===e&&Array.isArray(t)){var r=null===t||void 0===t?void 0:t[0],i=null===t||void 0===t?void 0:t[1];if(r&&i&&MP(r)&&MP(i))return!0}return!1})(p.domain,y,m)&&(S=nU(p.domain,null,y),!d||"number"!==m&&"auto"===b||(O=FB(E,g,"category")));var P=fq(m);if(!S||0===S.length){var C,A=null!==(C=p.domain)&&void 0!==C?C:P;if(g){if(S=FB(E,g,m),"category"===m&&d){var j=function(t){if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++){if(n[t[r]])return!0;n[t[r]]=!0}return!1}(S);v&&j?(k=S,S=CC()(0,T)):v||(S=iU(A,S,n).reduce((function(t,e){return t.indexOf(e)>=0?t:[].concat(eq(t),[e])}),[]))}else if("category"===m)S=v?S.filter((function(t){return""!==t&&!WP()(t)})):iU(A,S,n).reduce((function(t,e){return t.indexOf(e)>=0||""===e||WP()(e)?t:[].concat(eq(t),[e])}),[]);else if("number"===m){var I=function(t,e,n,r,i){var o=e.map((function(e){return UB(t,e,n,i,r)})).filter((function(t){return!WP()(t)}));return o&&o.length?o.reduce((function(t,e){return[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}),[1/0,-1/0]):null}(E,r.filter((function(t){var e,n,r=o in t.props?t.props[o]:null===(e=t.type.defaultProps)||void 0===e?void 0:e[o],i="hide"in t.props?t.props.hide:null===(n=t.type.defaultProps)||void 0===n?void 0:n.hide;return r===x&&(w||!i)})),g,i,c);I&&(S=I)}!d||"number"!==m&&"auto"===b||(O=FB(E,g,"category"))}else S=d?CC()(0,T):a&&a[x]&&a[x].hasStack&&"number"===m?"expand"===h?[0,1]:JB(a[x].stackGroups,s,l):VB(E,r.filter((function(t){var e=o in t.props?t.props[o]:t.type.defaultProps[o],n="hide"in t.props?t.props.hide:t.type.defaultProps.hide;return e===x&&(w||!n)})),m,c,!0);if("number"===m)S=BH(u,S,x,i,_),A&&(S=nU(A,S,y));else if("category"===m&&A){var M=A;S.every((function(t){return M.indexOf(t)>=0}))&&(S=M)}}return oq(oq({},e),{},aq({},x,oq(oq({},p),{},{axisType:i,domain:S,categoricalDomain:O,duplicateDomain:k,originalDomain:null!==(f=p.domain)&&void 0!==f?f:P,isCategorical:d,layout:c})))}),{})},yq=function(t,e){var n=e.axisType,r=void 0===n?"xAxis":n,i=e.AxisComp,o=e.graphicalItems,a=e.stackGroups,s=e.dataStartIndex,l=e.dataEndIndex,c=t.children,u="".concat(r,"Id"),h=dC(c,i),d={};return h&&h.length?d=gq(t,{axes:h,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l}):o&&o.length&&(d=function(t,e){var n=e.graphicalItems,r=e.Axis,i=e.axisType,o=e.axisIdKey,a=e.stackGroups,s=e.dataStartIndex,l=e.dataEndIndex,c=t.layout,u=t.children,h=dq(t.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),d=h.length,f=WB(c,i),p=-1;return n.reduce((function(t,e){var m,g=(void 0!==e.type.defaultProps?oq(oq({},e.type.defaultProps),e.props):e.props)[o],y=fq("number");return t[g]?t:(p++,f?m=CC()(0,d):a&&a[g]&&a[g].hasStack?(m=JB(a[g].stackGroups,s,l),m=BH(u,m,g,i)):(m=nU(y,VB(h,n.filter((function(t){var e,n,r=o in t.props?t.props[o]:null===(e=t.type.defaultProps)||void 0===e?void 0:e[o],i="hide"in t.props?t.props.hide:null===(n=t.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!i})),"number",c),r.defaultProps.allowDataOverflow),m=BH(u,m,g,i)),oq(oq({},t),{},aq({},g,oq(oq({axisType:i},r.defaultProps),{},{hide:!0,orientation:PP()(lq,"".concat(i,".").concat(p%2),null),domain:m,originalDomain:y,isCategorical:f,layout:c}))))}),{})}(t,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l})),d},vq=function(t){var e=t.children,n=t.defaultShowTooltip,r=fC(e,SU),i=0,o=0;return t.data&&0!==t.data.length&&(o=t.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(o=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},bq=function(t){return"horizontal"===t?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===t?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===t?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},_q=function(t,e){var n=t.props,r=(t.graphicalItems,t.xAxisMap),i=void 0===r?{}:r,o=t.yAxisMap,a=void 0===o?{}:o,s=n.width,l=n.height,c=n.children,u=n.margin||{},h=fC(c,SU),d=fC(c,Wj),f=Object.keys(a).reduce((function(t,e){var n=a[e],r=n.orientation;return n.mirror||n.hide?t:oq(oq({},t),{},aq({},r,t[r]+n.width))}),{left:u.left||0,right:u.right||0}),p=Object.keys(i).reduce((function(t,e){var n=i[e],r=n.orientation;return n.mirror||n.hide?t:oq(oq({},t),{},aq({},r,PP()(t,"".concat(r))+n.height))}),{top:u.top||0,bottom:u.bottom||0}),m=oq(oq({},p),f),g=m.bottom;h&&(m.bottom+=h.props.height||SU.defaultProps.height),d&&e&&(m=function(t,e,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),l=jB({children:i,legendWidth:s});if(l){var c=r||{},u=c.width,h=c.height,d=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==d&&MP(t[d]))return LB(LB({},t),{},RB({},d,t[d]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===d)&&"middle"!==f&&MP(t[f]))return LB(LB({},t),{},RB({},f,t[f]+(h||0)))}return t}(m,0,n,e));var y=s-m.left-m.right,v=l-m.top-m.bottom;return oq(oq({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},wq=function(t,e){return"xAxis"===e?t[e].width:"yAxis"===e?t[e].height:void 0},xq=["type","layout","connectNulls","ref"],Sq=["key"];function kq(t){return kq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kq(t)}function Oq(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Eq(){return Eq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eq.apply(this,arguments)}function Tq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Pq(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tq(Object(n),!0).forEach((function(e){Lq(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tq(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Cq(t){return function(t){if(Array.isArray(t))return Aq(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Aq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aq(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Aq(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rq(r.key),r)}}function Iq(t,e,n){return e=Nq(e),function(t,e){if(e&&("object"===kq(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Mq()?Reflect.construct(e,n||[],Nq(t).constructor):e.apply(t,n))}function Mq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Mq=function(){return!!t})()}function Nq(t){return Nq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nq(t)}function Dq(t,e){return Dq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Dq(t,e)}function Lq(t,e,n){return(e=Rq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rq(t){var e=function(t,e){if("object"!=kq(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=kq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kq(e)?e:e+""}var zq=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Lq(t=Iq(this,e,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),Lq(t,"generateSimpleStrokeDasharray",(function(t,e){return"".concat(e,"px ").concat(t-e,"px")})),Lq(t,"getStrokeDasharray",(function(n,r,i){var o=i.reduce((function(t,e){return t+e}));if(!o)return t.generateSimpleStrokeDasharray(r,n);for(var a=Math.floor(n/o),s=n%o,l=r-n,c=[],u=0,h=0;u<i.length;h+=i[u],++u)if(h+i[u]>s){c=[].concat(Cq(i.slice(0,u)),[s-h]);break}var d=c.length%2===0?[0,l]:[l];return[].concat(Cq(e.repeat(i,a)),Cq(c),d).map((function(t){return"".concat(t,"px")})).join(", ")})),Lq(t,"id",LP("recharts-line-")),Lq(t,"pathRef",(function(e){t.mainCurve=e})),Lq(t,"handleAnimationEnd",(function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()})),Lq(t,"handleAnimationStart",(function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()})),t}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dq(t,e)}(e,t),n=e,i=[{key:"getDerivedStateFromProps",value:function(t,e){return t.animationId!==e.prevAnimationId?{prevAnimationId:t.animationId,curPoints:t.points,prevPoints:e.curPoints}:t.points!==e.curPoints?{curPoints:t.points}:null}},{key:"repeat",value:function(t,e){for(var n=t.length%2!==0?[].concat(Cq(t),[0]):t,r=[],i=0;i<e;++i)r=[].concat(Cq(r),Cq(n));return r}},{key:"renderDotItem",value:function(t,e){var n;if(o.isValidElement(t))n=o.cloneElement(t,e);else if($P()(t))n=t(e);else{var r=e.key,i=Oq(e,Sq),a=wr("recharts-line-dot","boolean"!==typeof t?t.className:"");n=o.createElement($j,Eq({key:r},i,{className:a}))}return n}}],(r=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var t=this.getTotalLength();this.setState({totalLength:t})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var t=this.getTotalLength();t!==this.state.totalLength&&this.setState({totalLength:t})}}},{key:"getTotalLength",value:function(){var t=this.mainCurve;try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch(e){return 0}}},{key:"renderErrorBar",value:function(t,e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,i=n.xAxis,a=n.yAxis,s=n.layout,l=dC(n.children,EB);if(!l)return null;var c=function(t,e){return{x:t.x,y:t.y,value:t.value,errorVal:zB(t.payload,e)}},u={clipPath:t?"url(#clipPath-".concat(e,")"):null};return o.createElement(UC,u,l.map((function(t){return o.cloneElement(t,{key:"bar-".concat(t.props.dataKey),data:r,xAxis:i,yAxis:a,layout:s,dataPointFormatter:c})})))}},{key:"renderDots",value:function(t,n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.dot,s=i.points,l=i.dataKey,c=yC(this.props,!1),u=yC(a,!0),h=s.map((function(t,n){var r=Pq(Pq(Pq({key:"dot-".concat(n),r:3},c),u),{},{value:t.value,dataKey:l,cx:t.x,cy:t.y,index:n,payload:t.payload});return e.renderDotItem(a,r)})),d={clipPath:t?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return o.createElement(UC,Eq({className:"recharts-line-dots",key:"dots"},d),h)}},{key:"renderCurveStatically",value:function(t,e,n,r){var i=this.props,a=i.type,s=i.layout,l=i.connectNulls,c=(i.ref,Oq(i,xq)),u=Pq(Pq(Pq({},yC(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:e?"url(#clipPath-".concat(n,")"):null,points:t},r),{},{type:a,layout:s,connectNulls:l});return o.createElement(P$,Eq({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(t,e){var n=this,r=this.props,i=r.points,a=r.strokeDasharray,s=r.isAnimationActive,l=r.animationBegin,c=r.animationDuration,u=r.animationEasing,h=r.animationId,d=r.animateNewValues,f=r.width,p=r.height,m=this.state,g=m.prevPoints,y=m.totalLength;return o.createElement(OM,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(r){var o=r.t;if(g){var s=g.length/i.length,l=i.map((function(t,e){var n=Math.floor(e*s);if(g[n]){var r=g[n],i=FP(r.x,t.x),a=FP(r.y,t.y);return Pq(Pq({},t),{},{x:i(o),y:a(o)})}if(d){var l=FP(2*f,t.x),c=FP(p/2,t.y);return Pq(Pq({},t),{},{x:l(o),y:c(o)})}return Pq(Pq({},t),{},{x:t.x,y:t.y})}));return n.renderCurveStatically(l,t,e)}var c,u=FP(0,y)(o);if(a){var h="".concat(a).split(/[,\s]+/gim).map((function(t){return parseFloat(t)}));c=n.getStrokeDasharray(u,y,h)}else c=n.generateSimpleStrokeDasharray(y,u);return n.renderCurveStatically(i,t,e,{strokeDasharray:c})}))}},{key:"renderCurve",value:function(t,e){var n=this.props,r=n.points,i=n.isAnimationActive,o=this.state,a=o.prevPoints,s=o.totalLength;return i&&r&&r.length&&(!a&&s>0||!BF()(a,r))?this.renderCurveWithAnimation(t,e):this.renderCurveStatically(r,t,e)}},{key:"render",value:function(){var t,e=this.props,n=e.hide,r=e.dot,i=e.points,a=e.className,s=e.xAxis,l=e.yAxis,c=e.top,u=e.left,h=e.width,d=e.height,f=e.isAnimationActive,p=e.id;if(n||!i||!i.length)return null;var m=this.state.isAnimationFinished,g=1===i.length,y=wr("recharts-line",a),v=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,_=v||b,w=WP()(p)?this.id:p,x=null!==(t=yC(r,!1))&&void 0!==t?t:{r:3,strokeWidth:2},S=x.r,k=void 0===S?3:S,O=x.strokeWidth,E=void 0===O?2:O,T=(function(t){return t&&"object"===aC(t)&&"clipDot"in t}(r)?r:{}).clipDot,P=void 0===T||T,C=2*k+E;return o.createElement(UC,{className:y},v||b?o.createElement("defs",null,o.createElement("clipPath",{id:"clipPath-".concat(w)},o.createElement("rect",{x:v?u:u-h/2,y:b?c:c-d/2,width:v?h:2*h,height:b?d:2*d})),!P&&o.createElement("clipPath",{id:"clipPath-dots-".concat(w)},o.createElement("rect",{x:u-C/2,y:c-C/2,width:h+C,height:d+C}))):null,!g&&this.renderCurve(_,w),this.renderErrorBar(_,w),(g||r)&&this.renderDots(_,P,w),(!f||m)&&mV.renderCallByParent(this.props,i))}}])&&jq(n.prototype,r),i&&jq(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(o.PureComponent);function Fq(t,e,n){if(e<1)return[];if(1===e&&void 0===n)return t;for(var r=[],i=0;i<t.length;i+=e){if(void 0!==n&&!0!==n(t[i]))return;r.push(t[i])}return r}function Bq(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Uq(t){return Uq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uq(t)}function Vq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wq(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vq(Object(n),!0).forEach((function(e){Hq(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vq(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Hq(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Uq(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Uq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Uq(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $q(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(MP(l)||pA.isSsr)return function(t,e){return Fq(t,e+1)}(i,"number"===typeof l&&MP(l)?l:0);var d=[],f="top"===s||"bottom"===s?"width":"height",p=u&&"width"===f?nN(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},m=function(t,r){var i=$P()(c)?c(t.value,r):t.value;return"width"===f?function(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return NW(r,n)}(nN(i,{fontSize:e,letterSpacing:n}),p,h):nN(i,{fontSize:e,letterSpacing:n})[f]},g=i.length>=2?jP(i[1].coordinate-i[0].coordinate):1,y=function(t,e,n){var r="width"===n,i=t.x,o=t.y,a=t.width,s=t.height;return 1===e?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(o,g,f);return"equidistantPreserveStart"===l?function(t,e,n,r,i){for(var o,a=(r||[]).slice(),s=e.start,l=e.end,c=0,u=1,h=s,d=function(){var e=null===r||void 0===r?void 0:r[c];if(void 0===e)return{v:Fq(r,u)};var o,a=c,d=function(){return void 0===o&&(o=n(e,a)),o},f=e.coordinate,p=0===c||Bq(t,f,d,h,l);p||(c=0,h=s,u+=1),p&&(h=f+t*(d()/2+i),c+=u)};u<=a.length;)if(o=d())return o.v;return[]}(g,y,m,i,a):(d="preserveStart"===l||"preserveStartEnd"===l?function(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,c=e.end;if(o){var u=r[s-1],h=n(u,s-1),d=t*(u.coordinate+t*h/2-c);a[s-1]=u=Wq(Wq({},u),{},{tickCoord:d>0?u.coordinate-d*t:u.coordinate}),Bq(t,u.tickCoord,(function(){return h}),l,c)&&(c=u.tickCoord-t*(h/2+i),a[s-1]=Wq(Wq({},u),{},{isShow:!0}))}for(var f=o?s-1:s,p=function(e){var r,o=a[e],s=function(){return void 0===r&&(r=n(o,e)),r};if(0===e){var u=t*(o.coordinate-t*s()/2-l);a[e]=o=Wq(Wq({},o),{},{tickCoord:u<0?o.coordinate-u*t:o.coordinate})}else a[e]=o=Wq(Wq({},o),{},{tickCoord:o.coordinate});Bq(t,o.tickCoord,s,l,c)&&(l=o.tickCoord+t*(s()/2+i),a[e]=Wq(Wq({},o),{},{isShow:!0}))},m=0;m<f;m++)p(m);return a}(g,y,m,i,a,"preserveStartEnd"===l):function(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,c=function(e){var r,c=o[e],u=function(){return void 0===r&&(r=n(c,e)),r};if(e===a-1){var h=t*(c.coordinate+t*u()/2-l);o[e]=c=Wq(Wq({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate})}else o[e]=c=Wq(Wq({},c),{},{tickCoord:c.coordinate});Bq(t,c.tickCoord,u,s,l)&&(l=c.tickCoord-t*(u()/2+i),o[e]=Wq(Wq({},c),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}(g,y,m,i,a),d.filter((function(t){return t.isShow})))}Lq(zq,"displayName","Line"),Lq(zq,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!pA.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),Lq(zq,"getComposedData",(function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout;return Pq({points:l.map((function(t,e){var l=zB(t,a);return"horizontal"===u?{x:XB({axis:n,ticks:i,bandSize:s,entry:t,index:e}),y:WP()(l)?null:r.scale(l),value:l,payload:t}:{x:WP()(l)?null:n.scale(l),y:XB({axis:r,ticks:o,bandSize:s,entry:t,index:e}),value:l,payload:t}})),layout:u},c)}));var qq=["viewBox"],Gq=["viewBox"],Kq=["ticks"];function Zq(t){return Zq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zq(t)}function Yq(){return Yq=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yq.apply(this,arguments)}function Xq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qq(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xq(Object(n),!0).forEach((function(e){oG(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xq(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Jq(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aG(r.key),r)}}function eG(t,e,n){return e=rG(e),function(t,e){if(e&&("object"===Zq(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,nG()?Reflect.construct(e,n||[],rG(t).constructor):e.apply(t,n))}function nG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(nG=function(){return!!t})()}function rG(t){return rG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rG(t)}function iG(t,e){return iG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},iG(t,e)}function oG(t,e,n){return(e=aG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aG(t){var e=function(t,e){if("object"!=Zq(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Zq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Zq(e)?e:e+""}var sG=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=eG(this,e,[t])).state={fontSize:"",letterSpacing:""},n}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iG(t,e)}(e,t),n=e,i=[{key:"renderTickItem",value:function(t,e,n){return o.isValidElement(t)?o.cloneElement(t,e):$P()(t)?t(e):o.createElement(jN,Yq({},e,{className:"recharts-cartesian-axis-tick-value"}),n)}}],(r=[{key:"shouldComponentUpdate",value:function(t,e){var n=t.viewBox,r=Jq(t,qq),i=this.props,o=i.viewBox,a=Jq(i,Gq);return!ZP(n,o)||!ZP(r,a)||!ZP(e,this.state)}},{key:"componentDidMount",value:function(){var t=this.layerReference;if(t){var e=t.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];e&&this.setState({fontSize:window.getComputedStyle(e).fontSize,letterSpacing:window.getComputedStyle(e).letterSpacing})}}},{key:"getTickLineCoord",value:function(t){var e,n,r,i,o,a,s=this.props,l=s.x,c=s.y,u=s.width,h=s.height,d=s.orientation,f=s.tickSize,p=s.mirror,m=s.tickMargin,g=p?-1:1,y=t.tickSize||f,v=MP(t.tickCoord)?t.tickCoord:t.coordinate;switch(d){case"top":e=n=t.coordinate,a=(r=(i=c+ +!p*h)-g*y)-g*m,o=v;break;case"left":r=i=t.coordinate,o=(e=(n=l+ +!p*u)-g*y)-g*m,a=v;break;case"right":r=i=t.coordinate,o=(e=(n=l+ +p*u)+g*y)+g*m,a=v;break;default:e=n=t.coordinate,a=(r=(i=c+ +p*h)+g*y)+g*m,o=v}return{line:{x1:e,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var t,e=this.props,n=e.orientation,r=e.mirror;switch(n){case"left":t=r?"start":"end";break;case"right":t=r?"end":"start";break;default:t="middle"}return t}},{key:"getTickVerticalAnchor",value:function(){var t=this.props,e=t.orientation,n=t.mirror,r="end";switch(e){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var t=this.props,e=t.x,n=t.y,r=t.width,i=t.height,a=t.orientation,s=t.mirror,l=t.axisLine,c=Qq(Qq(Qq({},yC(this.props,!1)),yC(l,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var u=+("top"===a&&!s||"bottom"===a&&s);c=Qq(Qq({},c),{},{x1:e,y1:n+u*i,x2:e+r,y2:n+u*i})}else{var h=+("left"===a&&!s||"right"===a&&s);c=Qq(Qq({},c),{},{x1:e+h*r,y1:n,x2:e+h*r,y2:n+i})}return o.createElement("line",Yq({},c,{className:wr("recharts-cartesian-axis-line",PP()(l,"className"))}))}},{key:"renderTicks",value:function(t,n,r){var i=this,a=this.props,s=a.tickLine,l=a.stroke,c=a.tick,u=a.tickFormatter,h=a.unit,d=$q(Qq(Qq({},this.props),{},{ticks:t}),n,r),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=yC(this.props,!1),g=yC(c,!1),y=Qq(Qq({},m),{},{fill:"none"},yC(s,!1)),v=d.map((function(t,n){var r=i.getTickLineCoord(t),a=r.line,v=r.tick,b=Qq(Qq(Qq(Qq({textAnchor:f,verticalAnchor:p},m),{},{stroke:"none",fill:l},g),v),{},{index:n,payload:t,visibleTicksCount:d.length,tickFormatter:u});return o.createElement(UC,Yq({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},nC(i.props,t,n)),s&&o.createElement("line",Yq({},y,a,{className:wr("recharts-cartesian-axis-tick-line",PP()(s,"className"))})),c&&e.renderTickItem(c,b,"".concat($P()(u)?u(t.value,n):t.value).concat(h||"")))}));return o.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var t=this,e=this.props,n=e.axisLine,r=e.width,i=e.height,a=e.ticksGenerator,s=e.className;if(e.hide)return null;var l=this.props,c=l.ticks,u=Jq(l,Kq),h=c;return $P()(a)&&(h=c&&c.length>0?a(this.props):a(u)),r<=0||i<=0||!h||!h.length?null:o.createElement(UC,{className:wr("recharts-cartesian-axis",s),ref:function(e){t.layerReference=e}},n&&this.renderAxisLine(),this.renderTicks(h,this.state.fontSize,this.state.letterSpacing),KU.renderCallByParent(this.props))}}])&&tG(n.prototype,r),i&&tG(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(o.Component);function lG(t){return lG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lG(t)}function cG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mG(r.key),r)}}function uG(t,e,n){return e=dG(e),function(t,e){if(e&&("object"===lG(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,hG()?Reflect.construct(e,n||[],dG(t).constructor):e.apply(t,n))}function hG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(hG=function(){return!!t})()}function dG(t){return dG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dG(t)}function fG(t,e){return fG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fG(t,e)}function pG(t,e,n){return(e=mG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mG(t){var e=function(t,e){if("object"!=lG(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lG(e)?e:e+""}function gG(){return gG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gG.apply(this,arguments)}function yG(t){var e=t.xAxisId,n=cH(),r=uH(),i=sH(e);return null==i?null:o.createElement(sG,gG({},i,{className:wr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(t){return $B(t,!0)}}))}oG(sG,"displayName","CartesianAxis"),oG(sG,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var vG=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),uG(this,e,arguments)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fG(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return o.createElement(yG,this.props)}}])&&cG(n.prototype,r),i&&cG(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(o.Component);function bG(t){return bG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bG(t)}function _G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EG(r.key),r)}}function wG(t,e,n){return e=SG(e),function(t,e){if(e&&("object"===bG(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,xG()?Reflect.construct(e,n||[],SG(t).constructor):e.apply(t,n))}function xG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(xG=function(){return!!t})()}function SG(t){return SG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},SG(t)}function kG(t,e){return kG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},kG(t,e)}function OG(t,e,n){return(e=EG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EG(t){var e=function(t,e){if("object"!=bG(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=bG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bG(e)?e:e+""}function TG(){return TG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TG.apply(this,arguments)}pG(vG,"displayName","XAxis"),pG(vG,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var PG=function(t){var e=t.yAxisId,n=cH(),r=uH(),i=lH(e);return null==i?null:o.createElement(sG,TG({},i,{className:wr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(t){return $B(t,!0)}}))},CG=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),wG(this,e,arguments)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kG(t,e)}(e,t),n=e,(r=[{key:"render",value:function(){return o.createElement(PG,this.props)}}])&&_G(n.prototype,r),i&&_G(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(o.Component);OG(CG,"displayName","YAxis"),OG(CG,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var AG=function(t){var e=t.chartName,n=t.GraphicalChild,r=t.defaultTooltipEventType,i=void 0===r?"axis":r,a=t.validateTooltipEventTypes,s=void 0===a?["axis"]:a,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,h=t.defaultProps,d=function(t,e){var n=e.graphicalItems,r=e.stackGroups,i=e.offset,o=e.updateId,a=e.dataStartIndex,s=e.dataEndIndex,c=t.barSize,u=t.layout,h=t.barGap,d=t.barCategoryGap,f=t.maxBarSize,p=bq(u),m=p.numericAxisName,g=p.cateAxisName,y=function(t){return!(!t||!t.length)&&t.some((function(t){var e=lC(t&&t.type);return e&&e.indexOf("Bar")>=0}))}(n),v=[];return n.forEach((function(n,p){var b=dq(t.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:s}),_=void 0!==n.type.defaultProps?oq(oq({},n.type.defaultProps),n.props):n.props,w=_.dataKey,x=_.maxBarSize,S=_["".concat(m,"Id")],k=_["".concat(g,"Id")],O=l.reduce((function(t,n){var r=e["".concat(n.axisType,"Map")],i=_["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||MC(!1);var o=r[i];return oq(oq({},t),{},aq(aq({},n.axisType,o),"".concat(n.axisType,"Ticks"),$B(o)))}),{}),E=O[g],T=O["".concat(g,"Ticks")],P=r&&r[S]&&r[S].hasStack&&function(t,e){var n,r=(null!==(n=t.type)&&void 0!==n&&n.defaultProps?LB(LB({},t.type.defaultProps),t.props):t.props).stackId;if(NP(r)){var i=e[r];if(i){var o=i.items.indexOf(t);return o>=0?i.stackedData[o]:null}}return null}(n,r[S].stackGroups),C=lC(n.type).indexOf("Bar")>=0,A=rU(E,T),j=[],I=y&&function(t){var e=t.barSize,n=t.totalSize,r=t.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var o={},a=Object.keys(i),s=0,l=a.length;s<l;s++)for(var c=i[a[s]].stackGroups,u=Object.keys(c),h=0,d=u.length;h<d;h++){var f=c[u[h]],p=f.items,m=f.cateAxisId,g=p.filter((function(t){return lC(t.type).indexOf("Bar")>=0}));if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?LB(LB({},y),g[0].props):g[0].props,b=v.barSize,_=v[m];o[_]||(o[_]=[]);var w=WP()(b)?e:b;o[_].push({item:g[0],stackList:g.slice(1),barSize:WP()(w)?void 0:RP(w,n,0)})}}return o}({barSize:c,stackGroups:r,totalSize:wq(O,g)});if(C){var M,N,D=WP()(x)?f:x,L=null!==(M=null!==(N=rU(E,T,!0))&&void 0!==N?N:D)&&void 0!==M?M:0;j=function(t){var e=t.barGap,n=t.barCategoryGap,r=t.bandSize,i=t.sizeList,o=void 0===i?[]:i,a=t.maxBarSize,s=o.length;if(s<1)return null;var l,c=RP(e,r,0,!0),u=[];if(o[0].barSize===+o[0].barSize){var h=!1,d=r/s,f=o.reduce((function(t,e){return t+e.barSize||0}),0);(f+=(s-1)*c)>=r&&(f-=(s-1)*c,c=0),f>=r&&d>0&&(h=!0,f=s*(d*=.9));var p={offset:((r-f)/2|0)-c,size:0};l=o.reduce((function(t,e){var n={item:e.item,position:{offset:p.offset+p.size+c,size:h?d:e.barSize}},r=[].concat(MB(t),[n]);return p=r[r.length-1].position,e.stackList&&e.stackList.length&&e.stackList.forEach((function(t){r.push({item:t,position:p})})),r}),u)}else{var m=RP(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var g=(r-2*m-(s-1)*c)/s;g>1&&(g>>=0);var y=a===+a?Math.min(g,a):g;l=o.reduce((function(t,e,n){var r=[].concat(MB(t),[{item:e.item,position:{offset:m+(g+c)*n+(g-y)/2,size:y}}]);return e.stackList&&e.stackList.length&&e.stackList.forEach((function(t){r.push({item:t,position:r[r.length-1].position})})),r}),u)}return l}({barGap:h,barCategoryGap:d,bandSize:L!==A?L:A,sizeList:I[k],maxBarSize:D}),L!==A&&(j=j.map((function(t){return oq(oq({},t),{},{position:oq(oq({},t.position),{},{offset:t.position.offset-L/2})})})))}var R,z,F=n&&n.type&&n.type.getComposedData;F&&v.push({props:oq(oq({},F(oq(oq({},O),{},{displayedData:b,props:t,dataKey:w,item:n,bandSize:A,barPosition:j,offset:i,stackedData:P,layout:u,dataStartIndex:a,dataEndIndex:s}))),{},aq(aq(aq({key:n.key||"item-".concat(p)},m,O[m]),g,O[g]),"animationId",o)),childIndex:(R=n,z=t.children,hC(z).indexOf(R)),item:n})})),v},f=function(t,r){var i=t.props,o=t.dataStartIndex,a=t.dataEndIndex,s=t.updateId;if(!pC({props:i}))return null;var c=i.children,h=i.layout,f=i.stackOffset,p=i.data,m=i.reverseStackOrder,g=bq(h),y=g.numericAxisName,v=g.cateAxisName,b=dC(c,n),_=function(t,e,n,r,i,o){if(!t)return null;var a=(o?e.reverse():e).reduce((function(t,e){var i,o=null!==(i=e.type)&&void 0!==i&&i.defaultProps?LB(LB({},e.type.defaultProps),e.props):e.props,a=o.stackId;if(o.hide)return t;var s=o[n],l=t[s]||{hasStack:!1,stackGroups:{}};if(NP(a)){var c=l.stackGroups[a]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(e),l.hasStack=!0,l.stackGroups[a]=c}else l.stackGroups[LP("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[e]};return LB(LB({},t),{},RB({},s,l))}),{});return Object.keys(a).reduce((function(e,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(e,o){var a=s.stackGroups[o];return LB(LB({},e),{},RB({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:YB(t,a.items,i)}))}),{})),LB(LB({},e),{},RB({},o,s))}),{})}(p,b,"".concat(y,"Id"),"".concat(v,"Id"),f,m),w=l.reduce((function(t,e){var n="".concat(e.axisType,"Map");return oq(oq({},t),{},aq({},n,yq(i,oq(oq({},e),{},{graphicalItems:b,stackGroups:e.axisType===y&&_,dataStartIndex:o,dataEndIndex:a}))))}),{}),x=_q(oq(oq({},w),{},{props:i,graphicalItems:b}),null===r||void 0===r?void 0:r.legendBBox);Object.keys(w).forEach((function(t){w[t]=u(i,w[t],x,t.replace("Map",""),e)}));var S=function(t){var e=zP(t),n=$B(e,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:jC()(n,(function(t){return t.coordinate})),tooltipAxis:e,tooltipAxisBandSize:rU(e,n)}}(w["".concat(v,"Map")]),k=d(i,oq(oq({},w),{},{dataStartIndex:o,dataEndIndex:a,updateId:s,graphicalItems:b,stackGroups:_,offset:x}));return oq(oq({formattedGraphicalItems:k,graphicalItems:b,offset:x,stackGroups:_},S),w)},p=function(t){function n(t){var r,i,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),aq(a=X$(this,n,[t]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),aq(a,"accessibilityManager",new KH),aq(a,"handleLegendBBoxUpdate",(function(t){if(t){var e=a.state,n=e.dataStartIndex,r=e.dataEndIndex,i=e.updateId;a.setState(oq({legendBBox:t},f({props:a.props,dataStartIndex:n,dataEndIndex:r,updateId:i},oq(oq({},a.state),{},{legendBBox:t}))))}})),aq(a,"handleReceiveSyncEvent",(function(t,e,n){if(a.props.syncId===t){if(n===a.eventEmitterSymbol&&"function"!==typeof a.props.syncMethod)return;a.applySyncEvent(e)}})),aq(a,"handleBrushChange",(function(t){var e=t.startIndex,n=t.endIndex;if(e!==a.state.dataStartIndex||n!==a.state.dataEndIndex){var r=a.state.updateId;a.setState((function(){return oq({dataStartIndex:e,dataEndIndex:n},f({props:a.props,dataStartIndex:e,dataEndIndex:n,updateId:r},a.state))})),a.triggerSyncEvent({dataStartIndex:e,dataEndIndex:n})}})),aq(a,"handleMouseEnter",(function(t){var e=a.getMouseInfo(t);if(e){var n=oq(oq({},e),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseEnter;$P()(r)&&r(n,t)}})),aq(a,"triggeredAfterMouseMove",(function(t){var e=a.getMouseInfo(t),n=e?oq(oq({},e),{},{isTooltipActive:!0}):{isTooltipActive:!1};a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseMove;$P()(r)&&r(n,t)})),aq(a,"handleItemMouseEnter",(function(t){a.setState((function(){return{isTooltipActive:!0,activeItem:t,activePayload:t.tooltipPayload,activeCoordinate:t.tooltipPosition||{x:t.cx,y:t.cy}}}))})),aq(a,"handleItemMouseLeave",(function(){a.setState((function(){return{isTooltipActive:!1}}))})),aq(a,"handleMouseMove",(function(t){t.persist(),a.throttleTriggeredAfterMouseMove(t)})),aq(a,"handleMouseLeave",(function(t){a.throttleTriggeredAfterMouseMove.cancel();var e={isTooltipActive:!1};a.setState(e),a.triggerSyncEvent(e);var n=a.props.onMouseLeave;$P()(n)&&n(e,t)})),aq(a,"handleOuterEvent",(function(t){var e,n=function(t){var e=t&&t.type;return e&&sC[e]?sC[e]:null}(t),r=PP()(a.props,"".concat(n));n&&$P()(r)&&r(null!==(e=/.*touch.*/i.test(n)?a.getMouseInfo(t.changedTouches[0]):a.getMouseInfo(t))&&void 0!==e?e:{},t)})),aq(a,"handleClick",(function(t){var e=a.getMouseInfo(t);if(e){var n=oq(oq({},e),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onClick;$P()(r)&&r(n,t)}})),aq(a,"handleMouseDown",(function(t){var e=a.props.onMouseDown;$P()(e)&&e(a.getMouseInfo(t),t)})),aq(a,"handleMouseUp",(function(t){var e=a.props.onMouseUp;$P()(e)&&e(a.getMouseInfo(t),t)})),aq(a,"handleTouchMove",(function(t){null!=t.changedTouches&&t.changedTouches.length>0&&a.throttleTriggeredAfterMouseMove(t.changedTouches[0])})),aq(a,"handleTouchStart",(function(t){null!=t.changedTouches&&t.changedTouches.length>0&&a.handleMouseDown(t.changedTouches[0])})),aq(a,"handleTouchEnd",(function(t){null!=t.changedTouches&&t.changedTouches.length>0&&a.handleMouseUp(t.changedTouches[0])})),aq(a,"handleDoubleClick",(function(t){var e=a.props.onDoubleClick;$P()(e)&&e(a.getMouseInfo(t),t)})),aq(a,"handleContextMenu",(function(t){var e=a.props.onContextMenu;$P()(e)&&e(a.getMouseInfo(t),t)})),aq(a,"triggerSyncEvent",(function(t){void 0!==a.props.syncId&&VH.emit(WH,a.props.syncId,t,a.eventEmitterSymbol)})),aq(a,"applySyncEvent",(function(t){var e=a.props,n=e.layout,r=e.syncMethod,i=a.state.updateId,o=t.dataStartIndex,s=t.dataEndIndex;if(void 0!==t.dataStartIndex||void 0!==t.dataEndIndex)a.setState(oq({dataStartIndex:o,dataEndIndex:s},f({props:a.props,dataStartIndex:o,dataEndIndex:s,updateId:i},a.state)));else if(void 0!==t.activeTooltipIndex){var l=t.chartX,c=t.chartY,u=t.activeTooltipIndex,h=a.state,d=h.offset,p=h.tooltipTicks;if(!d)return;if("function"===typeof r)u=r(p,t);else if("value"===r){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===t.activeLabel){u=m;break}}var g=oq(oq({},d),{},{x:d.left,y:d.top}),y=Math.min(l,g.x+g.width),v=Math.min(c,g.y+g.height),b=p[u]&&p[u].value,_=pq(a.state,a.props.data,u),w=p[u]?{x:"horizontal"===n?p[u].coordinate:y,y:"horizontal"===n?v:p[u].coordinate}:uq;a.setState(oq(oq({},t),{},{activeLabel:b,activeCoordinate:w,activePayload:_,activeTooltipIndex:u}))}else a.setState(t)})),aq(a,"renderCursor",(function(t){var n,r=a.state,i=r.isTooltipActive,s=r.activeCoordinate,l=r.activePayload,c=r.offset,u=r.activeTooltipIndex,h=r.tooltipAxisBandSize,d=a.getTooltipEventType(),f=null!==(n=t.props.active)&&void 0!==n?n:i,p=a.props.layout,m=t.key||"_recharts-cursor";return o.createElement(W$,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:u,chartName:e,element:t,isActive:f,layout:p,offset:c,tooltipAxisBandSize:h,tooltipEventType:d})})),aq(a,"renderPolarAxis",(function(t,e,n){var r=PP()(t,"type.axisType"),i=PP()(a.state,"".concat(r,"Map")),s=t.type.defaultProps,l=void 0!==s?oq(oq({},s),t.props):t.props,c=i&&i[l["".concat(r,"Id")]];return(0,o.cloneElement)(t,oq(oq({},c),{},{className:wr(r,c.className),key:t.key||"".concat(e,"-").concat(n),ticks:$B(c,!0)}))})),aq(a,"renderPolarGrid",(function(t){var e=t.props,n=e.radialLines,r=e.polarAngles,i=e.polarRadius,s=a.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=zP(l),h=zP(c),d=h.cx,f=h.cy,p=h.innerRadius,m=h.outerRadius;return(0,o.cloneElement)(t,{polarAngles:Array.isArray(r)?r:$B(h,!0).map((function(t){return t.coordinate})),polarRadius:Array.isArray(i)?i:$B(u,!0).map((function(t){return t.coordinate})),cx:d,cy:f,innerRadius:p,outerRadius:m,key:t.key||"polar-grid",radialLines:n})})),aq(a,"renderLegend",(function(){var t=a.state.formattedGraphicalItems,e=a.props,n=e.children,r=e.width,i=e.height,s=a.props.margin||{},l=r-(s.left||0)-(s.right||0),u=jB({children:n,formattedGraphicalItems:t,legendWidth:l,legendContent:c});if(!u)return null;var h=u.item,d=Z$(u,H$);return(0,o.cloneElement)(h,oq(oq({},d),{},{chartWidth:r,chartHeight:i,margin:s,onBBoxUpdate:a.handleLegendBBoxUpdate}))})),aq(a,"renderTooltip",(function(){var t,e=a.props,n=e.children,r=e.accessibilityLayer,i=fC(n,CA);if(!i)return null;var s=a.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,h=s.activeLabel,d=s.offset,f=null!==(t=i.props.active)&&void 0!==t?t:l;return(0,o.cloneElement)(i,{viewBox:oq(oq({},d),{},{x:d.left,y:d.top}),active:f,label:h,payload:f?u:[],coordinate:c,accessibilityLayer:r})})),aq(a,"renderBrush",(function(t){var e=a.props,n=e.margin,r=e.data,i=a.state,s=i.offset,l=i.dataStartIndex,c=i.dataEndIndex,u=i.updateId;return(0,o.cloneElement)(t,{key:t.key||"_recharts-brush",onChange:GB(a.handleBrushChange,t.props.onChange),data:r,x:MP(t.props.x)?t.props.x:s.left,y:MP(t.props.y)?t.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:MP(t.props.width)?t.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})})),aq(a,"renderReferenceElement",(function(t,e,n){if(!t)return null;var r=a.clipPathId,i=a.state,s=i.xAxisMap,l=i.yAxisMap,c=i.offset,u=t.type.defaultProps||{},h=t.props,d=h.xAxisId,f=void 0===d?u.xAxisId:d,p=h.yAxisId,m=void 0===p?u.yAxisId:p;return(0,o.cloneElement)(t,{key:t.key||"".concat(e,"-").concat(n),xAxis:s[f],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:r})})),aq(a,"renderActivePoints",(function(t){var e=t.item,r=t.activePoint,i=t.basePoint,o=t.childIndex,a=t.isRange,s=[],l=e.props.key,c=void 0!==e.item.type.defaultProps?oq(oq({},e.item.type.defaultProps),e.item.props):e.item.props,u=c.activeDot,h=oq(oq({index:o,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:BB(e.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},yC(u,!1)),eC(u));return s.push(n.renderActiveDot(u,h,"".concat(l,"-activePoint-").concat(o))),i?s.push(n.renderActiveDot(u,oq(oq({},h),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(o))):a&&s.push(null),s})),aq(a,"renderGraphicChild",(function(t,e,n){var r=a.filterFormatItem(t,e,n);if(!r)return null;var i=a.getTooltipEventType(),s=a.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,h=s.activeLabel,d=fC(a.props.children,CA),f=r.props,p=f.points,m=f.isRange,g=f.baseLine,y=void 0!==r.item.type.defaultProps?oq(oq({},r.item.type.defaultProps),r.item.props):r.item.props,v=y.activeDot,b=y.hide,_=y.activeBar,w=y.activeShape,x=Boolean(!b&&l&&d&&(v||_||w)),S={};"axis"!==i&&d&&"click"===d.props.trigger?S={onClick:GB(a.handleItemMouseEnter,t.props.onClick)}:"axis"!==i&&(S={onMouseLeave:GB(a.handleItemMouseLeave,t.props.onMouseLeave),onMouseEnter:GB(a.handleItemMouseEnter,t.props.onMouseEnter)});var k=(0,o.cloneElement)(t,oq(oq({},r.props),S));if(x){if(!(u>=0)){var O,E=(null!==(O=a.getItemByXY(a.state.activeCoordinate))&&void 0!==O?O:{graphicalItem:k}).graphicalItem,T=E.item,P=void 0===T?t:T,C=E.childIndex,A=oq(oq(oq({},r.props),S),{},{activeIndex:C});return[(0,o.cloneElement)(P,A),null,null]}var j,I;if(c.dataKey&&!c.allowDuplicatedCategory){var M="function"===typeof c.dataKey?function(t){return"function"===typeof c.dataKey?c.dataKey(t.payload):null}:"payload.".concat(c.dataKey.toString());j=BP(p,M,h),I=m&&g&&BP(g,M,h)}else j=null===p||void 0===p?void 0:p[u],I=m&&g&&g[u];if(w||_){var N=void 0!==t.props.activeIndex?t.props.activeIndex:u;return[(0,o.cloneElement)(t,oq(oq(oq({},r.props),S),{},{activeIndex:N})),null,null]}if(!WP()(j))return[k].concat(eq(a.renderActivePoints({item:r,activePoint:j,basePoint:I,childIndex:u,isRange:m})))}return m?[k,null,null]:[k,null]})),aq(a,"renderCustomized",(function(t,e,n){return(0,o.cloneElement)(t,oq(oq({key:"recharts-customized-".concat(n)},a.props),a.state))})),aq(a,"renderMap",{CartesianGrid:{handler:hq,once:!0},ReferenceArea:{handler:a.renderReferenceElement},ReferenceLine:{handler:hq},ReferenceDot:{handler:a.renderReferenceElement},XAxis:{handler:hq},YAxis:{handler:hq},Brush:{handler:a.renderBrush,once:!0},Bar:{handler:a.renderGraphicChild},Line:{handler:a.renderGraphicChild},Area:{handler:a.renderGraphicChild},Radar:{handler:a.renderGraphicChild},RadialBar:{handler:a.renderGraphicChild},Scatter:{handler:a.renderGraphicChild},Pie:{handler:a.renderGraphicChild},Funnel:{handler:a.renderGraphicChild},Tooltip:{handler:a.renderCursor,once:!0},PolarGrid:{handler:a.renderPolarGrid,once:!0},PolarAngleAxis:{handler:a.renderPolarAxis},PolarRadiusAxis:{handler:a.renderPolarAxis},Customized:{handler:a.renderCustomized}}),a.clipPathId="".concat(null!==(r=t.id)&&void 0!==r?r:LP("recharts"),"-clip"),a.throttleTriggeredAfterMouseMove=xP()(a.triggeredAfterMouseMove,null!==(i=t.throttleDelay)&&void 0!==i?i:1e3/60),a.state={},a}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tq(t,e)}(n,t),r=n,a=[{key:"componentDidMount",value:function(){var t,e;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(t=this.props.margin.left)&&void 0!==t?t:0,top:null!==(e=this.props.margin.top)&&void 0!==e?e:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var t=this.props,e=t.children,n=t.data,r=t.height,i=t.layout,o=fC(e,CA);if(o){var a=o.props.defaultIndex;if(!("number"!==typeof a||a<0||a>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,l=pq(this.state,n,a,s),c=this.state.tooltipTicks[a].coordinate,u=(this.state.offset.top+r)/2,h="horizontal"===i?{x:c,y:u}:{y:c,x:u},d=this.state.formattedGraphicalItems.find((function(t){return"Scatter"===t.item.type.name}));d&&(h=oq(oq({},h),d.props.points[a].tooltipPosition),l=d.props.points[a].tooltipPayload);var f={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:h};this.setState(f),this.renderCursor(o),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(t,e){return this.props.accessibilityLayer?(this.state.tooltipTicks!==e.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==t.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==t.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(t){vC([fC(t.children,CA)],[fC(this.props.children,CA)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var t=fC(this.props.children,CA);if(t&&"boolean"===typeof t.props.shared){var e=t.props.shared?"axis":"item";return s.indexOf(e)>=0?e:i}return i}},{key:"getMouseInfo",value:function(t){if(!this.container)return null;var e,n=this.container,r=n.getBoundingClientRect(),i={top:(e=r).top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft},o={chartX:Math.round(t.pageX-i.left),chartY:Math.round(t.pageY-i.top)},a=r.width/n.offsetWidth||1,s=this.inRange(o.chartX,o.chartY,a);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap;if("axis"!==this.getTooltipEventType()&&c&&u){var h=zP(c).scale,d=zP(u).scale,f=h&&h.invert?h.invert(o.chartX):null,p=d&&d.invert?d.invert(o.chartY):null;return oq(oq({},o),{},{xValue:f,yValue:p})}var m=mq(this.state,this.props.data,this.props.layout,s);return m?oq(oq({},o),m):null}},{key:"inRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=t/n,o=e/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return i>=a.left&&i<=a.left+a.width&&o>=a.top&&o<=a.top+a.height?{x:i,y:o}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=zP(l);return MU({x:i,y:o},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var t=this.props.children,e=this.getTooltipEventType(),n=fC(t,CA),r={};return n&&"axis"===e&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),oq(oq({},eC(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){VH.on(WH,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){VH.removeListener(WH,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(t,e,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===t||a.props.key===t.key||e===lC(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var t=this.clipPathId,e=this.state.offset,n=e.left,r=e.top,i=e.height,a=e.width;return o.createElement("defs",null,o.createElement("clipPath",{id:t},o.createElement("rect",{x:n,y:r,height:i,width:a})))}},{key:"getXScales",value:function(){var t=this.state.xAxisMap;return t?Object.entries(t).reduce((function(t,e){var n=K$(e,2),r=n[0],i=n[1];return oq(oq({},t),{},aq({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var t=this.state.yAxisMap;return t?Object.entries(t).reduce((function(t,e){var n=K$(e,2),r=n[0],i=n[1];return oq(oq({},t),{},aq({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(t){var e;return null===(e=this.state.xAxisMap)||void 0===e||null===(e=e[t])||void 0===e?void 0:e.scale}},{key:"getYScaleByAxisId",value:function(t){var e;return null===(e=this.state.yAxisMap)||void 0===e||null===(e=e[t])||void 0===e?void 0:e.scale}},{key:"getItemByXY",value:function(t){var e=this.state,n=e.formattedGraphicalItems,r=e.activeItem;if(n&&n.length)for(var i=0,o=n.length;i<o;i++){var a=n[i],s=a.props,l=a.item,c=void 0!==l.type.defaultProps?oq(oq({},l.type.defaultProps),l.props):l.props,u=lC(l.type);if("Bar"===u){var h=(s.data||[]).find((function(e){return NM(t,e)}));if(h)return{graphicalItem:a,payload:h}}else if("RadialBar"===u){var d=(s.data||[]).find((function(e){return MU(t,e)}));if(d)return{graphicalItem:a,payload:d}}else if(KV(a,r)||ZV(a,r)||YV(a,r)){var f=tW({graphicalItem:a,activeTooltipItem:r,itemData:c.data}),p=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:oq(oq({},a),{},{childIndex:p}),payload:YV(a,r)?c.data[f]:a.props.data[f]}}}return null}},{key:"render",value:function(){var t=this;if(!pC(this))return null;var e,n,r=this.props,i=r.children,a=r.className,s=r.width,l=r.height,c=r.style,u=r.compact,h=r.title,d=r.desc,f=Z$(r,$$),p=yC(f,!1);if(u)return o.createElement(aH,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},o.createElement(RC,G$({},p,{width:s,height:l,title:h,desc:d}),this.renderClipPath(),_C(i,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(e=this.props.tabIndex)&&void 0!==e?e:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"application",p.onKeyDown=function(e){t.accessibilityManager.keyboardEvent(e)},p.onFocus=function(){t.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return o.createElement(aH,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},o.createElement("div",G$({className:wr("recharts-wrapper",a),style:oq({position:"relative",cursor:"default",width:s,height:l},c)},m,{ref:function(e){t.container=e}}),o.createElement(RC,G$({},p,{width:s,height:l,title:h,desc:d,style:cq}),this.renderClipPath(),_C(i,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],a&&Y$(r.prototype,a),l&&Y$(r,l),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,l}(o.Component);aq(p,"displayName",e),aq(p,"defaultProps",oq({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),aq(p,"getDerivedStateFromProps",(function(t,e){var n=t.dataKey,r=t.data,i=t.children,o=t.width,a=t.height,s=t.layout,l=t.stackOffset,c=t.margin,u=e.dataStartIndex,h=e.dataEndIndex;if(void 0===e.updateId){var d=vq(t);return oq(oq(oq({},d),{},{updateId:0},f(oq(oq({props:t},d),{},{updateId:0}),e)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(n!==e.prevDataKey||r!==e.prevData||o!==e.prevWidth||a!==e.prevHeight||s!==e.prevLayout||l!==e.prevStackOffset||!ZP(c,e.prevMargin)){var p=vq(t),m={chartX:e.chartX,chartY:e.chartY,isTooltipActive:e.isTooltipActive},g=oq(oq({},mq(e,r,s)),{},{updateId:e.updateId+1}),y=oq(oq(oq({},p),m),g);return oq(oq(oq({},y),f(oq({props:t},y),e)),{},{prevDataKey:n,prevData:r,prevWidth:o,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(!vC(i,e.prevChildren)){var v,b,_,w,x=fC(i,SU),S=x&&null!==(v=null===(b=x.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:u,k=x&&null!==(_=null===(w=x.props)||void 0===w?void 0:w.endIndex)&&void 0!==_?_:h,O=S!==u||k!==h,E=!WP()(r)&&!O?e.updateId:e.updateId+1;return oq(oq({updateId:E},f(oq(oq({props:t},e),{},{updateId:E,dataStartIndex:S,dataEndIndex:k}),e)),{},{prevChildren:i,dataStartIndex:S,dataEndIndex:k})}return null})),aq(p,"renderActiveDot",(function(t,e,n){var r;return r=(0,o.isValidElement)(t)?(0,o.cloneElement)(t,e):$P()(t)?t(e):o.createElement($j,e),o.createElement(UC,{className:"recharts-active-dot",key:n},r)}));var m=(0,o.forwardRef)((function(t,e){return o.createElement(p,G$({},t,{ref:e}))}));return m.displayName=p.displayName,m}({chartName:"LineChart",GraphicalChild:zq,axisComponents:[{axisType:"xAxis",AxisComp:vG},{axisType:"yAxis",AxisComp:CG}],formatAxisMap:function(t,n,r,i,o){var a=t.width,s=t.height,l=t.layout,c=t.children,u=Object.keys(n),h={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},d=!!fC(c,kW);return u.reduce((function(a,s){var c,u,f,p,m,g=n[s],y=g.orientation,v=g.domain,b=g.padding,_=void 0===b?{}:b,w=g.mirror,x=g.reversed,S="".concat(y).concat(w?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var k=v[1]-v[0],O=1/0,E=g.categoricalDomain.sort();if(E.forEach((function(t,e){e>0&&(O=Math.min((t||0)-(E[e-1]||0),O))})),Number.isFinite(O)){var T=O/k,P="vertical"===g.layout?r.height:r.width;if("gap"===g.padding&&(c=T*P/2),"no-gap"===g.padding){var C=RP(t.barCategoryGap,T*P),A=T*P/2;c=A-C-(A-C)/P*C}}}u="xAxis"===i?[r.left+(_.left||0)+(c||0),r.left+r.width-(_.right||0)-(c||0)]:"yAxis"===i?"horizontal"===l?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(c||0),r.top+r.height-(_.bottom||0)-(c||0)]:g.range,x&&(u=[u[1],u[0]]);var j=function(t,n,r){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if("auto"===i)return"radial"===a&&"radiusAxis"===s?{scale:qM(),realScaleType:"band"}:"radial"===a&&"angleAxis"===s?{scale:gL(),realScaleType:"linear"}:"category"===o&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:KM(),realScaleType:"point"}:"category"===o?{scale:qM(),realScaleType:"band"}:{scale:gL(),realScaleType:"linear"};if(kP()(i)){var l="scale".concat(jA()(i));return{scale:(e[l]||KM)(),realScaleType:e[l]?l:"point"}}return $P()(i)?{scale:i}:{scale:KM(),realScaleType:"point"}}(g,o,d),I=j.scale,M=j.realScaleType;I.domain(v).range(u),function(t){var e=t.domain();if(e&&!(e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-KB,o=Math.max(r[0],r[1])+KB,a=t(e[0]),s=t(e[n-1]);(a<i||a>o||s<i||s>o)&&t.domain([e[0],e[n-1]])}}(I);var N=function(t,e){var n=e.realScaleType,r=e.type,i=e.tickCount,o=e.originalDomain,a=e.allowDecimals,s=n||e.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=t.domain();if(!l.length)return null;var c=hB(l,i,a);return t.domain([LF()(c),NF()(c)]),{niceTicks:c}}if(i&&"number"===r){var u=t.domain();return{niceTicks:dB(u,i,a)}}return null}(I,PW(PW({},g),{},{realScaleType:M}));"xAxis"===i?(m="top"===y&&!w||"bottom"===y&&w,f=r.left,p=h[S]-m*g.height):"yAxis"===i&&(m="left"===y&&!w||"right"===y&&w,f=h[S]-m*g.width,p=r.top);var D=PW(PW(PW({},g),N),{},{realScaleType:M,x:f,y:p,scale:I,width:"xAxis"===i?r.width:g.width,height:"yAxis"===i?r.height:g.height});return D.bandSize=rU(D,N),g.hide||"xAxis"!==i?g.hide||(h[S]+=(m?-1:1)*D.width):h[S]+=(m?-1:1)*D.height,PW(PW({},a),{},CW({},s,D))}),{})}}),jG=["x1","y1","x2","y2","key"],IG=["offset"];function MG(t){return MG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MG(t)}function NG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function DG(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?NG(Object(n),!0).forEach((function(e){LG(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NG(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function LG(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=MG(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=MG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==MG(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RG(){return RG=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RG.apply(this,arguments)}function zG(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var FG=function(t){var e=t.fill;if(!e||"none"===e)return null;var n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,l=t.ry;return o.createElement("rect",{x:r,y:i,ry:l,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function BG(t,e){var n;if(o.isValidElement(t))n=o.cloneElement(t,e);else if($P()(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,s=e.y2,l=e.key,c=zG(e,jG),u=yC(c,!1),h=(u.offset,zG(u,IG));n=o.createElement("line",RG({},h,{x1:r,y1:i,x2:a,y2:s,fill:"none",key:l}))}return n}function UG(t){var e=t.x,n=t.width,r=t.horizontal,i=void 0===r||r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map((function(r,o){var a=DG(DG({},t),{},{x1:e,y1:r,x2:e+n,y2:r,key:"line-".concat(o),index:o});return BG(i,a)}));return o.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function VG(t){var e=t.y,n=t.height,r=t.vertical,i=void 0===r||r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map((function(r,o){var a=DG(DG({},t),{},{x1:r,y1:e,x2:r,y2:e+n,key:"line-".concat(o),index:o});return BG(i,a)}));return o.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function WG(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal;if(!(void 0===c||c)||!e||!e.length)return null;var u=l.map((function(t){return Math.round(t+i-i)})).sort((function(t,e){return t-e}));i!==u[0]&&u.unshift(0);var h=u.map((function(t,l){var c=!u[l+1]?i+s-t:u[l+1]-t;if(c<=0)return null;var h=l%e.length;return o.createElement("rect",{key:"react-".concat(l),y:t,x:r,height:c,width:a,stroke:"none",fill:e[h],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return o.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function HG(t){var e=t.vertical,n=void 0===e||e,r=t.verticalFill,i=t.fillOpacity,a=t.x,s=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var h=u.map((function(t){return Math.round(t+a-a)})).sort((function(t,e){return t-e}));a!==h[0]&&h.unshift(0);var d=h.map((function(t,e){var n=!h[e+1]?a+l-t:h[e+1]-t;if(n<=0)return null;var u=e%r.length;return o.createElement("rect",{key:"react-".concat(e),x:t,y:s,width:n,height:c,stroke:"none",fill:r[u],fillOpacity:i,className:"recharts-cartesian-grid-bg"})}));return o.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var $G=function(t,e){var n=t.xAxis,r=t.width,i=t.height,o=t.offset;return HB($q(DG(DG(DG({},sG.defaultProps),n),{},{ticks:$B(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},qG=function(t,e){var n=t.yAxis,r=t.width,i=t.height,o=t.offset;return HB($q(DG(DG(DG({},sG.defaultProps),n),{},{ticks:$B(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},GG={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function KG(t){var e,n,r,i,a,s,l=cH(),c=uH(),u=(0,o.useContext)(nH),h=DG(DG({},t),{},{stroke:null!==(e=t.stroke)&&void 0!==e?e:GG.stroke,fill:null!==(n=t.fill)&&void 0!==n?n:GG.fill,horizontal:null!==(r=t.horizontal)&&void 0!==r?r:GG.horizontal,horizontalFill:null!==(i=t.horizontalFill)&&void 0!==i?i:GG.horizontalFill,vertical:null!==(a=t.vertical)&&void 0!==a?a:GG.vertical,verticalFill:null!==(s=t.verticalFill)&&void 0!==s?s:GG.verticalFill,x:MP(t.x)?t.x:u.left,y:MP(t.y)?t.y:u.top,width:MP(t.width)?t.width:u.width,height:MP(t.height)?t.height:u.height}),d=h.x,f=h.y,p=h.width,m=h.height,g=h.syncWithTicks,y=h.horizontalValues,v=h.verticalValues,b=function(){var t=(0,o.useContext)(JW);return zP(t)}(),_=function(){var t=(0,o.useContext)(tH);return YW()(t,(function(t){return tV()(t.domain,Number.isFinite)}))||zP(t)}();if(!MP(p)||p<=0||!MP(m)||m<=0||!MP(d)||d!==+d||!MP(f)||f!==+f)return null;var w=h.verticalCoordinatesGenerator||$G,x=h.horizontalCoordinatesGenerator||qG,S=h.horizontalPoints,k=h.verticalPoints;if((!S||!S.length)&&$P()(x)){var O=y&&y.length,E=x({yAxis:_?DG(DG({},_),{},{ticks:O?y:_.ticks}):void 0,width:l,height:c,offset:u},!!O||g);UP(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(MG(E),"]")),Array.isArray(E)&&(S=E)}if((!k||!k.length)&&$P()(w)){var T=v&&v.length,P=w({xAxis:b?DG(DG({},b),{},{ticks:T?v:b.ticks}):void 0,width:l,height:c,offset:u},!!T||g);UP(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(MG(P),"]")),Array.isArray(P)&&(k=P)}return o.createElement("g",{className:"recharts-cartesian-grid"},o.createElement(FG,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),o.createElement(UG,RG({},h,{offset:u,horizontalPoints:S,xAxis:b,yAxis:_})),o.createElement(VG,RG({},h,{offset:u,verticalPoints:k,xAxis:b,yAxis:_})),o.createElement(WG,RG({},h,{horizontalPoints:S})),o.createElement(HG,RG({},h,{verticalPoints:k})))}KG.displayName="CartesianGrid";const ZG=t=>{let{children:e,className:n=""}=t;return(0,yt.jsx)("div",{className:`rounded-lg border border-gray-700 ${n}`,children:e})},YG=()=>(0,yt.jsx)(ZG,{className:"p-4 bg-gray-800",children:(0,yt.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[(0,yt.jsx)(dP,{size:48,className:"mb-4"}),(0,yt.jsx)("p",{className:"text-lg",children:"Upload a CSV file to get started"}),(0,yt.jsx)("p",{className:"text-sm mt-2",children:"Your data will be processed locally in the browser"})]})}),XG=t=>{let{data:e,selectedColumns:n,chartIndex:r,activeChartIndex:i,totalCharts:a,onChartClick:s}=t;const[l,c]=(0,o.useState)(1===a?384:2===a?320:256),u=(0,o.useRef)(!1),h=(0,o.useRef)(0),d=(0,o.useRef)(0),f=["#2563eb","#db2777","#16a34a","#ea580c","#8b5cf6"],p=t=>t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",m=t=>{if(!u.current)return;const e=t.clientY-h.current,n=Math.max(200,d.current+e);c(n)},g=()=>{u.current=!1,document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",g)};return(0,yt.jsxs)(ZG,{className:"relative p-4 bg-gray-800 transition-all cursor-pointer hover:bg-gray-750 \n        "+(i===r?"ring-2 ring-blue-500":"hover:ring-1 hover:ring-gray-600"),onClick:()=>s(r),children:[(0,yt.jsxs)("div",{className:"absolute top-2 right-2 px-2 py-1 bg-gray-700 rounded-md text-xs font-medium",children:["Chart ",r+1,i===r&&(0,yt.jsx)("span",{className:"ml-2 text-blue-400",children:"(Selected)"})]}),(0,yt.jsx)("div",{style:{height:`${l}px`},children:(0,yt.jsx)(TC,{width:"100%",height:"100%",children:(0,yt.jsxs)(AG,{data:e,margin:{top:10,right:30,left:0,bottom:0},children:[(0,yt.jsx)(KG,{strokeDasharray:"3 3",stroke:"#374151"}),(0,yt.jsx)(vG,{dataKey:"_timestamp",stroke:"#9ca3af",tick:{fill:"#9ca3af"},tickFormatter:p,type:"number",domain:["dataMin","dataMax"]}),(0,yt.jsx)(CG,{stroke:"#9ca3af",tick:{fill:"#9ca3af"}}),(0,yt.jsx)(CA,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"0.375rem",color:"#f3f4f6"},labelFormatter:p}),(0,yt.jsx)(SU,{dataKey:"_timestamp",height:30,stroke:"#4b5563",tickFormatter:p}),null===n||void 0===n?void 0:n.slice(1).map(((t,e)=>(0,yt.jsx)(zq,{type:"monotone",dataKey:t,stroke:f[e%f.length],dot:!1},t)))]})})}),(0,yt.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-2 cursor-ns-resize bg-transparent hover:bg-gray-600 rounded-b-lg",onMouseDown:t=>{u.current=!0,h.current=t.clientY,d.current=l,document.addEventListener("mousemove",m),document.addEventListener("mouseup",g)}})]})},QG=()=>{const[t,e]=(0,o.useState)([]),[n,r]=(0,o.useState)([]),[i,a]=(0,o.useState)([[]]),[s,l]=(0,o.useState)(1),[c,u]=(0,o.useState)(0),[h,d]=(0,o.useState)(!0),[f,p]=(0,o.useState)({mode:"single",singleColumn:"",yearColumn:"",monthColumn:"",dayColumn:""}),m=(0,o.useCallback)((t=>"single"===f.mode?f.singleColumn?new Date(t[f.singleColumn]).getTime():null:f.yearColumn&&f.monthColumn&&f.dayColumn?new Date(parseInt(t[f.yearColumn]),parseInt(t[f.monthColumn])-1,parseInt(t[f.dayColumn])).getTime():null),[f]),g=(0,o.useCallback)((t=>{const n=new FileReader;n.onload=t=>{const n=t.target.result.split("\n"),i=n[0].split(",").map((t=>t.trim())),o=n.slice(1).filter((t=>t.trim())).map((t=>{const e=t.split(","),n={};return i.forEach(((t,r)=>{const i=parseFloat(e[r]);n[t]=isNaN(i)?e[r]:i})),n}));e(o),r(i),p((t=>({...t,singleColumn:i[0]}))),a(Array(s).fill([i[0]])),u(0)},n.readAsText(t)}),[s]),y=(0,o.useMemo)((()=>t.map((t=>({...t,_timestamp:m(t)})))),[t,m]),v=(0,o.useCallback)((t=>{a((e=>{const n=[...e],r=n[c]||[];return r.includes(t)?n[c]=r.filter((e=>e!==t)):n[c]=[...r,t],n}))}),[c]),b=(0,o.useCallback)((t=>{l(t),a((e=>{const r=Array(t).fill(null);for(let i=0;i<t;i++)r[i]=e[i]||(n[0]?[n[0]]:[]);return r}))}),[n]),_={"3charts":()=>{n.length<2||(b(3),a([[n[0],n[1]],[n[0],n[2]||n[1]],[n[0],n[3]||n[1]]]))},single:()=>{n.length<2||(b(1),a([[n[0],n[1]]]))}};return(0,yt.jsx)("div",{className:"fixed inset-0 bg-gray-900 text-gray-100",children:(0,yt.jsxs)("div",{className:"h-full flex flex-col p-4",children:[(0,yt.jsx)(pP,{onFileUpload:g,hasColumns:n.length>0,isConfigVisible:h,onToggleConfig:()=>d(!h)}),n.length>0&&h&&(0,yt.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,yt.jsx)(gP,{charts:s,onUpdateChartCount:b,onPresetSelected:t=>_[t]()}),(0,yt.jsx)(vP,{columns:n,dateConfig:f,onDateConfigChange:p}),(0,yt.jsx)(_P,{columns:n,selectedColumnsPerChart:i,activeChartIndex:c,onChartSelect:u,onColumnToggle:v,charts:s})]}),(0,yt.jsx)("div",{className:"flex-1 grid grid-cols-1 gap-4 overflow-auto",children:0===t.length?(0,yt.jsx)(YG,{}):Array.from({length:s}).map(((t,e)=>(0,yt.jsx)(XG,{data:y,selectedColumns:i[e],chartIndex:e,activeChartIndex:c,totalCharts:s,onChartClick:u},e)))})]})})},JG=1;function tK(t,e){return Object.freeze({...t,...e})}const eK=(0,o.createContext)(null),nK=eK.Provider;function rK(){const t=(0,o.useContext)(eK);if(null==t)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function iK(){return rK().map}var oK=n(228),aK=n.n(oK);function sK(){return sK=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sK.apply(this,arguments)}function lK(t,e){let{bounds:n,boundsOptions:r,center:i,children:a,className:s,id:l,placeholder:c,style:u,whenReady:h,zoom:d,...f}=t;const[p]=(0,o.useState)({className:s,id:l,style:u}),[m,g]=(0,o.useState)(null);(0,o.useImperativeHandle)(e,(()=>m?.map??null),[m]);const y=(0,o.useCallback)((t=>{if(null!==t&&null===m){const e=new oK.Map(t,f);null!=i&&null!=d?e.setView(i,d):null!=n&&e.fitBounds(n,r),null!=h&&e.whenReady(h),g(function(t){return Object.freeze({__version:JG,map:t})}(e))}}),[]);(0,o.useEffect)((()=>()=>{m?.map.remove()}),[m]);const v=m?o.createElement(nK,{value:m},a):c??null;return o.createElement("div",sK({},p,{ref:y}),v)}const cK=(0,o.forwardRef)(lK);function uK(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function hK(t,e){return null==e?function(e,n){const r=(0,o.useRef)();return r.current||(r.current=t(e,n)),r}:function(n,r){const i=(0,o.useRef)();i.current||(i.current=t(n,r));const a=(0,o.useRef)(n),{instance:s}=i.current;return(0,o.useEffect)((function(){a.current!==n&&(e(s,n,a.current),a.current=n)}),[s,n,r]),i}}function dK(t){function e(e,n){const{instance:r,context:i}=t(e).current;return(0,o.useImperativeHandle)(n,(()=>r)),null==e.children?null:o.createElement(nK,{value:i},e.children)}return(0,o.forwardRef)(e)}const fK=hK((function(t,e){let{children:n,...r}=t;const i=new oK.Control.Layers(void 0,void 0,r);return uK(i,tK(e,{layersControl:i}))}),(function(t,e,n){e.collapsed!==n.collapsed&&(!0===e.collapsed?t.collapse():t.expand())}));var pK;const mK=dK((pK=fK,function(t){const e=rK(),n=pK(t,e),{instance:r}=n.current,i=(0,o.useRef)(t.position),{position:a}=t;return(0,o.useEffect)((function(){return r.addTo(e.map),function(){r.remove()}}),[e.map,r]),(0,o.useEffect)((function(){null!=a&&a!==i.current&&(r.setPosition(a),i.current=a)}),[r,a]),n}));function gK(t){return function(e){const n=rK(),r=(0,o.useRef)(e),[i,a]=(0,o.useState)(null),{layersControl:s,map:l}=n,c=(0,o.useCallback)((e=>{null!=s&&(r.current.checked&&l.addLayer(e),t(s,e,r.current.name),a(e))}),[s,l]),u=(0,o.useCallback)((t=>{s?.removeLayer(t),a(null)}),[s]),h=(0,o.useMemo)((()=>tK(n,{layerContainer:{addLayer:c,removeLayer:u}})),[n,c,u]);return(0,o.useEffect)((()=>{null!==i&&r.current!==e&&(!0!==e.checked||null!=r.current.checked&&!1!==r.current.checked?!0!==r.current.checked||null!=e.checked&&!1!==e.checked||l.removeLayer(i):l.addLayer(i),r.current=e)})),e.children?o.createElement(nK,{value:h},e.children):null}}function yK(t,e){const n=(0,o.useRef)(e);(0,o.useEffect)((function(){e!==n.current&&null!=t.attributionControl&&(null!=n.current&&t.attributionControl.removeAttribution(n.current),null!=e&&t.attributionControl.addAttribution(e)),n.current=e}),[t,e])}function vK(t,e){const n=(0,o.useRef)();(0,o.useEffect)((function(){return null!=e&&t.instance.on(e),n.current=e,function(){null!=n.current&&t.instance.off(n.current),n.current=null}}),[t,e])}function bK(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function _K(t){return function(e){const n=rK(),r=t(bK(e,n),n);return yK(n.map,e.attribution),vK(r.current,e.eventHandlers),function(t,e){(0,o.useEffect)((function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}}),[e,t])}(r.current,n),r}}mK.BaseLayer=gK((function(t,e,n){t.addBaseLayer(e,n)})),mK.Overlay=gK((function(t,e,n){t.addOverlay(e,n)}));const wK=function(t){function e(e,n){const{instance:r}=t(e).current;return(0,o.useImperativeHandle)(n,(()=>r)),null}return(0,o.forwardRef)(e)}(_K(hK((function(t,e){let{url:n,...r}=t;return uK(new oK.TileLayer(n,bK(r,e)),e)}),(function(t,e,n){!function(t,e,n){const{opacity:r,zIndex:i}=e;null!=r&&r!==n.opacity&&t.setOpacity(r),null!=i&&i!==n.zIndex&&t.setZIndex(i)}(t,e,n);const{url:r}=e;null!=r&&r!==n.url&&t.setUrl(r)}))));const xK=function(t,e){return dK(_K(hK(t,e)))}((function(t,e){let{position:n,...r}=t;const i=new oK.Marker(n,r);return uK(i,tK(e,{overlayContainer:i}))}),(function(t,e,n){e.position!==n.position&&t.setLatLng(e.position),null!=e.icon&&e.icon!==n.icon&&t.setIcon(e.icon),null!=e.zIndexOffset&&e.zIndexOffset!==n.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),null!=e.opacity&&e.opacity!==n.opacity&&t.setOpacity(e.opacity),null!=t.dragging&&e.draggable!==n.draggable&&(!0===e.draggable?t.dragging.enable():t.dragging.disable())})),SK=function(t,e){const n=function(t,e){return function(n,r){const i=rK(),o=t(bK(n,i),i);return yK(i.map,n.attribution),vK(o.current,n.eventHandlers),e(o.current,i,n,r),o}}(hK(t),e);return function(t){function e(e,n){const[r,i]=(0,o.useState)(!1),{instance:a}=t(e,i).current;(0,o.useImperativeHandle)(n,(()=>a)),(0,o.useEffect)((function(){r&&a.update()}),[a,r,e.children]);const s=a._contentNode;return s?(0,l.createPortal)(e.children,s):null}return(0,o.forwardRef)(e)}(n)}((function(t,e){return uK(new oK.Popup(t,e.overlayContainer),e)}),(function(t,e,n,r){let{position:i}=n;(0,o.useEffect)((function(){const{instance:n}=t;function o(t){t.popup===n&&(n.update(),r(!0))}function a(t){t.popup===n&&r(!1)}return e.map.on({popupopen:o,popupclose:a}),null==e.overlayContainer?(null!=i&&n.setLatLng(i),n.openOn(e.map)):e.overlayContainer.bindPopup(n),function(){e.map.off({popupopen:o,popupclose:a}),e.overlayContainer?.unbindPopup(),e.map.removeLayer(n)}}),[t,e,r,i])}));n(9e3);const kK=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){const r=iK();return aK().Control.MapControlsControl=aK().Control.extend({onAdd:function(){const t=aK().DomUtil.create("div","leaflet-custom-control");return aK().DomEvent.disableClickPropagation(t),aK().DomEvent.disableScrollPropagation(t),t}}),o.useEffect((()=>{const t=new(aK().Control.MapControlsControl)({position:"topright"});return t.addTo(r),()=>{t.remove()}}),[r]),(0,yt.jsx)(t,{...e,...n})}}((t=>{let{onBaseLayerChange:e,onElevationToggle:n,onFindSteepPoints:r,isLoading:i,showElevation:a}=t;const s=iK(),[l,c]=(0,o.useState)(5);return(0,yt.jsx)("div",{className:"map-controls",children:(0,yt.jsxs)("div",{className:"map-controls-inner",children:[(0,yt.jsxs)("div",{className:"control-section",children:[(0,yt.jsx)("h3",{children:"Map Layers"}),(0,yt.jsxs)("div",{className:"control-row",children:[(0,yt.jsx)("label",{htmlFor:"base-layer-select",children:"Base Map:"}),(0,yt.jsxs)("select",{id:"base-layer-select",onChange:t=>{const n=t.target.value;e(n)},className:"control-select",children:[(0,yt.jsx)("option",{value:"osm",children:"OpenStreetMap"}),(0,yt.jsx)("option",{value:"satellite",children:"Satellite"}),(0,yt.jsx)("option",{value:"terrain",children:"Terrain"})]})]}),(0,yt.jsx)("div",{className:"control-row",children:(0,yt.jsxs)("label",{htmlFor:"elevation-toggle",className:"checkbox-label",children:[(0,yt.jsx)("input",{id:"elevation-toggle",type:"checkbox",checked:a,onChange:()=>{n(!a)},className:"control-checkbox"}),"Show Elevation"]})})]}),(0,yt.jsxs)("div",{className:"control-section",children:[(0,yt.jsx)("h3",{children:"Steep Points"}),(0,yt.jsxs)("div",{className:"control-row",children:[(0,yt.jsx)("label",{htmlFor:"steep-count",children:"Number of points:"}),(0,yt.jsx)("input",{id:"steep-count",type:"number",min:"1",max:"20",value:l,onChange:t=>c(parseInt(t.target.value)||5),className:"control-input"})]}),(0,yt.jsx)("button",{onClick:()=>{r(l)},disabled:i,className:"find-btn",children:i?"Searching...":"Find Steep Points"})]}),(0,yt.jsx)("div",{className:"control-section",children:(0,yt.jsxs)("div",{className:"control-info",children:[(0,yt.jsxs)("p",{children:["Current zoom: ",s.getZoom()]}),(0,yt.jsx)("p",{children:"Showing Perth region 4x4 trails"})]})})]})})})),OK=(t,e,n,r)=>{const i=[];for(let o=t;o<=n;o+=.01)for(let t=e;t<=r;t+=.01){let e=100;e+=Math.sin(10*o)*Math.cos(15*t)*100,e+=50*Math.sin(20*o+15*t);const n=Math.sqrt(Math.pow(o- -32.1,2)+Math.pow(t-116.05,2)),r=Math.sqrt(Math.pow(o- -31.85,2)+Math.pow(t-116.2,2));n<.2&&(e+=1e3*(.2-n)),r<.15&&(e+=1200*(.15-r)),e=Math.max(0,e),i.push({lat:o,lng:t,elevation:e})}return i},EK={},TK=t=>{const e=`${t.getSouth().toFixed(2)}_${t.getWest().toFixed(2)}_${t.getNorth().toFixed(2)}_${t.getEast().toFixed(2)}`;return EK[e]},PK=(t,e)=>{const n=`${t.getSouth().toFixed(2)}_${t.getWest().toFixed(2)}_${t.getNorth().toFixed(2)}_${t.getEast().toFixed(2)}`;EK[n]=e;const r=Object.keys(EK);r.length>10&&delete EK[r[0]]},CK=(t,e,n)=>{if(0===n)return 0;return Math.abs(e-t)/n*100},AK=(t,e)=>e.filter((e=>{if(e===t)return!1;return Math.sqrt(Math.pow(e.lat-t.lat,2)+Math.pow(e.lng-t.lng,2))<.01})),jK="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",IK=new(aK().Icon)({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});delete aK().Icon.Default.prototype._getIconUrl,aK().Icon.Default.mergeOptions({iconRetinaUrl:jK,iconUrl:jK,shadowUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC"});const MK=[-31.9523,115.8613],NK=t=>{let{onMoveEnd:e,onElevationDataLoad:n}=t;const r=iK();return(0,o.useEffect)((()=>{const t=async()=>{const t=r.getBounds();e(t);try{const e=await(async t=>{if(!t)throw new Error("No bounds provided for elevation data fetch");const e=TK(t);if(e)return console.log("Using cached elevation data"),e;await new Promise((t=>setTimeout(t,500)));const n=t.getSouth(),r=t.getWest(),i=t.getNorth(),o=t.getEast(),a=OK(n,r,i,o);return PK(t,a),a})(t);n(e)}catch(i){console.error("Error loading elevation data:",i)}};return r.on("moveend",t),t(),()=>{r.off("moveend",t)}}),[r,e,n]),null},DK=t=>{let{data:e,visible:n}=t;const r=iK(),i=(0,o.useRef)(null);return(0,o.useEffect)((()=>{if(!e||!n)return void(i.current&&(r.removeLayer(i.current),i.current=null));const t=aK().heatLayer(e.map((t=>[t.lat,t.lng,t.elevation/10])),{radius:15,blur:20,maxZoom:17,gradient:{.4:"blue",.6:"lime",.8:"yellow",1:"red"}});return r.addLayer(t),i.current=t,()=>{i.current&&r.removeLayer(i.current)}}),[r,e,n]),null},LK=()=>{const[t,e]=(0,o.useState)(null),[n,r]=(0,o.useState)("osm"),[i,a]=(0,o.useState)(!0),[s,l]=(0,o.useState)([]),[c,u]=(0,o.useState)([]),[h,d]=(0,o.useState)(!1),f={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_MAPBOX_TOKEN||"pk.eyJ1IjoibHVrZWJyYXlwcm8iLCJhIjoiY2tqdzdseHkxMnIxYjJycWxveTVkaXl1MyJ9.NZWYsJLv4nUUqTgpOOETNA";return(0,yt.jsx)("div",{className:"trail-finder-container",children:(0,yt.jsxs)(cK,{center:MK,zoom:10,scrollWheelZoom:!0,className:"trail-finder-map",children:[(0,yt.jsxs)(mK,{position:"topright",children:[(0,yt.jsx)(mK.BaseLayer,{name:"OpenStreetMap",checked:"osm"===n,children:(0,yt.jsx)(wK,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}),(0,yt.jsx)(mK.BaseLayer,{name:"Satellite",checked:"satellite"===n,children:(0,yt.jsx)(wK,{attribution:'\xa9 <a href="https://www.mapbox.com/">Mapbox</a>',url:`https://api.mapbox.com/styles/v1/mapbox/satellite-v9/tiles/{z}/{x}/{y}?access_token=${f}`})}),(0,yt.jsx)(mK.BaseLayer,{name:"Terrain",checked:"terrain"===n,children:(0,yt.jsx)(wK,{attribution:'\xa9 <a href="https://www.mapbox.com/">Mapbox</a>',url:`https://api.mapbox.com/styles/v1/mapbox/outdoors-v11/tiles/{z}/{x}/{y}?access_token=${f}`})}),(0,yt.jsx)(mK.Overlay,{name:"Elevation",checked:i,children:(0,yt.jsx)(DK,{data:c,visible:i})})]}),s.map(((t,e)=>(0,yt.jsx)(xK,{position:[t.lat,t.lng],icon:IK,children:(0,yt.jsx)(SK,{children:(0,yt.jsxs)("div",{className:"steep-point-popup",children:[(0,yt.jsxs)("h3",{children:["Steep Point ",e+1]}),(0,yt.jsxs)("p",{children:["Elevation: ",Math.round(t.elevation),"m"]}),(0,yt.jsxs)("p",{children:["Gradient: ",t.gradient.toFixed(1),"%"]}),(0,yt.jsxs)("p",{children:["Location: ",t.lat.toFixed(5),", ",t.lng.toFixed(5)]})]})})},`steep-point-${e}`))),(0,yt.jsx)(NK,{onMoveEnd:t=>{e(t)},onElevationDataLoad:t=>{u(t)}}),(0,yt.jsx)(kK,{onBaseLayerChange:t=>{r(t)},onElevationToggle:t=>{a(t)},onFindSteepPoints:async e=>{if(t&&c.length){d(!0);try{const n=await async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2?arguments[2]:void 0;if(!t||0===t.length)throw new Error("No elevation data available");if(!n)throw new Error("No map bounds provided");const r=t.filter((t=>t.lat>=n.getSouth()&&t.lat<=n.getNorth()&&t.lng>=n.getWest()&&t.lng<=n.getEast()));if(0===r.length)throw new Error("No elevation data points within current bounds");const i=[];for(let a=0;a<r.length;a++){const t=r[a],e=AK(t,r);if(0===e.length)continue;let n=0;for(const r of e){const{northSouth:e,eastWest:i}=(o=t.lat,{northSouth:111e3*Math.abs(t.lat-r.lat),eastWest:111e3*Math.abs(t.lng-r.lng)*Math.cos(o*Math.PI/180)}),a=Math.sqrt(e*e+i*i),s=CK(t.elevation,r.elevation,a);n=Math.max(n,s)}i.push({...t,gradient:n})}var o;return i.sort(((t,e)=>e.gradient-t.gradient)).slice(0,e)}(c,e,t);l(n)}catch(n){console.error("Error finding steep points:",n)}finally{d(!1)}}else console.warn("Cannot find steep points: No map bounds or elevation data available")},isLoading:h,showElevation:i})]})})},RK=t=>{let{isAuthenticated:e}=t;const[n,r]=(0,o.useState)([]),[i,a]=(0,o.useState)(null);(0,o.useEffect)((()=>{e&&s()}),[e]);const s=async()=>{if(e)try{const t=function(t,e){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e instanceof uE&&n.push(e),n=n.concat(i),function(t){const e=t.filter((t=>t instanceof fE)).length,n=t.filter((t=>t instanceof dE)).length;if(e>1||e>0&&n>0)throw new vv(yv.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)t=a._apply(t);return t}(IO(jE,"meetingNotes"),function(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=lE("orderBy",t);return pE._create(n,e)}("createdAt","desc")),e=(await function(t){t=OO(t,CO);const e=OO(t.firestore,DO),n=LO(e),r=new EE(e);return cE(t._query),vO(n,t._query).then((n=>new SE(e,r,t,n)))}(t)).docs.map((t=>({id:t.id,...t.data()})));r(e)}catch(t){console.error("Error loading meeting history:",t)}},l=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),c=t=>{const e=Object.values(t.checkboxes||{}),n=e.filter(Boolean).length;return e.length>0?Math.round(n/e.length*100):0};return(0,yt.jsxs)("div",{className:"meeting-history",children:[(0,yt.jsx)("h2",{children:"Meeting History"}),0===n.length?(0,yt.jsx)("div",{className:"empty-state",children:(0,yt.jsx)("p",{children:"No meeting notes saved yet."})}):(0,yt.jsxs)("div",{className:"history-content",children:[(0,yt.jsx)("div",{className:"meetings-list",children:n.map((t=>(0,yt.jsxs)("div",{className:"meeting-card "+((null===i||void 0===i?void 0:i.id)===t.id?"selected":""),onClick:()=>a(t),children:[(0,yt.jsxs)("div",{className:"meeting-card-header",children:[(0,yt.jsx)("h3",{children:t.title}),(0,yt.jsx)("span",{className:"meeting-date",children:l(t.date)})]}),(0,yt.jsxs)("div",{className:"meeting-card-info",children:[(0,yt.jsxs)("div",{className:"completion-rate",children:["Completion: ",c(t),"%"]}),(0,yt.jsxs)("div",{className:"meeting-meta",children:[Object.keys(t.textFields||{}).length," notes sections"]})]})]},t.id)))}),i&&(0,yt.jsxs)("div",{className:"meeting-details",children:[(0,yt.jsxs)("div",{className:"meeting-details-header",children:[(0,yt.jsx)("h3",{children:i.title}),(0,yt.jsx)("span",{className:"meeting-date",children:l(i.date)})]}),(0,yt.jsxs)("div",{className:"meeting-details-content",children:[(0,yt.jsxs)("div",{className:"checklist-review",children:[(0,yt.jsx)("h4",{children:"Checklist Items"}),Object.entries(i.checkboxes||{}).map((t=>{let[e,n]=t;return(0,yt.jsxs)("div",{className:"checkbox-review-item",children:[(0,yt.jsx)("span",{className:"checkbox-status "+(n?"completed":"incomplete"),children:n?"\u2713":"\u25cb"}),(0,yt.jsx)("span",{className:"checkbox-text",children:e})]},e)}))]}),(0,yt.jsxs)("div",{className:"notes-review",children:[(0,yt.jsx)("h4",{children:"Notes"}),Object.entries(i.textFields||{}).map((t=>{let[e,n]=t;return n&&(0,yt.jsxs)("div",{className:"note-review-item",children:[(0,yt.jsxs)("h5",{children:[e,":"]}),(0,yt.jsx)("p",{children:n})]},e)}))]})]})]})]})]})},zK=()=>{const[t,e]=(0,o.useState)(""),[n,r]=(0,o.useState)({}),[i,a]=(0,o.useState)("new"),[s,l]=(0,o.useState)(!1),[c,u]=(0,o.useState)(!0),[h,d]=(0,o.useState)(!1),f={BacklogRefinementMeeting:{title:"Backlog Refinement Meeting",checkboxes:[{text:"Product Overview Reviewed, any updates?",url:"https://mineralresources.sharepoint.com/:x:/r/sites/GIS-Team/Shared%20Documents/02%20Projects%20and%20Products%20Management/ProductOverview.xlsx?d=we59499c472494d92be151d0e6c188e50&csf=1&web=1&e=du6hZM"},{text:"Ideation Board Reviewed, any User Stories to create for next sprint?",url:"https://miro.com/app/board/uXjVIy1qHOg=/?share_link_id=6224884884com"},{text:"Feedback Form Review",url:"https://mineralresources.sharepoint.com/:x:/r/sites/GIS-Team/Shared%20Documents/Spatial%20Services%20MinRes%20Mapper%20Feedback.xlsx?d=w5c2ed4a98f394c3f96fdb17461aa24b7&csf=1&web=1&e=nRLveb"},{text:"Backlog List, anything need to be staged for Monday?",url:"https://dev.azure.com/MineralResourcesProjects/GIS%20Projects/_backlogs/backlog/MinRes%20Spatial%20Products/Stories?showParents=false"},{text:"Next Sprint Overview, anything we can remove?",url:"https://dev.azure.com/MineralResourcesProjects/GIS%20Projects/_sprints/backlog/MinRes%20Spatial%20Products/GIS%20Projects/Spatial%20Services/Sprint%2014"},{text:"Current Sprint Reference if needed",url:"https://dev.azure.com/MineralResourcesProjects/GIS%20Projects/_sprints/backlog/MinRes%20Spatial%20Products/GIS%20Projects/Spatial%20Services/Sprint%2013"}],textFields:["Sprint Names","Sprint Goal","Stories to Create","Action Items","Blockers/Issues","Next Steps"]},RetrospectiveMeeting:{title:"Sprint Retrospective",checkboxes:[{text:"What went well discussed"},{text:"What could improve identified"},{text:"Action items defined"},{text:"Team agreements updated"},{text:"Next sprint planning completed"}],textFields:["Sprint Name","What Went Well","What Could Improve","Action Items","Team Agreements","Retrospective Notes"]},PlanningMeeting:{title:"Retrospective and Sprint Planning",checkboxes:[{text:"Pleasantries exchanged"},{text:"Devops Retrospective"},{text:"Actions added to spreadsheet"},{text:"Previous sprint recap- points, rollovers"},{text:"User story estimation"},{text:"Total point review"},{text:"Remove items if needed"},{text:"Team commitment obtained"}],textFields:["Sprint Names","Sprint Goal","Key Risks","Stories to Create"]},BlankMeeting:{title:"Standard Meeting Template",checkboxes:[{text:"Pleasantries exchanged"},{text:"Goal discussed"},{text:"Actions Assigned"}],textFields:["Topic","Attendees","Actions","Important Notes"]}};(0,o.useEffect)((()=>{document.body.classList.add("meeting-notes-active"),document.documentElement.classList.add("meeting-notes-active");const t=document.getElementById("root");return t&&t.classList.add("meeting-notes-active"),()=>{document.body.classList.remove("meeting-notes-active"),document.documentElement.classList.remove("meeting-notes-active"),t&&t.classList.remove("meeting-notes-active")}}),[]);const p=()=>{e(""),r({})};return h?(0,yt.jsxs)("div",{className:"meeting-notes-container",children:[(0,yt.jsxs)("header",{className:"meeting-notes-header",children:[(0,yt.jsxs)("div",{className:"header-content",children:[(0,yt.jsx)("h1",{children:"Meeting Notes"}),(0,yt.jsxs)("div",{className:"auth-status",children:[(0,yt.jsx)("span",{className:"auth-indicator",children:"\u2713 Authenticated"}),(0,yt.jsx)("button",{className:"logout-button",onClick:()=>{d(!1),e(""),r({}),a("new"),u(!0)},children:"Logout"})]})]}),(0,yt.jsxs)("nav",{className:"tab-navigation",children:[(0,yt.jsx)("button",{className:"tab-button "+("new"===i?"active":""),onClick:()=>a("new"),children:"New Meeting"}),(0,yt.jsx)("button",{className:"tab-button "+("history"===i?"active":""),onClick:()=>a("history"),children:"Meeting History"})]})]}),"new"===i&&(0,yt.jsx)("div",{className:"new-meeting-section",children:t?(0,yt.jsxs)("div",{className:"meeting-template",children:[(0,yt.jsxs)("div",{className:"template-header",children:[(0,yt.jsx)("button",{className:"back-button",onClick:p,children:"\u2190 Back to Templates"}),(0,yt.jsx)("h2",{children:f[t].title}),(0,yt.jsxs)("div",{className:"date-input-container",children:[(0,yt.jsx)("label",{htmlFor:"meeting-date",children:"Meeting Date:"}),(0,yt.jsx)("input",{id:"meeting-date",type:"date",value:n.date||"",onChange:t=>{return e=t.target.value,void r((t=>({...t,date:e})));var e},className:"date-input"})]})]}),(0,yt.jsxs)("div",{className:"template-content",children:[(0,yt.jsxs)("div",{className:"checklist-section",children:[(0,yt.jsx)("h3",{children:"Checklist"}),(0,yt.jsx)("div",{className:"checkbox-grid",children:f[t].checkboxes.map(((t,e)=>{var i;const o=(t=>"string"===typeof t?t:t.text)(t),a=(t=>"object"===typeof t&&t.url?t.url:null)(t);return(0,yt.jsxs)("label",{className:"checkbox-item",children:[(0,yt.jsx)("input",{type:"checkbox",checked:(null===(i=n.checkboxes)||void 0===i?void 0:i[o])||!1,onChange:t=>{return e=o,n=t.target.checked,void r((t=>({...t,checkboxes:{...t.checkboxes,[e]:n}})));var e,n}}),(0,yt.jsxs)("div",{className:"checkbox-content",children:[(0,yt.jsx)("span",{className:"checkbox-label",children:o}),a&&(0,yt.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"checkbox-link",onClick:t=>t.stopPropagation(),children:"View Link"})]})]},e)}))})]}),(0,yt.jsxs)("div",{className:"notes-section",children:[(0,yt.jsx)("h3",{children:"Notes"}),(0,yt.jsx)("div",{className:"text-fields",children:f[t].textFields.map(((t,e)=>{var i;return(0,yt.jsxs)("div",{className:"text-field-container",children:[(0,yt.jsxs)("label",{htmlFor:`field-${e}`,className:"field-label",children:[t,":"]}),(0,yt.jsx)("textarea",{id:`field-${e}`,value:(null===(i=n.textFields)||void 0===i?void 0:i[t])||"",onChange:e=>((t,e)=>{r((n=>({...n,textFields:{...n.textFields,[t]:e}})))})(t,e.target.value),className:"text-field",rows:"4",placeholder:`Enter ${t.toLowerCase()}...`})]},e)}))})]})]}),(0,yt.jsx)("div",{className:"template-actions",children:(0,yt.jsx)("button",{className:"save-button",onClick:async()=>{if(h)if(t&&n.date){l(!0);try{await function(t,e){const n=OO(t.firestore,DO),r=MO(t),i=bE(t.converter,e);return TE(n,[ZO(KO(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,mw.exists(!1))]).then((()=>r))}(IO(jE,"meetingNotes"),{...n,createdAt:new Date,timestamp:Date.now()}),alert("Meeting notes saved successfully!"),p()}catch(e){console.error("Error saving meeting notes:",e),alert("Error saving meeting notes")}finally{l(!1)}}else alert("Please select a template and date")},disabled:s,children:s?"Saving...":"Save Meeting Notes"})})]}):(0,yt.jsxs)("div",{className:"template-selection",children:[(0,yt.jsx)("h2",{children:"Select Meeting Template"}),(0,yt.jsx)("div",{className:"template-grid",children:Object.entries(f).map((t=>{let[n,i]=t;return(0,yt.jsxs)("div",{className:"template-card",onClick:()=>(t=>{if(!h)return;e(t);const n=f[t],i={templateKey:t,title:n.title,checkboxes:n.checkboxes.reduce(((t,e)=>(t["string"===typeof e?e:e.text]=!1,t)),{}),textFields:n.textFields.reduce(((t,e)=>(t[e]="",t)),{}),date:(new Date).toISOString().split("T")[0]};r(i)})(n),children:[(0,yt.jsx)("h3",{children:i.title}),(0,yt.jsxs)("p",{children:[i.checkboxes.length," checklist items"]}),(0,yt.jsxs)("p",{children:[i.textFields.length," note sections"]})]},n)}))})]})}),"history"===i&&(0,yt.jsx)(RK,{isAuthenticated:h})]}):(0,yt.jsxs)("div",{className:"meeting-notes-container",children:[(0,yt.jsxs)("div",{className:"auth-header",children:[(0,yt.jsx)("h1",{children:"Meeting Notes"}),(0,yt.jsx)("p",{children:"Please authenticate to access meeting notes"})]}),c&&(0,yt.jsx)(LE,{onClose:()=>u(!1),onAuthenticated:()=>d(!0)})]})},FK=()=>(0,yt.jsx)(dt,{children:(0,yt.jsxs)(ct,{children:[(0,yt.jsx)(st,{path:"/",element:(0,yt.jsx)(Mt,{})}),(0,yt.jsx)(st,{path:"SecretSanta",element:(0,yt.jsx)(br,{})}),(0,yt.jsx)(st,{path:"/Chatbot",element:(0,yt.jsx)(ir,{})}),(0,yt.jsx)(st,{path:"/Chat2",element:(0,yt.jsx)(lr,{})}),(0,yt.jsx)(st,{path:"/rates",element:(0,yt.jsx)(hP,{})}),(0,yt.jsx)(st,{path:"/charter",element:(0,yt.jsx)(QG,{})}),(0,yt.jsx)(st,{path:"/trailfinder",element:(0,yt.jsx)(LK,{})}),(0,yt.jsx)(st,{path:"/meeting_notes",element:(0,yt.jsx)(zK,{})}),(0,yt.jsx)(st,{path:"*",element:(0,yt.jsx)("h1",{children:"404 Not Found, what's your problem bro ?"})})]})}),BK=t=>{t&&t instanceof Function&&n.e(453).then(n.bind(n,6453)).then((e=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=e;n(t),r(t),i(t),o(t),a(t)}))};s.createRoot(document.getElementById("root")).render((0,yt.jsx)(o.StrictMode,{children:(0,yt.jsx)(FK,{})})),BK()})()})();
//# sourceMappingURL=main.eb0e8c7f.js.map